(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var At,w,sr,Le,_s,rr,Ln,ir,Ke={},or=[],Jr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vn=Array.isArray;function be(t,e){for(var n in e)t[n]=e[n];return t}function ar(t){var e=t.parentNode;e&&e.removeChild(t)}function xe(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?At.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return at(t,o,r,s,null)}function at(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++sr};return s==null&&w.vnode!=null&&w.vnode(i),i}function Kr(){return{current:null}}function te(t){return t.children}function me(t,e){this.props=t,this.context=e}function ft(t,e){if(e==null)return t.__?ft(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?ft(t):null}function cr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return cr(t)}}function Mn(t){(!t.__d&&(t.__d=!0)&&Le.push(t)&&!Ht.__r++||_s!==w.debounceRendering)&&((_s=w.debounceRendering)||rr)(Ht)}function Ht(){var t,e,n,r,s,i,o,a,c;for(Le.sort(Ln);t=Le.shift();)t.__d&&(e=Le.length,r=void 0,s=void 0,i=void 0,a=(o=(n=t).__v).__e,(c=n.__P)&&(r=[],s=[],(i=be({},o)).__v=o.__v+1,ns(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??ft(o),o.__h,s),fr(r,o,s),o.__e!=a&&cr(o)),Le.length>e&&Le.sort(Ln));Ht.__r=0}function ur(t,e,n,r,s,i,o,a,c,l,d){var u,k,S,m,I,q,V,Z,z,F=0,$=r&&r.__k||or,M=$.length,K=M,f=e.length;for(n.__k=[],u=0;u<f;u++)(m=n.__k[u]=(m=e[u])==null||typeof m=="boolean"||typeof m=="function"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?at(null,m,null,null,m):vn(m)?at(te,{children:m},null,null,null):m.__b>0?at(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null?(m.__=n,m.__b=n.__b+1,(Z=Gr(m,$,V=u+F,K))===-1?S=Ke:(S=$[Z]||Ke,$[Z]=void 0,K--),ns(t,m,S,s,i,o,a,c,l,d),I=m.__e,(k=m.ref)&&S.ref!=k&&(S.ref&&ss(S.ref,null,m),d.push(k,m.__c||I,m)),I!=null&&(q==null&&(q=I),(z=S===Ke||S.__v===null)?Z==-1&&F--:Z!==V&&(Z===V+1?F++:Z>V?K>f-V?F+=Z-V:F--:F=Z<V&&Z==V-1?Z-V:0),V=u+F,typeof m.type!="function"||Z===V&&S.__k!==m.__k?typeof m.type=="function"||Z===V&&!z?m.__d!==void 0?(c=m.__d,m.__d=void 0):c=I.nextSibling:c=dr(t,I,c):c=lr(m,c,t),typeof n.type=="function"&&(n.__d=c))):(S=$[u])&&S.key==null&&S.__e&&(S.__e==c&&(S.__=r,c=ft(S)),jn(S,S,!1),$[u]=null);for(n.__e=q,u=M;u--;)$[u]!=null&&(typeof n.type=="function"&&$[u].__e!=null&&$[u].__e==n.__d&&(n.__d=$[u].__e.nextSibling),jn($[u],$[u]))}function lr(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?lr(r,e,n):dr(n,r.__e,e));return e}function ke(t,e){return e=e||[],t==null||typeof t=="boolean"||(vn(t)?t.some(function(n){ke(n,e)}):e.push(t)),e}function dr(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function Gr(t,e,n,r){var s=t.key,i=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&s==c.key&&i===c.type)return n;if(r>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&s==c.key&&i===c.type)return o;o--}if(a<e.length){if((c=e[a])&&s==c.key&&i===c.type)return a;a++}}return-1}function Yr(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||qt(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||qt(t,i,e[i],n[i],r)}function gs(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Jr.test(e)?n:n+"px"}function qt(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||gs(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||gs(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?vs:ys,i)):t.removeEventListener(e,i?vs:ys,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function ys(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(w.event?w.event(t):t)}function vs(t){return this.l[t.type+!0](w.event?w.event(t):t)}function ns(t,e,n,r,s,i,o,a,c,l){var d,u,k,S,m,I,q,V,Z,z,F,$,M,K,f,_=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(d=w.__b)&&d(e);e:if(typeof _=="function")try{if(V=e.props,Z=(d=_.contextType)&&r[d.__c],z=d?Z?Z.props.value:d.__:r,n.__c?q=(u=e.__c=n.__c).__=u.__E:("prototype"in _&&_.prototype.render?e.__c=u=new _(V,z):(e.__c=u=new me(V,z),u.constructor=_,u.render=ei),Z&&Z.sub(u),u.props=V,u.state||(u.state={}),u.context=z,u.__n=r,k=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),_.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=be({},u.__s)),be(u.__s,_.getDerivedStateFromProps(V,u.__s))),S=u.props,m=u.state,u.__v=e,k)_.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(_.getDerivedStateFromProps==null&&V!==S&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(V,z),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(V,u.__s,z)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(u.props=V,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(T){T&&(T.__=e)}),F=0;F<u._sb.length;F++)u.__h.push(u._sb[F]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(V,u.__s,z),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(S,m,I)})}if(u.context=z,u.props=V,u.__P=t,u.__e=!1,$=w.__r,M=0,"prototype"in _&&_.prototype.render){for(u.state=u.__s,u.__d=!1,$&&$(e),d=u.render(u.props,u.state,u.context),K=0;K<u._sb.length;K++)u.__h.push(u._sb[K]);u._sb=[]}else do u.__d=!1,$&&$(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++M<25);u.state=u.__s,u.getChildContext!=null&&(r=be(be({},r),u.getChildContext())),k||u.getSnapshotBeforeUpdate==null||(I=u.getSnapshotBeforeUpdate(S,m)),ur(t,vn(f=d!=null&&d.type===te&&d.key==null?d.props.children:d)?f:[f],e,n,r,s,i,o,a,c,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),q&&(u.__E=u.__=null)}catch(T){e.__v=null,(c||i!=null)&&(e.__e=a,e.__h=!!c,i[i.indexOf(a)]=null),w.__e(T,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Xr(n.__e,e,n,r,s,i,o,c,l);(d=w.diffed)&&d(e)}function fr(t,e,n){for(var r=0;r<n.length;r++)ss(n[r],n[++r],n[++r]);w.__c&&w.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){w.__e(i,s.__v)}})}function Xr(t,e,n,r,s,i,o,a,c){var l,d,u,k=n.props,S=e.props,m=e.type,I=0;if(m==="svg"&&(s=!0),i!=null){for(;I<i.length;I++)if((l=i[I])&&"setAttribute"in l==!!m&&(m?l.localName===m:l.nodeType===3)){t=l,i[I]=null;break}}if(t==null){if(m===null)return document.createTextNode(S);t=s?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,S.is&&S),i=null,a=!1}if(m===null)k===S||a&&t.data===S||(t.data=S);else{if(i=i&&At.call(t.childNodes),d=(k=n.props||Ke).dangerouslySetInnerHTML,u=S.dangerouslySetInnerHTML,!a){if(i!=null)for(k={},I=0;I<t.attributes.length;I++)k[t.attributes[I].name]=t.attributes[I].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Yr(t,S,k,s,a),u)e.__k=[];else if(ur(t,vn(I=e.props.children)?I:[I],e,n,r,s&&m!=="foreignObject",i,o,i?i[0]:n.__k&&ft(n,0),a,c),i!=null)for(I=i.length;I--;)i[I]!=null&&ar(i[I]);a||("value"in S&&(I=S.value)!==void 0&&(I!==t.value||m==="progress"&&!I||m==="option"&&I!==k.value)&&qt(t,"value",I,k.value,!1),"checked"in S&&(I=S.checked)!==void 0&&I!==t.checked&&qt(t,"checked",I,k.checked,!1))}return t}function ss(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){w.__e(r,n)}}function jn(t,e,n){var r,s;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ss(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){w.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&jn(r[s],e,n||typeof t.type!="function");n||t.__e==null||ar(t.__e),t.__=t.__e=t.__d=void 0}function ei(t,e,n){return this.constructor(t,n)}function Ye(t,e,n){var r,s,i,o;w.__&&w.__(t,e),s=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],o=[],ns(e,t=(!r&&n||e).__k=xe(te,null,[t]),s||Ke,Ke,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?At.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r,o),fr(i,t,o)}function hr(t,e){Ye(t,e,hr)}function ti(t,e,n){var r,s,i,o,a=be({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?r=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?At.call(arguments,2):n),at(t.type,a,r||t.key,s||t.ref,null)}function pr(t,e){var n={__c:e="__cC"+ir++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Mn(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}At=or.slice,w={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},sr=0,me.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=be({},this.state),typeof t=="function"&&(t=t(be({},n),this.props)),t&&be(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Mn(this))},me.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Mn(this))},me.prototype.render=te,Le=[],rr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ln=function(t,e){return t.__v.__b-e.__v.__b},Ht.__r=0,ir=0;var Ne,Q,Sn,bs,Xe=0,mr=[],Ut=[],ks=w.__b,Ts=w.__r,xs=w.diffed,ws=w.__c,Ss=w.unmount;function st(t,e){w.__h&&w.__h(Q,t,Xe||e),Xe=0;var n=Q.__H||(Q.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Ut}),n.__[t]}function ae(t){return Xe=1,rs(vr,t)}function rs(t,e,n){var r=st(Ne++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):vr(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Q,!Q.u)){var s=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(k){return k.__c});if(d.every(function(k){return!k.__N}))return!i||i.call(this,a,c,l);var u=!1;return d.forEach(function(k){if(k.__N){var S=k.__[0];k.__=k.__N,k.__N=void 0,S!==k.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!i||i.call(this,a,c,l))};Q.u=!0;var i=Q.shouldComponentUpdate,o=Q.componentWillUpdate;Q.componentWillUpdate=function(a,c,l){if(this.__e){var d=i;i=void 0,s(a,c,l),i=d}o&&o.call(this,a,c,l)},Q.shouldComponentUpdate=s}return r.__N||r.__}function _e(t,e){var n=st(Ne++,3);!w.__s&&os(n.__H,e)&&(n.__=t,n.i=e,Q.__H.__h.push(n))}function bn(t,e){var n=st(Ne++,4);!w.__s&&os(n.__H,e)&&(n.__=t,n.i=e,Q.__h.push(n))}function Ct(t){return Xe=5,is(function(){return{current:t}},[])}function ni(t,e,n){Xe=6,bn(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function is(t,e){var n=st(Ne++,7);return os(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function _r(t,e){return Xe=8,is(function(){return t},e)}function gr(t){var e=Q.context[t.__c],n=st(Ne++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Q)),e.props.value):t.__}function yr(t,e){w.useDebugValue&&w.useDebugValue(e?e(t):t)}function si(){var t=st(Ne++,11);if(!t.__){for(var e=Q.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function ri(){for(var t;t=mr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vt),t.__H.__h.forEach(Un),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){Q=null,ks&&ks(t)},w.__r=function(t){Ts&&Ts(t),Ne=0;var e=(Q=t.__c).__H;e&&(Sn===Q?(e.__h=[],Q.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ut,n.__N=n.i=void 0})):(e.__h.forEach(Vt),e.__h.forEach(Un),e.__h=[],Ne=0)),Sn=Q},w.diffed=function(t){xs&&xs(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(mr.push(e)!==1&&bs===w.requestAnimationFrame||((bs=w.requestAnimationFrame)||ii)(ri)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ut&&(n.__=n.__V),n.i=void 0,n.__V=Ut})),Sn=Q=null},w.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vt),n.__h=n.__h.filter(function(r){return!r.__||Un(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],w.__e(r,n.__v)}}),ws&&ws(t,e)},w.unmount=function(t){Ss&&Ss(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Vt(r)}catch(s){e=s}}),n.__H=void 0,e&&w.__e(e,n.__v))};var Es=typeof requestAnimationFrame=="function";function ii(t){var e,n=function(){clearTimeout(r),Es&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Es&&(e=requestAnimationFrame(n))}function Vt(t){var e=Q,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Q=e}function Un(t){var e=Q;t.__c=t.__(),Q=e}function os(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function vr(t,e){return typeof e=="function"?e(t):e}let oi=0;function Vn(t,e){const n=`atom${++oi}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=s=>s(r),r.write=(s,i,o)=>i(r,typeof o=="function"?o(s(r)):o)),e&&(r.write=e),r}const As=t=>"init"in t,Cs=t=>!!t.write,Wt=new WeakMap,ai=(t,e)=>{Wt.set(t,e),t.catch(()=>{}).finally(()=>Wt.delete(t))},Ns=(t,e)=>{const n=Wt.get(t);n&&(Wt.delete(t),n(e))},Rs=(t,e)=>{t.status="fulfilled",t.value=e},Ds=(t,e)=>{t.status="rejected",t.reason=e},ci=t=>typeof(t==null?void 0:t.then)=="function",It=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),Os=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),it=t=>"v"in t&&t.v instanceof Promise,ui=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,Pt=t=>{if("e"in t)throw t.e;return t.v},li=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,s;const i=f=>t.get(f),o=(f,_)=>{const T=t.get(f);if(t.set(f,_),n.has(f)||n.set(f,T),T&&it(T)){const g="v"in _?_.v instanceof Promise?_.v:Promise.resolve(_.v):Promise.reject(_.e);T.v!==g&&Ns(T.v,g)}},a=(f,_,T)=>{const g=new Map;let A=!1;T.forEach((x,C)=>{!x&&C===f&&(x=_),x&&(g.set(C,x),_.d.get(C)!==x&&(A=!0))}),(A||_.d.size!==g.size)&&(_.d=g)},c=(f,_,T)=>{const g=i(f),A={d:(g==null?void 0:g.d)||new Map,v:_};if(T&&a(f,A,T),g&&It(g,A)&&g.d===A.d)return g;if(g&&it(g)&&it(A)&&ui(g,A)){if(g.d===A.d)return g;A.v=g.v}return o(f,A),A},l=(f,_,T,g)=>{if(ci(_)){let A;const x=new Promise((C,j)=>{let H=!1;_.then(O=>{if(!H){H=!0;const R=i(f),W=c(f,x,T);Rs(x,O),C(O),e.has(f)&&(R==null?void 0:R.d)!==W.d&&$(f,W,R==null?void 0:R.d)}},O=>{if(!H){H=!0;const R=i(f),W=c(f,x,T);Ds(x,O),j(O),e.has(f)&&(R==null?void 0:R.d)!==W.d&&$(f,W,R==null?void 0:R.d)}}),A=O=>{H||(H=!0,O.then(R=>Rs(x,R),R=>Ds(x,R)),C(O))}});return x.orig=_,x.status="pending",ai(x,C=>{C&&A(C),g==null||g()}),c(f,x,T)}return c(f,_,T)},d=(f,_,T)=>{const g=i(f),A={d:(g==null?void 0:g.d)||new Map,e:_};return T&&a(f,A,T),g&&Os(g,A)&&g.d===A.d?g:(o(f,A),A)},u=(f,_)=>{const T=i(f);if(!_&&T&&(e.has(f)||Array.from(T.d).every(([O,R])=>O===f||u(O)===R)))return T;const g=new Map;let A=!0;const x=O=>{if(O===f){const W=i(O);if(W)return g.set(O,W),Pt(W);if(As(O))return g.set(O,void 0),O.init;throw new Error("no atom init")}const R=u(O);return g.set(O,R),Pt(R)};let C,j;const H={get signal(){return C||(C=new AbortController),C.signal},get setSelf(){return!j&&Cs(f)&&(j=(...O)=>{if(!A)return Z(f,...O)}),j}};try{const O=f.read(x,H);return l(f,O,g,()=>C==null?void 0:C.abort())}catch(O){return d(f,O,g)}finally{A=!1}},k=f=>Pt(u(f)),S=f=>{let _=e.get(f);return _||(_=z(f)),_},m=(f,_)=>!_.l.size&&(!_.t.size||_.t.size===1&&_.t.has(f)),I=f=>{const _=e.get(f);_&&m(f,_)&&F(f)},q=f=>{const _=new Map,T=new WeakMap,g=C=>{var j;const H=new Set((j=e.get(C))==null?void 0:j.t);return n.forEach((O,R)=>{var W;(W=i(R))!=null&&W.d.has(C)&&H.add(R)}),H},A=C=>{g(C).forEach(j=>{j!==C&&(_.set(j,(_.get(j)||new Set).add(C)),T.set(j,(T.get(j)||0)+1),A(j))})};A(f);const x=C=>{g(C).forEach(j=>{var H;if(j!==C){let O=T.get(j);if(O&&T.set(j,--O),!O){let R=!!((H=_.get(j))!=null&&H.size);if(R){const W=i(j),Ie=u(j,!0);R=!W||!It(W,Ie)}R||_.forEach(W=>W.delete(j))}x(j)}})};x(f)},V=(f,..._)=>{let T=!0;const g=C=>Pt(u(C)),A=(C,...j)=>{let H;if(C===f){if(!As(C))throw new Error("atom not writable");const O=i(C),R=l(C,j[0]);(!O||!It(O,R))&&q(C)}else H=V(C,...j);if(!T){const O=M()}return H},x=f.write(g,A,..._);return T=!1,x},Z=(f,..._)=>{const T=V(f,..._),g=M();return T},z=(f,_,T)=>{var g;const A=T||[];(g=i(f))==null||g.d.forEach((C,j)=>{const H=e.get(j);H?H.t.add(f):j!==f&&z(j,f,A)}),u(f);const x={t:new Set(_&&[_]),l:new Set};if(e.set(f,x),Cs(f)&&f.onMount){const{onMount:C}=f;A.push(()=>{const j=C((...H)=>Z(f,...H));j&&(x.u=j)})}return T||A.forEach(C=>C()),x},F=f=>{var _;const T=(_=e.get(f))==null?void 0:_.u;T&&T(),e.delete(f);const g=i(f);g&&(it(g)&&Ns(g.v),g.d.forEach((A,x)=>{if(x!==f){const C=e.get(x);C&&(C.t.delete(f),m(x,C)&&F(x))}}))},$=(f,_,T)=>{const g=new Set(_.d.keys());T==null||T.forEach((A,x)=>{if(g.has(x)){g.delete(x);return}const C=e.get(x);C&&(C.t.delete(f),m(x,C)&&F(x))}),g.forEach(A=>{const x=e.get(A);x?x.t.add(f):e.has(f)&&z(A,f)})},M=()=>{let f;for(;n.size;){const _=Array.from(n);n.clear(),_.forEach(([T,g])=>{const A=i(T);if(A){const x=e.get(T);x&&A.d!==(g==null?void 0:g.d)&&$(T,A,g==null?void 0:g.d),x&&!(g&&!it(g)&&(It(g,A)||Os(g,A)))&&x.l.forEach(C=>C())}})}};return{get:k,set:Z,sub:(f,_)=>{const T=S(f),g=M(),A=T.l;return A.add(_),()=>{A.delete(_),I(f)}}}};let En;const di=()=>(En||(En=li()),En);function br(t,e){for(var n in e)t[n]=e[n];return t}function Zn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function An(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function $n(t){this.props=t}function fi(t,e){function n(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:Zn(this.props,s)}function r(s){return this.shouldComponentUpdate=n,xe(t,s)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}($n.prototype=new me).isPureReactComponent=!0,$n.prototype.shouldComponentUpdate=function(t,e){return Zn(this.props,t)||Zn(this.state,e)};var Is=w.__b;w.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Is&&Is(t)};var hi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function pi(t){function e(n){var r=br({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=hi,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Ps=function(t,e){return t==null?null:ke(ke(t).map(e))},mi={map:Ps,forEach:Ps,count:function(t){return t?ke(t).length:0},only:function(t){var e=ke(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ke},_i=w.__e;w.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}_i(t,e,n,r)};var Ls=w.unmount;function kr(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=br({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return kr(r,e,n)})),t}function Tr(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Tr(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Zt(){this.__u=0,this.t=null,this.__b=null}function xr(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function gi(t){var e,n,r;function s(i){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return xe(n,i)}return s.displayName="Lazy",s.__f=!0,s}function ot(){this.u=null,this.o=null}w.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Ls&&Ls(t)},(Zt.prototype=new me).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=xr(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=Tr(l,l.__c.__P,l.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Zt.prototype.componentWillUnmount=function(){this.t=[]},Zt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=kr(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&xe(te,null,t.fallback);return s&&(s.__h=null),[xe(te,null,e.__a?null:t.children),s]};var Ms=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function yi(t){return this.getChildContext=function(){return t.context},t.children}function vi(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ye(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ye(xe(yi,{context:e.context},t.__v),e.l)}function bi(t,e){var n=xe(vi,{__v:t,i:e});return n.containerInfo=e,n}(ot.prototype=new me).__a=function(t){var e=this,n=xr(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),Ms(e,t,r)):s()};n?n(i):i()}},ot.prototype.render=function(t){this.u=null,this.o=new Map;var e=ke(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ot.prototype.componentDidUpdate=ot.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Ms(t,n,e)})};var wr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ki=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ti=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,xi=/[A-Z0-9]/g,wi=typeof document<"u",Si=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Ei(t,e,n){return e.__k==null&&(e.textContent=""),Ye(t,e),typeof n=="function"&&n(),t?t.__c:null}function Ai(t,e,n){return hr(t,e),typeof n=="function"&&n(),t?t.__c:null}me.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(me.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var js=w.event;function Ci(){}function Ni(){return this.cancelBubble}function Ri(){return this.defaultPrevented}w.event=function(t){return js&&(t=js(t)),t.persist=Ci,t.isPropagationStopped=Ni,t.isDefaultPrevented=Ri,t.nativeEvent=t};var as,Di={enumerable:!1,configurable:!0,get:function(){return this.class}},Us=w.vnode;w.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,s={};for(var i in n){var o=n[i];if(!(i==="value"&&"defaultValue"in n&&o==null||wi&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Si(n.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":Ti.test(i)?i=a:r.indexOf("-")===-1&&ki.test(i)?i=i.replace(xi,"-$&").toLowerCase():o===null&&(o=void 0):a=i="oninput",a==="oninput"&&s[i=a]&&(i="oninputCapture"),s[i]=o}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ke(n.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=ke(n.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Di)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=wr,Us&&Us(t)};var Vs=w.__r;w.__r=function(t){Vs&&Vs(t),as=t.__c};var Zs=w.diffed;w.diffed=function(t){Zs&&Zs(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),as=null};var Oi={ReactCurrentDispatcher:{current:{readContext:function(t){return as.__n[t.__c].props.value}}}};function Ii(t){return xe.bind(null,t)}function kn(t){return!!t&&t.$$typeof===wr}function Pi(t){return kn(t)&&t.type===te}function Li(t){return kn(t)?ti.apply(null,arguments):t}function Mi(t){return!!t.__k&&(Ye(null,t),!0)}function ji(t){return t&&(t.base||t.nodeType===1&&t)||null}var Ui=function(t,e){return t(e)},Vi=function(t,e){return t(e)},Zi=te;function Sr(t){t()}function $i(t){return t}function zi(){return[!1,Sr]}var Bi=bn,Hi=kn;function qi(t,e){var n=e(),r=ae({h:{__:n,v:e}}),s=r[0].h,i=r[1];return bn(function(){s.__=n,s.v=e,An(s.__,e())||i({h:s})},[t,n,e]),_e(function(){return An(s.__,s.v())||i({h:s}),t(function(){An(s.__,s.v())||i({h:s})})},[t]),n}var Wi={useState:ae,useId:si,useReducer:rs,useEffect:_e,useLayoutEffect:bn,useInsertionEffect:Bi,useTransition:zi,useDeferredValue:$i,useSyncExternalStore:qi,startTransition:Sr,useRef:Ct,useImperativeHandle:ni,useMemo:is,useCallback:_r,useContext:gr,useDebugValue:yr,version:"17.0.2",Children:mi,render:Ei,hydrate:Ai,unmountComponentAtNode:Mi,createPortal:bi,createElement:xe,createContext:pr,createFactory:Ii,cloneElement:Li,createRef:Kr,Fragment:te,isValidElement:kn,isElement:Hi,isFragment:Pi,findDOMNode:ji,Component:me,PureComponent:$n,memo:fi,forwardRef:pi,flushSync:Vi,unstable_batchedUpdates:Ui,StrictMode:Zi,Suspense:Zt,SuspenseList:ot,lazy:gi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Oi};const Qi=pr(void 0),Er=t=>{const e=gr(Qi);return(t==null?void 0:t.store)||e||di()},Fi=t=>typeof(t==null?void 0:t.then)=="function",Ji=Wi.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function Ki(t,e){const n=Er(e),[[r,s,i],o]=rs(l=>{const d=n.get(t);return Object.is(l[0],d)&&l[1]===n&&l[2]===t?l:[d,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(s!==n||i!==t)&&(o(),a=n.get(t));const c=e==null?void 0:e.delay;return _e(()=>{const l=n.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),l},[n,t,c]),yr(a),Fi(a)?Ji(a):a}function Gi(t,e){const n=Er(e);return _r((...s)=>n.set(t,...s),[n,t])}function ie(t,e){return[Ki(t,e),Gi(t,e)]}const Yi=Symbol(),Xi=t=>typeof(t==null?void 0:t.then)=="function";function eo(t){let e,n;const r={getItem:(s,i)=>{var o,a;const c=d=>{if(d=d||"",e!==d){try{n=JSON.parse(d)}catch{return i}e=d}return n},l=(a=(o=t())==null?void 0:o.getItem(s))!=null?a:null;return Xi(l)?l.then(c):c(l)},setItem:(s,i)=>{var o;return(o=t())==null?void 0:o.setItem(s,JSON.stringify(i))},removeItem:s=>{var i;return(i=t())==null?void 0:i.removeItem(s)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r.subscribe=(s,i,o)=>{if(!(t()instanceof window.Storage))return()=>{};const a=c=>{if(c.storageArea===t()&&c.key===s){let l;try{l=JSON.parse(c.newValue||"")}catch{l=o}i(l)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),r}const to=eo(()=>typeof window<"u"?window.localStorage:void 0);function rt(t,e,n=to,r){const s=r==null?void 0:r.unstable_getOnInit,i=Vn(s?n.getItem(t,e):e);return i.onMount=a=>{s||a(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,a,e)),c},Vn(a=>a(i),(a,c,l)=>{const d=typeof l=="function"?l(a(i)):l;return d===Yi?(c(i,e),n.removeItem(t)):d instanceof Promise?d.then(u=>(c(i,u),n.setItem(t,u))):(c(i,d),n.setItem(t,d))})}const Ar=Vn(!1),no=rt("commenstudio:darkMode",matchMedia("(prefers-color-scheme: dark)").matches),cs=rt("commenstudio:studios",[]),Cr=rt("commenstudio:readTo",0),Nr=rt("commenstudio:pinnedComments",[]),so=rt("commenstudio:pinReasons",{}),Rr=rt("commenstudio:hideRead",!1);var B;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(B||(B={}));var zn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(zn||(zn={}));const y=B.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ae=t=>{switch(typeof t){case"undefined":return y.undefined;case"string":return y.string;case"number":return isNaN(t)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(t)?y.array:t===null?y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?y.promise:typeof Map<"u"&&t instanceof Map?y.map:typeof Set<"u"&&t instanceof Set?y.set:typeof Date<"u"&&t instanceof Date?y.date:y.object;default:return y.unknown}},p=B.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ro=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ue extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,B.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ue.create=t=>new ue(t);const ht=(t,e)=>{let n;switch(t.code){case p.invalid_type:t.received===y.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case p.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,B.jsonStringifyReplacer)}`;break;case p.unrecognized_keys:n=`Unrecognized key(s) in object: ${B.joinValues(t.keys,", ")}`;break;case p.invalid_union:n="Invalid input";break;case p.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${B.joinValues(t.options)}`;break;case p.invalid_enum_value:n=`Invalid enum value. Expected ${B.joinValues(t.options)}, received '${t.received}'`;break;case p.invalid_arguments:n="Invalid function arguments";break;case p.invalid_return_type:n="Invalid function return type";break;case p.invalid_date:n="Invalid date";break;case p.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:B.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case p.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case p.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case p.custom:n="Invalid input";break;case p.invalid_intersection_types:n="Intersection results could not be merged";break;case p.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case p.not_finite:n="Number must be finite";break;default:n=e.defaultError,B.assertNever(t)}return{message:n}};let Dr=ht;function io(t){Dr=t}function Qt(){return Dr}const Ft=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},oo=[];function b(t,e){const n=Ft({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qt(),ht].filter(r=>!!r)});t.common.issues.push(n)}class X{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return P;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return X.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return P;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const P=Object.freeze({status:"aborted"}),Or=t=>({status:"dirty",value:t}),ne=t=>({status:"valid",value:t}),Bn=t=>t.status==="aborted",Hn=t=>t.status==="dirty",pt=t=>t.status==="valid",Jt=t=>typeof Promise<"u"&&t instanceof Promise;var N;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(N||(N={}));class ge{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $s=(t,e)=>{if(pt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ue(t.common.issues);return this._error=n,this._error}}};function L(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class U{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ae(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new X,ctx:{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Jt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},i=this._parseSync({data:e,path:s.path,parent:s});return $s(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Jt(s)?s:Promise.resolve(s));return $s(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:p.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new de({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Te.create(this,this._def)}nullable(){return ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return le.create(this,this._def)}promise(){return tt.create(this,this._def)}or(e){return yt.create([this,e],this._def)}and(e){return vt.create(this,e,this._def)}transform(e){return new de({...L(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wt({...L(this._def),innerType:this,defaultValue:n,typeName:D.ZodDefault})}brand(){return new Pr({typeName:D.ZodBranded,type:this,...L(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xt({...L(this._def),innerType:this,catchValue:n,typeName:D.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nt.create(this,e)}readonly(){return tn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ao=/^c[^\s-]{8,}$/i,co=/^[a-z][a-z0-9]*$/,uo=/^[0-9A-HJKMNP-TV-Z]{26}$/,lo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,fo=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ho="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cn;const po=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,mo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_o=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function go(t,e){return!!((e==="v4"||!e)&&po.test(t)||(e==="v6"||!e)&&mo.test(t))}class ce extends U{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==y.string){const i=this._getOrReturnCtx(e);return b(i,{code:p.invalid_type,expected:y.string,received:i.parsedType}),P}const r=new X;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?b(s,{code:p.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&b(s,{code:p.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")fo.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"email",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Cn||(Cn=new RegExp(ho,"u")),Cn.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"emoji",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")lo.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"uuid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")ao.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")co.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid2",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")uo.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ulid",code:p.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),b(s,{validation:"url",code:p.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"regex",code:p.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?_o(i).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:p.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?go(e.data,i.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ip",code:p.invalid_string,message:i.message}),r.dirty()):B.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:p.invalid_string,...N.errToObj(r)})}_addCheck(e){return new ce({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...N.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...N.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...N.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...N.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...N.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...N.errToObj(n)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new ce({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ce.create=t=>{var e;return new ce({checks:[],typeName:D.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...L(t)})};function yo(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Re extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==y.number){const i=this._getOrReturnCtx(e);return b(i,{code:p.invalid_type,expected:y.number,received:i.parsedType}),P}let r;const s=new X;for(const i of this._def.checks)i.kind==="int"?B.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:p.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?yo(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_finite,message:i.message}),s.dirty()):B.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,r,s){return new Re({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:N.toString(s)}]})}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&B.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Re.create=t=>new Re({checks:[],typeName:D.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...L(t)});class De extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==y.bigint){const i=this._getOrReturnCtx(e);return b(i,{code:p.invalid_type,expected:y.bigint,received:i.parsedType}),P}let r;const s=new X;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),b(r,{code:p.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):B.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,r,s){return new De({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:N.toString(s)}]})}_addCheck(e){return new De({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}De.create=t=>{var e;return new De({checks:[],typeName:D.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...L(t)})};class mt extends U{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==y.boolean){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.boolean,received:r.parsedType}),P}return ne(e.data)}}mt.create=t=>new mt({typeName:D.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...L(t)});class Ze extends U{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==y.date){const i=this._getOrReturnCtx(e);return b(i,{code:p.invalid_type,expected:y.date,received:i.parsedType}),P}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return b(i,{code:p.invalid_date}),P}const r=new X;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:p.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):B.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ze.create=t=>new Ze({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:D.ZodDate,...L(t)});class Kt extends U{_parse(e){if(this._getType(e)!==y.symbol){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.symbol,received:r.parsedType}),P}return ne(e.data)}}Kt.create=t=>new Kt({typeName:D.ZodSymbol,...L(t)});class _t extends U{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.undefined,received:r.parsedType}),P}return ne(e.data)}}_t.create=t=>new _t({typeName:D.ZodUndefined,...L(t)});class gt extends U{_parse(e){if(this._getType(e)!==y.null){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.null,received:r.parsedType}),P}return ne(e.data)}}gt.create=t=>new gt({typeName:D.ZodNull,...L(t)});class et extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return ne(e.data)}}et.create=t=>new et({typeName:D.ZodAny,...L(t)});class Ve extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ne(e.data)}}Ve.create=t=>new Ve({typeName:D.ZodUnknown,...L(t)});class we extends U{_parse(e){const n=this._getOrReturnCtx(e);return b(n,{code:p.invalid_type,expected:y.never,received:n.parsedType}),P}}we.create=t=>new we({typeName:D.ZodNever,...L(t)});class Gt extends U{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.void,received:r.parsedType}),P}return ne(e.data)}}Gt.create=t=>new Gt({typeName:D.ZodVoid,...L(t)});class le extends U{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==y.array)return b(n,{code:p.invalid_type,expected:y.array,received:n.parsedType}),P;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(b(n,{code:o?p.too_big:p.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(b(n,{code:p.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(b(n,{code:p.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ge(n,o,n.path,a)))).then(o=>X.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ge(n,o,n.path,a)));return X.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new le({...this._def,minLength:{value:e,message:N.toString(n)}})}max(e,n){return new le({...this._def,maxLength:{value:e,message:N.toString(n)}})}length(e,n){return new le({...this._def,exactLength:{value:e,message:N.toString(n)}})}nonempty(e){return this.min(1,e)}}le.create=(t,e)=>new le({type:t,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...L(e)});function qe(t){if(t instanceof J){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Te.create(qe(r))}return new J({...t._def,shape:()=>e})}else return t instanceof le?new le({...t._def,type:qe(t.element)}):t instanceof Te?Te.create(qe(t.unwrap())):t instanceof ze?ze.create(qe(t.unwrap())):t instanceof ye?ye.create(t.items.map(e=>qe(e))):t}class J extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=B.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==y.object){const l=this._getOrReturnCtx(e);return b(l,{code:p.invalid_type,expected:y.object,received:l.parsedType}),P}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof we&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const d=i[l],u=s.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new ge(s,u,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof we){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(l==="strict")a.length>0&&(b(s,{code:p.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const u=s.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new ge(s,u,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const u=await d.key;l.push({key:u,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>X.mergeObjectSync(r,l)):X.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new J({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=N.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new J({...this._def,unknownKeys:"strip"})}passthrough(){return new J({...this._def,unknownKeys:"passthrough"})}extend(e){return new J({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new J({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:D.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new J({...this._def,catchall:e})}pick(e){const n={};return B.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new J({...this._def,shape:()=>n})}omit(e){const n={};return B.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new J({...this._def,shape:()=>n})}deepPartial(){return qe(this)}partial(e){const n={};return B.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new J({...this._def,shape:()=>n})}required(e){const n={};return B.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Te;)i=i._def.innerType;n[r]=i}}),new J({...this._def,shape:()=>n})}keyof(){return Ir(B.objectKeys(this.shape))}}J.create=(t,e)=>new J({shape:()=>t,unknownKeys:"strip",catchall:we.create(),typeName:D.ZodObject,...L(e)});J.strictCreate=(t,e)=>new J({shape:()=>t,unknownKeys:"strict",catchall:we.create(),typeName:D.ZodObject,...L(e)});J.lazycreate=(t,e)=>new J({shape:t,unknownKeys:"strip",catchall:we.create(),typeName:D.ZodObject,...L(e)});class yt extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ue(a.ctx.common.issues));return b(n,{code:p.invalid_union,unionErrors:o}),P}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ue(c));return b(n,{code:p.invalid_union,unionErrors:a}),P}}get options(){return this._def.options}}yt.create=(t,e)=>new yt({options:t,typeName:D.ZodUnion,...L(e)});const $t=t=>t instanceof kt?$t(t.schema):t instanceof de?$t(t.innerType()):t instanceof Tt?[t.value]:t instanceof Oe?t.options:t instanceof xt?Object.keys(t.enum):t instanceof wt?$t(t._def.innerType):t instanceof _t?[void 0]:t instanceof gt?[null]:null;class Tn extends U{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.object)return b(n,{code:p.invalid_type,expected:y.object,received:n.parsedType}),P;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(b(n,{code:p.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),P)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=$t(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Tn({typeName:D.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...L(r)})}}function qn(t,e){const n=Ae(t),r=Ae(e);if(t===e)return{valid:!0,data:t};if(n===y.object&&r===y.object){const s=B.objectKeys(e),i=B.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=qn(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===y.array&&r===y.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=qn(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===y.date&&r===y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vt extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(Bn(i)||Bn(o))return P;const a=qn(i.value,o.value);return a.valid?((Hn(i)||Hn(o))&&n.dirty(),{status:n.value,value:a.data}):(b(r,{code:p.invalid_intersection_types}),P)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vt.create=(t,e,n)=>new vt({left:t,right:e,typeName:D.ZodIntersection,...L(n)});class ye extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.array)return b(r,{code:p.invalid_type,expected:y.array,received:r.parsedType}),P;if(r.data.length<this._def.items.length)return b(r,{code:p.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),P;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:p.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ge(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>X.mergeArray(n,o)):X.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ye({...this._def,rest:e})}}ye.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ye({items:t,typeName:D.ZodTuple,rest:null,...L(e)})};class bt extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.object)return b(r,{code:p.invalid_type,expected:y.object,received:r.parsedType}),P;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ge(r,a,r.path,a)),value:o._parse(new ge(r,r.data[a],r.path,a))});return r.common.async?X.mergeObjectAsync(n,s):X.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof U?new bt({keyType:e,valueType:n,typeName:D.ZodRecord,...L(r)}):new bt({keyType:ce.create(),valueType:e,typeName:D.ZodRecord,...L(n)})}}class Yt extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.map)return b(r,{code:p.invalid_type,expected:y.map,received:r.parsedType}),P;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new ge(r,a,r.path,[l,"key"])),value:i._parse(new ge(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return P;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return P;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}Yt.create=(t,e,n)=>new Yt({valueType:e,keyType:t,typeName:D.ZodMap,...L(n)});class $e extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.set)return b(r,{code:p.invalid_type,expected:y.set,received:r.parsedType}),P;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(b(r,{code:p.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(b(r,{code:p.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const d of c){if(d.status==="aborted")return P;d.status==="dirty"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new ge(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new $e({...this._def,minSize:{value:e,message:N.toString(n)}})}max(e,n){return new $e({...this._def,maxSize:{value:e,message:N.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$e.create=(t,e)=>new $e({valueType:t,minSize:null,maxSize:null,typeName:D.ZodSet,...L(e)});class Ge extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.function)return b(n,{code:p.invalid_type,expected:y.function,received:n.parsedType}),P;function r(a,c){return Ft({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qt(),ht].filter(l=>!!l),issueData:{code:p.invalid_arguments,argumentsError:c}})}function s(a,c){return Ft({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qt(),ht].filter(l=>!!l),issueData:{code:p.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof tt){const a=this;return ne(async function(...c){const l=new ue([]),d=await a._def.args.parseAsync(c,i).catch(S=>{throw l.addIssue(r(c,S)),l}),u=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(u,i).catch(S=>{throw l.addIssue(s(u,S)),l})})}else{const a=this;return ne(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new ue([r(c,l.error)]);const d=Reflect.apply(o,this,l.data),u=a._def.returns.safeParse(d,i);if(!u.success)throw new ue([s(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ge({...this._def,args:ye.create(e).rest(Ve.create())})}returns(e){return new Ge({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ge({args:e||ye.create([]).rest(Ve.create()),returns:n||Ve.create(),typeName:D.ZodFunction,...L(r)})}}class kt extends U{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}kt.create=(t,e)=>new kt({getter:t,typeName:D.ZodLazy,...L(e)});class Tt extends U{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return b(n,{received:n.data,code:p.invalid_literal,expected:this._def.value}),P}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tt.create=(t,e)=>new Tt({value:t,typeName:D.ZodLiteral,...L(e)});function Ir(t,e){return new Oe({values:t,typeName:D.ZodEnum,...L(e)})}class Oe extends U{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{expected:B.joinValues(r),received:n.parsedType,code:p.invalid_type}),P}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{received:n.data,code:p.invalid_enum_value,options:r}),P}return ne(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Oe.create(e)}exclude(e){return Oe.create(this.options.filter(n=>!e.includes(n)))}}Oe.create=Ir;class xt extends U{_parse(e){const n=B.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==y.string&&r.parsedType!==y.number){const s=B.objectValues(n);return b(r,{expected:B.joinValues(s),received:r.parsedType,code:p.invalid_type}),P}if(n.indexOf(e.data)===-1){const s=B.objectValues(n);return b(r,{received:r.data,code:p.invalid_enum_value,options:s}),P}return ne(e.data)}get enum(){return this._def.values}}xt.create=(t,e)=>new xt({values:t,typeName:D.ZodNativeEnum,...L(e)});class tt extends U{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.promise&&n.common.async===!1)return b(n,{code:p.invalid_type,expected:y.promise,received:n.parsedType}),P;const r=n.parsedType===y.promise?n.data:Promise.resolve(n.data);return ne(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tt.create=(t,e)=>new tt({type:t,typeName:D.ZodPromise,...L(e)});class de extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{b(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?P:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?P:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pt(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>pt(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);B.assertNever(s)}}de.create=(t,e,n)=>new de({schema:t,typeName:D.ZodEffects,effect:e,...L(n)});de.createWithPreprocess=(t,e,n)=>new de({schema:e,effect:{type:"preprocess",transform:t},typeName:D.ZodEffects,...L(n)});class Te extends U{_parse(e){return this._getType(e)===y.undefined?ne(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(t,e)=>new Te({innerType:t,typeName:D.ZodOptional,...L(e)});class ze extends U{_parse(e){return this._getType(e)===y.null?ne(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ze.create=(t,e)=>new ze({innerType:t,typeName:D.ZodNullable,...L(e)});class wt extends U{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wt.create=(t,e)=>new wt({innerType:t,typeName:D.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...L(e)});class Xt extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jt(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ue(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ue(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xt.create=(t,e)=>new Xt({innerType:t,typeName:D.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...L(e)});class en extends U{_parse(e){if(this._getType(e)!==y.nan){const r=this._getOrReturnCtx(e);return b(r,{code:p.invalid_type,expected:y.nan,received:r.parsedType}),P}return{status:"valid",value:e.data}}}en.create=t=>new en({typeName:D.ZodNaN,...L(t)});const vo=Symbol("zod_brand");class Pr extends U{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nt extends U{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?P:i.status==="dirty"?(n.dirty(),Or(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?P:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Nt({in:e,out:n,typeName:D.ZodPipeline})}}class tn extends U{_parse(e){const n=this._def.innerType._parse(e);return pt(n)&&(n.value=Object.freeze(n.value)),n}}tn.create=(t,e)=>new tn({innerType:t,typeName:D.ZodReadonly,...L(e)});const Lr=(t,e={},n)=>t?et.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):et.create(),bo={object:J.lazycreate};var D;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(D||(D={}));const ko=(t,e={message:`Input not instance of ${t.name}`})=>Lr(n=>n instanceof t,e),Mr=ce.create,jr=Re.create,To=en.create,xo=De.create,Ur=mt.create,wo=Ze.create,So=Kt.create,Eo=_t.create,Ao=gt.create,Co=et.create,No=Ve.create,Ro=we.create,Do=Gt.create,Oo=le.create,Io=J.create,Po=J.strictCreate,Lo=yt.create,Mo=Tn.create,jo=vt.create,Uo=ye.create,Vo=bt.create,Zo=Yt.create,$o=$e.create,zo=Ge.create,Bo=kt.create,Ho=Tt.create,qo=Oe.create,Wo=xt.create,Qo=tt.create,zs=de.create,Fo=Te.create,Jo=ze.create,Ko=de.createWithPreprocess,Go=Nt.create,Yo=()=>Mr().optional(),Xo=()=>jr().optional(),ea=()=>Ur().optional(),ta={string:t=>ce.create({...t,coerce:!0}),number:t=>Re.create({...t,coerce:!0}),boolean:t=>mt.create({...t,coerce:!0}),bigint:t=>De.create({...t,coerce:!0}),date:t=>Ze.create({...t,coerce:!0})},na=P;var se=Object.freeze({__proto__:null,defaultErrorMap:ht,setErrorMap:io,getErrorMap:Qt,makeIssue:Ft,EMPTY_PATH:oo,addIssueToContext:b,ParseStatus:X,INVALID:P,DIRTY:Or,OK:ne,isAborted:Bn,isDirty:Hn,isValid:pt,isAsync:Jt,get util(){return B},get objectUtil(){return zn},ZodParsedType:y,getParsedType:Ae,ZodType:U,ZodString:ce,ZodNumber:Re,ZodBigInt:De,ZodBoolean:mt,ZodDate:Ze,ZodSymbol:Kt,ZodUndefined:_t,ZodNull:gt,ZodAny:et,ZodUnknown:Ve,ZodNever:we,ZodVoid:Gt,ZodArray:le,ZodObject:J,ZodUnion:yt,ZodDiscriminatedUnion:Tn,ZodIntersection:vt,ZodTuple:ye,ZodRecord:bt,ZodMap:Yt,ZodSet:$e,ZodFunction:Ge,ZodLazy:kt,ZodLiteral:Tt,ZodEnum:Oe,ZodNativeEnum:xt,ZodPromise:tt,ZodEffects:de,ZodTransformer:de,ZodOptional:Te,ZodNullable:ze,ZodDefault:wt,ZodCatch:Xt,ZodNaN:en,BRAND:vo,ZodBranded:Pr,ZodPipeline:Nt,ZodReadonly:tn,custom:Lr,Schema:U,ZodSchema:U,late:bo,get ZodFirstPartyTypeKind(){return D},coerce:ta,any:Co,array:Oo,bigint:xo,boolean:Ur,date:wo,discriminatedUnion:Mo,effect:zs,enum:qo,function:zo,instanceof:ko,intersection:jo,lazy:Bo,literal:Ho,map:Zo,nan:To,nativeEnum:Wo,never:Ro,null:Ao,nullable:Jo,number:jr,object:Io,oboolean:ea,onumber:Xo,optional:Fo,ostring:Yo,pipeline:Go,preprocess:Ko,promise:Qo,record:Vo,set:$o,strictObject:Po,string:Mr,symbol:So,transformer:zs,tuple:Uo,undefined:Eo,union:Lo,unknown:No,void:Do,NEVER:na,ZodIssueCode:p,quotelessJson:ro,ZodError:ue});const xn=t=>fetch(`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(t)}`),sa=se.object({code:se.literal("NotFound")}),Bs=async t=>{const e=await(await xn(`https://api.scratch.mit.edu/studios/${t}`)).json(),n=sa.safeParse(e);return console.log(n.success),!n.success};var ra=0;function v(t,e,n,r,s,i){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ra,__source:s,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return w.vnode&&w.vnode(l),l}function ia(){const[t,e]=ie(cs),n=()=>{const r=[...t];r.push(1234),e(r)};return v("div",{class:"flex flex-col items-end gap-2",children:[v("h2",{class:"text-xl font-bold",children:["Studios: ",t.length]}),t.length>0?v("ul",{class:"contents",children:t.map((r,s)=>v("li",{class:"flex w-full",children:v(oa,{studio:r,index:s})},s))}):null,v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:n,children:"New"})]})}function oa({studio:t,index:e}){const[n,r]=ie(cs),[s,i]=ae(!1),o=Ct(null);_e(()=>{(async()=>o.current&&(await Bs(Number(o.current.value))||i(!0)))()});const a=async()=>{if(!o.current)return;const l=o.current.value,d=Number(l);l.toString()!==l&&(o.current.value=n[e].toString()),await Bs(d)||i(!0),r([...n.slice(0,e),d,...n.slice(e+1)]),s&&i(!1)},c=()=>{r([...n.slice(0,e),...n.slice(e+1)])};return v("div",{class:"w-full",children:v("div",{class:"flex w-full justify-between",children:[v("input",{class:`w-32 rounded-xl bg-stone-300 px-2 py-1 dark:bg-stone-700 ${s?"ring ring-red-400 focus-visible:outline-red-700":""}`,type:"number",value:t,onChange:l=>a(),ref:o}),v("button",{onClick:()=>c(),type:"button",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Delete"})]})})}const aa="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",ca="1213426321653223333353565455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",nt=(t,e)=>{for(const n in e)t[n]=e[n];return t},Wn="numeric",Qn="ascii",Fn="alpha",zt="asciinumeric",Lt="alphanumeric",Jn="domain",Vr="emoji",ua="scheme",la="slashscheme",Hs="whitespace";function da(t,e){return t in e||(e[t]=[]),e[t]}function Ue(t,e,n){e[Wn]&&(e[zt]=!0,e[Lt]=!0),e[Qn]&&(e[zt]=!0,e[Fn]=!0),e[zt]&&(e[Lt]=!0),e[Fn]&&(e[Lt]=!0),e[Lt]&&(e[Jn]=!0),e[Vr]&&(e[Jn]=!0);for(const r in e){const s=da(r,n);s.indexOf(t)<0&&s.push(t)}}function fa(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function re(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}re.groups={};re.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||re.groups;let s;return e&&e.j?s=e:(s=new re(e),n&&r&&Ue(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||re.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new re,nt(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new re,i){if(r)if(o.t&&typeof o.t=="string"){const c=nt(fa(o.t,r),n);Ue(i,c,r)}else n&&Ue(i,n,r);o.t=i}return s.j[t]=o,o}};const E=(t,e,n,r,s)=>t.ta(e,n,r,s),oe=(t,e,n,r,s)=>t.tr(e,n,r,s),qs=(t,e,n,r,s)=>t.ts(e,n,r,s),h=(t,e,n,r,s)=>t.tt(e,n,r,s),ve="WORD",Kn="UWORD",St="LOCALHOST",Gn="TLD",Yn="UTLD",Bt="SCHEME",We="SLASH_SCHEME",us="NUM",Zr="WS",ls="NL",Qe="OPENBRACE",ct="OPENBRACKET",ut="OPENANGLEBRACKET",lt="OPENPAREN",Me="CLOSEBRACE",Fe="CLOSEBRACKET",Je="CLOSEANGLEBRACKET",je="CLOSEPAREN",nn="AMPERSAND",sn="APOSTROPHE",rn="ASTERISK",Ee="AT",on="BACKSLASH",an="BACKTICK",cn="CARET",Ce="COLON",ds="COMMA",un="DOLLAR",fe="DOT",ln="EQUALS",fs="EXCLAMATION",he="HYPHEN",dn="PERCENT",fn="PIPE",hn="PLUS",pn="POUND",mn="QUERY",hs="QUOTE",ps="SEMI",pe="SLASH",dt="TILDE",_n="UNDERSCORE",$r="EMOJI",gn="SYM";var zr=Object.freeze({__proto__:null,WORD:ve,UWORD:Kn,LOCALHOST:St,TLD:Gn,UTLD:Yn,SCHEME:Bt,SLASH_SCHEME:We,NUM:us,WS:Zr,NL:ls,OPENBRACE:Qe,OPENBRACKET:ct,OPENANGLEBRACKET:ut,OPENPAREN:lt,CLOSEBRACE:Me,CLOSEBRACKET:Fe,CLOSEANGLEBRACKET:Je,CLOSEPAREN:je,AMPERSAND:nn,APOSTROPHE:sn,ASTERISK:rn,AT:Ee,BACKSLASH:on,BACKTICK:an,CARET:cn,COLON:Ce,COMMA:ds,DOLLAR:un,DOT:fe,EQUALS:ln,EXCLAMATION:fs,HYPHEN:he,PERCENT:dn,PIPE:fn,PLUS:hn,POUND:pn,QUERY:mn,QUOTE:hs,SEMI:ps,SLASH:pe,TILDE:dt,UNDERSCORE:_n,EMOJI:$r,SYM:gn});const Be=/[a-z]/,Nn=/\p{L}/u,Rn=/\p{Emoji}/u,Dn=/\d/,Ws=/\s/,Qs=`
`,ha="",pa="";let Mt=null,jt=null;function ma(t){t===void 0&&(t=[]);const e={};re.groups=e;const n=new re;Mt==null&&(Mt=Fs(aa)),jt==null&&(jt=Fs(ca)),h(n,"'",sn),h(n,"{",Qe),h(n,"[",ct),h(n,"<",ut),h(n,"(",lt),h(n,"}",Me),h(n,"]",Fe),h(n,">",Je),h(n,")",je),h(n,"&",nn),h(n,"*",rn),h(n,"@",Ee),h(n,"`",an),h(n,"^",cn),h(n,":",Ce),h(n,",",ds),h(n,"$",un),h(n,".",fe),h(n,"=",ln),h(n,"!",fs),h(n,"-",he),h(n,"%",dn),h(n,"|",fn),h(n,"+",hn),h(n,"#",pn),h(n,"?",mn),h(n,'"',hs),h(n,"/",pe),h(n,";",ps),h(n,"~",dt),h(n,"_",_n),h(n,"\\",on);const r=oe(n,Dn,us,{[Wn]:!0});oe(r,Dn,r);const s=oe(n,Be,ve,{[Qn]:!0});oe(s,Be,s);const i=oe(n,Nn,Kn,{[Fn]:!0});oe(i,Be),oe(i,Nn,i);const o=oe(n,Ws,Zr,{[Hs]:!0});h(n,Qs,ls,{[Hs]:!0}),h(o,Qs),oe(o,Ws,o);const a=oe(n,Rn,$r,{[Vr]:!0});oe(a,Rn,a),h(a,ha,a);const c=h(a,pa);oe(c,Rn,a);const l=[[Be,s]],d=[[Be,null],[Nn,i]];for(let u=0;u<Mt.length;u++)Se(n,Mt[u],Gn,ve,l);for(let u=0;u<jt.length;u++)Se(n,jt[u],Yn,Kn,d);Ue(Gn,{tld:!0,ascii:!0},e),Ue(Yn,{utld:!0,alpha:!0},e),Se(n,"file",Bt,ve,l),Se(n,"mailto",Bt,ve,l),Se(n,"http",We,ve,l),Se(n,"https",We,ve,l),Se(n,"ftp",We,ve,l),Se(n,"ftps",We,ve,l),Ue(Bt,{scheme:!0,ascii:!0},e),Ue(We,{slashscheme:!0,ascii:!0},e),t=t.sort((u,k)=>u[0]>k[0]?1:-1);for(let u=0;u<t.length;u++){const k=t[u][0],m=t[u][1]?{[ua]:!0}:{[la]:!0};k.indexOf("-")>=0?m[Jn]=!0:Be.test(k)?Dn.test(k)?m[zt]=!0:m[Qn]=!0:m[Wn]=!0,qs(n,k,k,m)}return qs(n,"localhost",St,{ascii:!0}),n.jd=new re(gn),{start:n,tokens:nt({groups:e},zr)}}function _a(t,e){const n=ga(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,c=null,l=0,d=null,u=-1,k=-1;for(;o<r&&(c=a.go(n[o]));)a=c,a.accepts()?(u=0,k=0,d=a):u>=0&&(u+=n[o].length,k++),l+=n[o].length,i+=n[o].length,o++;i-=u,o-=k,l-=u,s.push({t:d.t,v:e.slice(i-l,i),s:i-l,e:i})}return s}function ga(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Se(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const c=e[a];t.j[c]?i=t.j[c]:(i=new re(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new re(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function Fs(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Et={defaultProtocol:"http",events:null,format:Js,formatHref:Js,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ms(t,e){e===void 0&&(e=null);let n=nt({},Et);t&&(n=nt(n,t instanceof ms?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}ms.prototype={o:Et,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Et[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Js(t){return t}function Br(t,e){this.t="token",this.v=t,this.tk=e}Br.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Et.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),c=t.get("target",n,e),l=t.get("rel",n,e),d=t.getObj("attributes",n,e),u=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),c&&(o.target=c),l&&(o.rel=l),d&&nt(o,d),{tagName:s,attributes:o,content:i,eventListeners:u}}};function wn(t,e){class n extends Br{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Ks=wn("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Gs=wn("text"),ya=wn("nl"),Pe=wn("url",{isLink:!0,toHref(t){return t===void 0&&(t=Et.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==St&&t[1].t===Ce}}),G=t=>new re(t);function va(t){let{groups:e}=t;const n=e.domain.concat([nn,rn,Ee,on,an,cn,un,ln,he,us,dn,fn,hn,pn,pe,gn,dt,_n]),r=[sn,Je,Me,Fe,je,Ce,ds,fe,fs,ut,Qe,ct,lt,mn,hs,ps],s=[nn,sn,rn,on,an,cn,Me,un,ln,he,Qe,dn,fn,hn,pn,mn,pe,gn,dt,_n],i=G(),o=h(i,dt);E(o,s,o),E(o,e.domain,o);const a=G(),c=G(),l=G();E(i,e.domain,a),E(i,e.scheme,c),E(i,e.slashscheme,l),E(a,s,o),E(a,e.domain,a);const d=h(a,Ee);h(o,Ee,d),h(c,Ee,d),h(l,Ee,d);const u=h(o,fe);E(u,s,o),E(u,e.domain,o);const k=G();E(d,e.domain,k),E(k,e.domain,k);const S=h(k,fe);E(S,e.domain,k);const m=G(Ks);E(S,e.tld,m),E(S,e.utld,m),h(d,St,m);const I=h(k,he);E(I,e.domain,k),E(m,e.domain,k),h(m,fe,S),h(m,he,I);const q=h(m,Ce);E(q,e.numeric,Ks);const V=h(a,he),Z=h(a,fe);E(V,e.domain,a),E(Z,s,o),E(Z,e.domain,a);const z=G(Pe);E(Z,e.tld,z),E(Z,e.utld,z),E(z,e.domain,a),E(z,s,o),h(z,fe,Z),h(z,he,V),h(z,Ee,d);const F=h(z,Ce),$=G(Pe);E(F,e.numeric,$);const M=G(Pe),K=G();E(M,n,M),E(M,r,K),E(K,n,M),E(K,r,K),h(z,pe,M),h($,pe,M);const f=h(c,Ce),_=h(l,Ce),T=h(_,pe),g=h(T,pe);E(c,e.domain,a),h(c,fe,Z),h(c,he,V),E(l,e.domain,a),h(l,fe,Z),h(l,he,V),E(f,e.domain,M),h(f,pe,M),E(g,e.domain,M),E(g,n,M),h(g,pe,M);const A=h(M,Qe),x=h(M,ct),C=h(M,ut),j=h(M,lt);h(K,Qe,A),h(K,ct,x),h(K,ut,C),h(K,lt,j),h(A,Me,M),h(x,Fe,M),h(C,Je,M),h(j,je,M),h(A,Me,M);const H=G(Pe),O=G(Pe),R=G(Pe),W=G(Pe);E(A,n,H),E(x,n,O),E(C,n,R),E(j,n,W);const Ie=G(),Rt=G(),Dt=G(),Ot=G();return E(A,r),E(x,r),E(C,r),E(j,r),E(H,n,H),E(O,n,O),E(R,n,R),E(W,n,W),E(H,r,H),E(O,r,O),E(R,r,R),E(W,r,W),E(Ie,n,Ie),E(Rt,n,O),E(Dt,n,R),E(Ot,n,W),E(Ie,r,Ie),E(Rt,r,Rt),E(Dt,r,Dt),E(Ot,r,Ot),h(O,Fe,M),h(R,Je,M),h(W,je,M),h(H,Me,M),h(Rt,Fe,M),h(Dt,Je,M),h(Ot,je,M),h(Ie,je,M),h(i,St,z),h(i,ls,ya),{start:i,tokens:zr}}function ba(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,c=null,l=null,d=0,u=null,k=-1;for(;s<r&&!(c=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(l=c||a.go(n[s].t));)c=null,a=l,a.accepts()?(k=0,u=a):k>=0&&k++,s++,d++;if(k<0)s-=d,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(On(Gs,e,o)),o=[]),s-=k,d-=k;const S=u.t,m=n.slice(s-d,s);i.push(On(S,e,m))}}return o.length>0&&i.push(On(Gs,e,o)),i}function On(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const ee={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function ka(){ee.scanner=ma(ee.customSchemes);for(let t=0;t<ee.tokenQueue.length;t++)ee.tokenQueue[t][1]({scanner:ee.scanner});ee.parser=va(ee.scanner.tokens);for(let t=0;t<ee.pluginQueue.length;t++)ee.pluginQueue[t][1]({scanner:ee.scanner,parser:ee.parser});ee.initialized=!0}function Ta(t){return ee.initialized||ka(),ba(ee.parser.start,t,_a(ee.scanner.start,t))}var xa={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},wa=/^#[xX]([A-Fa-f0-9]+)$/,Sa=/^#([0-9]+)$/,Ea=/^([A-Za-z0-9]+)$/,Aa=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(wa);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(Sa),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(Ea),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),Ca=/[\t\n\f ]/,Na=/[A-Za-z]/,Ra=/\r\n?/g;function Y(t){return Ca.test(t)}function Ys(t){return Na.test(t)}function Da(t){return t.replace(Ra,`
`)}var Oa=function(){function t(e,n,r){r===void 0&&(r="precompile"),this.delegate=e,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var i=this.tagNameBuffer.toLowerCase();(i==="pre"||i==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),i=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&i!=="script"&&i!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||Ys(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();i==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();Y(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();Y(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();Y(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!Y(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=i.toUpperCase()==="PUBLIC",a=i.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();Y(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();Y(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();Y(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();Y(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();Y(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();Y(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(Y(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();Y(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(Y(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();Y(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();Y(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();Y(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||Ys(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Da(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),r=this.entityParser.parse(n);if(r){for(var s=n.length;s;)this.consume(),s--;return this.consume(),r}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Ia=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Oa(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Pa(t,e){var n=new Ia(new Aa(xa),e);return n.tokenize(t)}const Hr="LinkifyResult",yn="StartTag",qr="EndTag",Xn="Chars",La="Comment",Ma="Doctype";function ja(t,e){e===void 0&&(e={});const n=Pa(t),r=[],s=[],i=new ms(e,Za);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===yn){r.push(a);const c=a.tagName.toUpperCase();if(!(c==="A"||i.ignoreTags.indexOf(c)>=0))continue;let d=r.length;Va(c,n,++o,r),o+=r.length-d-1}else if(a.type!==Xn)r.push(a);else{const c=Ua(a.chars,i);r.push.apply(r,c)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case Hr:s.push(a.rendered);break;case yn:{let c="<"+a.tagName;a.attributes.length>0&&(c+=" "+za(a.attributes).join(" ")),a.selfClosing&&(c+=" /"),c+=">",s.push(c);break}case qr:s.push(`</${a.tagName}>`);break;case Xn:s.push(es(a.chars));break;case La:s.push(`<!--${es(a.chars)}-->`);break;case Ma:{let c=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(c+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(c+=` "${a.systemIdentifier}"`),c+=">",s.push(c);break}}}return s.join("")}function Ua(t,e){const n=Ta(t),r=[];for(let s=0;s<n.length;s++){const i=n[s];i.t==="nl"&&e.get("nl2br")?r.push({type:yn,tagName:"br",attributes:[],selfClosing:!0}):!i.isLink||!e.check(i)?r.push({type:Xn,chars:i.toString()}):r.push({type:Hr,rendered:e.render(i)})}return r}function Va(t,e,n,r){let s=1;for(;n<e.length&&s>0;){let i=e[n];i.type===yn&&i.tagName.toUpperCase()===t?s++:i.type===qr&&i.tagName.toUpperCase()===t&&s--,r.push(i),n++}return r}function Za(t){let{tagName:e,attributes:n,content:r}=t;return`<${e} ${$a(n)}>${es(r)}</${e}>`}function es(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Wr(t){return t.replace(/"/g,"&quot;")}function $a(t){const e=[];for(const n in t){const r=t[n]+"";e.push(`${n}="${Wr(r)}"`)}return e.join(" ")}function za(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n][0],s=t[n][1]+"";e.push(`${r}="${Wr(s)}"`)}return e}const Qr=se.object({id:se.number(),content:se.string(),datetime_created:se.string().datetime(),author:se.object({id:se.number(),username:se.string(),scratchteam:se.boolean(),image:se.string().url()}),reply_count:se.number()}),Xs=async(t,e=0)=>{const n=await Promise.all([...new Set(t)].map(async s=>{const i=await(await xn(`https://api.scratch.mit.edu/studios/${s}/comments?limit=40&offset=${40*e}`)).json(),o=Qr.array().safeParse(i);return o.success?o.data.map(a=>({...a,studio:s})):[]}));let r=[];return r=r.concat(...n).sort((s,i)=>{const o=new Date(s.datetime_created).getTime(),a=new Date(i.datetime_created).getTime();return o<a?1:o>a?-1:0}),r},Ba=async(t,e)=>{const n=await(await xn(`https://api.scratch.mit.edu/studios/${t}/comments/${e}/replies`)).json();return Qr.array().parse(n).map(s=>({...s,studio:t}))},Ha={meow:"",gobo:"[gobo]",cat:"","aww-cat":"","cool-cat":"","tongue-out-cat":"","wink-cat":"","lol-cat":"","upside-down-cat":"","huh-cat":"","love-it-cat":"","fav-it-cat":"[star cat]","rainbow-cat":"[rainbow cat]","pizza-cat":"[pizza cat]","10mil":"",waffle:"",taco:"",sushi:"",apple:"",broccoli:"",pizza:"",candycorn:"",map:"",camera:"",suitcase:"",compass:"",binoculars:"[binoculars]",cupcake:"",pride:"",blm:""},qa=t=>(Object.entries(Ha).forEach(([e,n])=>{t=t.replace(new RegExp(`<img src="/images/emoji/${e}.png" class="emoji" alt="(.*?)">`,"g"),n)}),t.replace(/<img src="\/images\/emoji\/meow.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/gobo.png" class="emoji" alt="(.*?)">/,"[gobo]").replace(/<img src="\/images\/emoji\/cat.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/aww-cat.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/cool-cat.png" class="emoji" alt="(.*?)">/,"")),In=new Map,Wa=se.object({title:se.string()}),Qa=async t=>{const e=new Map;for(const n of t){const r=In.get(n);if(r!==void 0){r!==null&&e.set(n,r);continue}const s=await(await xn(`https://api.scratch.mit.edu/studios/${n}`)).json(),i=Wa.safeParse(s);if(!i.success){In.set(n,null);continue}In.set(n,i.data.title),e.set(n,i.data.title)}return e},He=new Intl.RelativeTimeFormat("en"),Fa=1e3,er=60,tr=60,nr=24,Ja=12,Pn=t=>{const e=new Date,r=(t.getTime()-e.getTime())/Fa,s=r/er,i=s/tr,o=i/nr;if(Math.abs(r)<er)return He.format(Math.trunc(r),"seconds");if(Math.abs(s)<tr)return He.format(Math.trunc(s),"minutes");if(Math.abs(i)<nr)return He.format(Math.trunc(i),"hours");let a=t.getFullYear()-e.getFullYear(),c=t.getMonth()-e.getMonth()+Ja*a;return c>0&&t.getDate()<e.getDate()&&c--,c<0&&t.getDate()>e.getDate()&&c++,Math.abs(c)<1?He.format(Math.trunc(o),"days"):(a>0&&(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())&&a--,a<0&&(t.getMonth()>e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()>e.getDate())&&a++,Math.abs(a)<1?He.format(c,"months"):He.format(a,"years"))},Ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAACUUlEQVQ4y6WUTUhUURiGn3Eax7mU5HDFscGbC7UpcuEtpR9JEJuGohg3LsaNi4qIsKgWiZgrqUAKJSgYglyMSBAziygdihiI/nFRRBO5qAsW6jRTqXcE09NCumL3mkrf5pzzwXnOd97vPQcs4tyRcsEaIscqKRcWEGlXxX9BahvPoBTN0nNi+5oqMkXPqV1i+vEeEb4QMEBDAzdENHxF/LOSSFeTsUkNtJJKzxLc951Lx+sFQOrTa/QvCdOB65aspHKCVY+AgNA+vkMunEfx5hE6MIlc3CKk2TcgJk0Qm9GRgx6hbN2Nv0rDVyahjc6gePNMG4bfTkJFFzvqDtlMlaj1Tfi3vUR2SwCWAABfmURs+Km1Js3ne22xwYkVBZdcdnTt3vLCyqU1q+pccL+LSHersITo3z6sCiK7HUhTcXMlke5WEWz4Swf7epDKluacHnB6qK3ZyB/PGJDks7vEBie4fP0zyREdAG3+MCfPJtAyJQYj9sLHxavjyMUlPLk/sNidntMNwl+dQfE66Y+OoXidCyI6svjUvUi5i95QNsukvpbCr3HUiinCnS3CFrnWLmqVOLLbQX90jFBjEZLLbtJBz84Z3TH8AiRHpskh9QDZ7aC3L4O/zm0JAIgn0sQTaQMYf56LNjqzcJ3Uj1x6+zK03X5vkz0BEXL/tASplRuQXHaSIzrxVwW03XpoM9neeL3HSsXR0CbiiTR6ds4A6tk5yK+iuf2ObcX/RPHm0T+Uj6ZXo1YujLLbgVS00xJgGeHOFsOJHU1bjHn0ZseyH9RvnLfMpX3tEzMAAAAASUVORK5CYII=",Ga="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAADWklEQVQ4y6VVX2hbVRz+ElJLA8q1DNYuqTn4oi0bSenDKnPtRWxnHTFJGfiywb2l6tNoL7MvMumNteBEaJggWKQ3tUHQikShsNWHG7qXdC9JVFIoaG6wL2VKctUN42o+H7S3tomS6Q8OHO75zu+7v+/35wD/wxRF4ezsLP/LXcqyzFYIgoG2lrCeZh8vPvEVrO1OTs28Dk3TXADw9z8uFAr4/btV3J7vwvGXN/DAJLIs49LZbxEeqOOl918DAL4w0IH61wkH0/NrHcHedgDAUG871KsfMRaLuR4oko2tGoZ627GqHcPKrbsID3RA8robcO/e+BnVe3XEYjEYhkFVVZsSNdwcHh529uUf9lAo38erqSo2tmqHcIXyfaS+EYi/dwOhUAiqqsIwDLZEYtu243Bk/g4eP/cGxrUUZtZOYOXW3QPcvTqi0ShkWYZpmgiFQtA0rbXSkrxu7i76uJ3opizL3LdKpUIhBLcT3aylerid6KYQgiRZKpW4sLBAAGwWjedoWT7d/gUkrxuS1w3LsgAAlmVB0zRMTU1hZUPH1fFHEDjmQfjJH6GqKqrVKoQQTuU1yKUoisOcTqcRHuhwDs8+dgeJxEFVSZLk5OPNz36C5HUj/cmHsCwL+Xwe09PTCAaD0HW9MTeGYTAajTIYaGMt1eOs3UUfg4E2KopCXdcpSRLN9c8Zef4ZPtTmYVfnoxRCMJfL0TRNR1rTNCmEoCzLjfIdJdnb+oAkaRgGJycn+fa1a05+dF13nDSzUqlE0zQJAK79TrZtG8nF69hd9P2p4/Gn4Hn244Nol5aQXFrCzs4OTg8OYmR0FH19fTg9ONigTD6fx/LyMqrVKpLJpMt1NPEn99K4/NzDDSTX/8qNMjGBzWwWm9ksisUiNrNZ+P1++Px+qBMTGBkdBQAkk0kAQNMGFSc6eXu+i7VUD+u/fO+E/+nqKs+PjdG27UOy2LbN82Njh84qlQoTicS/D05JkvjORYm/rZ0jawdOZ65c4dCZM5yLx7l+8ybn4nGGTp3iXDzuYHK5XAPBPw61aDTKUm4Nl8M+xF55C50nXwQAbBWL+HJ93cGNX7gAv9+PTCaDQqGAQCCAo8PS1cq7kclk9okRiUScBi2XyxBCwLIsRCIR9Pf3N/X3B6UQAyT2WO36AAAAAElFTkSuQmCC",Ya="/commenstudio/assets/pin-227d1b1d.svg",Xa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAD2UlEQVQ4y4WUbUhbZxTHf4lXc2+WaHJ9y4u2uqS6trHqZmSjQ2WU2W0fFtg6JgxWx2Afhgzml0IL28BPhXYfpIWV0X0sGytVGBuhUFy2DpwtUUydbZMpNdG1xrwY440x9u7DXVI61+4PD8/Dw3nO/5zzP8/R8RQkZ75TC9lVMmsrpJNJCirsbXaxsRbDVO2kvKoBa/s7Ov4HjxksTlxQy3fSbG6kiYZDJJfDvPjaAD9f+YZ8PIxtj5u2/kEuj57EIMCR94aJhCMIemhwe9j35sh/EgrFw9T5Y6pRv0Eunye1uoxRr1DX3k02q6DPxjAIYGvxsnhrikoRquudiGaZpeB5jDoFJRnjzuVhVSdIu8h0ANc+61Ltnl5mA+MAWB0uqqwyTQe85DIJRLNcevDXnyGUpFauHb3E3E/nAOh+e5iZyQDr0RAH+gbwfnixRKT75axPlWtkZq770W/ESs729w2wvgXTVy9hEMDT48PqcLF4J0R9jUzDfi+FvIJQIZX2YgCpBzEa23rJZeI8/9G3Ov39WT+1TR5EUSpFLJpl7K1eFm74qTVBpajVPBwMkJ7zE4+FyWUSjJ07yfdffko8GiEejRCLxRBNMs3tvdQ0uLC5DjH51XG1pEnXq++WSAp5hUJeobVdK1cRK7c1PZzuNuZvBqgUQdBDTYOLX8e15ljKP9Li5bc+Jr34O8JKQmHl9hSb2xC8OoK7zYunx8fNgJ8qq4y9pRtTjQOhQsL3yVlSyxEsDhdbikLZlgfRLFPYUkgth6kUtayLsNQ5WCrkESyHfMxfH+OlY8MYXx9AMsvMTAZI3w2QBqKSzJHjpxi/MIIoSRzs6oFykew22A/2YqnTAjj6wSlymSSZtRiFvIJokhEqJJRMgrIrgfkvOmyFz3WpCE2dr2CqcRKcGMewk0Gvg2c7e0is51AWf6NsO0PrYR+3Jq+xFvJzLxyitbufH74eYeVehEw6wTbluDt7qKrfyx8TlxBq27R/Yuv0MR0cI7t+hucO+3jj/WFymQRLswHsLV5uXBsDwFTtRDBIJW3cHi/xaARVSWC2SNidHuytXgBm/ReZC4UYGp/SlXr59GCHGl+YprEKGu0yzS/0U9vsKbXoRnwZ0WylkFeIhkMYBLC3eMluKlRZtdIUA4vOT7HwQOHEj9o/3DUGThy1qA9zKexmkI1g2+PG4nBhtbu1bP5pgiLxdl4TPbkc4f5KjNUsrG7AmcAj308cbqcHO9TY3WmeqQBjBYgCVBoetyk8hM1tyOa1tVUAd2cfQ6MTuicOyKdhdKhPBQgHJ0p3zn0dSCbLLqf/xt9dB50WCfxmLAAAAABJRU5ErkJggg==",Fr=1e3,ec=60,tc=Intl.DateTimeFormat("en",{dateStyle:"short",timeStyle:"short"});function nc(){const[t]=ie(cs),[e]=ie(Nr),[n]=ie(Ar),[r,s]=ae([]),[i,o]=ae(0),[a,c]=ae(new Map),[l,d]=ae(null),[u,k]=ae(new Date),S=Ct(null);_e(()=>{l&&clearInterval(l),d(setInterval(async()=>{var F;if(k(new Date),i!==0||!n)return;const q=await Xs(t,i);if(!(q[0].id!==r[0].id))return;const Z=((F=q.map(($,M)=>({...$,index:M})).find($=>r[0].id===$.id))==null?void 0:F.index)??0,z=q.slice(0,Z);console.log(q,r,z),z.forEach($=>{S.current&&(S.current.innerHTML=qa($.content),new Notification(`New comment from ${a.get($.studio)}`,{body:`${$.author.username}: "${S.current.textContent}"`,icon:$.author.image}))}),s(q)},1.5*ec*Fr))},[t,r,i,n,a]),_e(()=>{(async()=>(s(await Xs(t,i)),c(await Qa(new Set(t)))))()},[t,i]);const m=()=>{o(q=>q-1)},I=()=>{o(q=>q+1)};return v("div",{class:"flex flex-col gap-2",children:[v("span",{class:"hidden",ref:S}),v("h2",{class:"text-xl font-bold",children:["Comments (",i===0?v(te,{children:""}):v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:m,children:""})," ",i+1," ",r.length===0?v(te,{children:""}):v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:I,children:""}),")"," ",v("span",{class:"text-base font-normal italic",children:["(Latest update: ",tc.format(u),")"]})]}),e.length===0?null:v("div",{class:"mb-4 space-y-2",children:[" ",e.map((q,V)=>v(ts,{...q},V))]}),r.length===0?v("p",{class:"w-full text-lg italic",children:t.length===0?"Add some studio IDs on the left! The comments from them will appear over here.":i===0?"There are no comments here.":"No comments left."}):r.map((q,V)=>v(ts,{...q,studioName:a.get(q.studio)??"",showIfPinned:!1},V))]})}function ts({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o,showIfPinned:a=!0,reply:c=!1}){const[l]=ie(Rr),[d,u]=ie(Cr),[k,S]=ie(so),[m,I]=ie(Nr),[q,V]=ae(!1),Z=Ct(null),[z,F]=ae(null),$=`https://scratch.mit.edu/users/${r.username}`,K=ja(e,{className:"font-bold text-sky-600 dark:text-sky-500 hover:underline",defaultProtocol:"https"}).replace(/&amp;/g,"&").replace(/<img src="\/images\/emoji\/meow.png"/g,`<img src="${Ga}"`).replace(/<img src="\/images\/emoji\/gobo.png"/g,`<img src="${Ka}"`).replace(/<img src="\/images\/emoji\/waffle.png"/g,`<img src="${Xa}"`).replace(/<img src="\/images\/emoji/g,'<img src="https://scratch.mit.edu/images/emoji').replace(/<img/g,'<img class="inline-block max-w-[24px]"'),f=new Date(n),[_,T]=ae(Pn(new Date)),g=f.getTime()<=d,A=m.find(R=>R.id===t),x=!!A;if(x&&!a||g&&l)return null;_e(()=>{const R=()=>{T(Pn(new Date))};z&&clearInterval(z),F(setInterval(R,Fr)),R()});const C=()=>{V(!q)},j=()=>{u(f.getTime())},H=()=>{if(x){const R=m.indexOf(A);I([...m.slice(0,R),...m.slice(R+1)])}else{const R=[...m];R.push({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o}),I(R)}},O=()=>{if(!Z.current)return;const R=Z.current.value,W={...k};W[t.toString()]=R,console.log(W),S(W)};return v("div",{class:` w-full rounded-xl px-2 py-1 ${c?"bg-stone-200 dark:bg-stone-800":"bg-stone-300 dark:bg-stone-700"} ${g&&!x?"opacity-80":""}`,children:[v("div",{class:"flex items-center gap-2",children:[v("a",{href:$,children:v("img",{class:"h-12 min-h-[theme(spacing.12)] w-12 min-w-[theme(spacing.12)] rounded-lg",src:r.image,alt:`${r.username}'s profile picture`})}),v("div",{class:"w-full",children:[v("span",{class:"flex items-center gap-2",children:[x?v("img",{class:"inline-block h-4 w-4",src:Ya,title:"Pinned",alt:"Pin emoji"}):null,v("a",{href:$,class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:r.username}),c?null:v("span",{class:"italic",children:o})]}),v("p",{dangerouslySetInnerHTML:{__html:K},style:{overflowWrap:"anywhere"}}),c?null:v(te,{children:[s===0?"No replies":v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:C,children:[q?"Hide":"Show"," replies (",s,"/25)"]})," ","-"," ",g?"Read":v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:j,children:"Mark as read"})," ","-"," ",v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:H,children:x?"Unpin":"Pin"}),x?v("input",{class:"ml-2 rounded-xl bg-stone-200 px-2 py-1 dark:bg-stone-800",placeholder:"Pin reason",onChange:O,value:k[t]??"",ref:Z}):null]}),v("span",{class:"float-right",children:[v("span",{title:f.toISOString(),children:Pn(f)})," ","-"," ",v("a",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",href:`https://scratch.mit.edu/studios/${i}/comments#comments-${t}`,target:"_blank",children:"View on Scratch"})]})]})]}),q?v("div",{class:"ml-4 mt-2 space-y-1",children:v(sc,{id:t,studio:i,studioName:o})}):null]})}function sc({id:t,studio:e,studioName:n}){const[r,s]=ae([]);return _e(()=>{(async()=>s(await Ba(e,t)))()},[]),v(te,{children:r.map(i=>v(ts,{...i,studioName:n,reply:!0}))})}function rc(){return v(te,{children:[v("header",{class:"mb-2 flex items-center justify-between gap-2",children:[v("nav",{class:"flex items-center gap-2",children:[v("h1",{class:"inline-block text-3xl font-bold",children:"Commenstudio"}),v("a",{href:"https://github.com/mybearworld/commenstudio",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Github"}),v("a",{href:"https://scratch.mit.edu/discuss/topic/717430",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Topic"})]}),v(ic,{})]}),v("div",{class:"flex max-w-full gap-8",children:[v("div",{class:"min-w-[theme(spacing.48)]",children:[v(ia,{}),v("div",{class:"mt-4 flex flex-col items-start",children:[v(oc,{}),v(ac,{}),v(cc,{})]})]}),v("div",{class:"flex-1",children:v(nc,{})})]})]})}function ic(){const[t,e]=ie(no);return _e(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:()=>{e(!t)},children:t?"Light mode":"Dark mode"})}function oc(){const[t,e]=ie(Cr);return v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:()=>{confirm("Are you sure you want to reset your read date? Every comment will appear as unread if you do this.")&&e(0)},children:"Reset read date"})}function ac(){const[t,e]=ie(Ar);return _e(()=>{Notification.permission==="granted"&&e(!0)},[]),v(te,{children:t?null:v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:async()=>{await Notification.requestPermission()==="granted"&&(console.log("cool"),e(!0))},children:"Enable notifications"})})}function cc(){const[t,e]=ie(Rr),n=Ct(null);return v("label",{children:["Hide read comments:",v("input",{type:"checkbox",class:"ml-2",onClick:()=>{n.current&&e(n.current.checked)},checked:t,ref:n})]})}Ye(v(rc,{}),document.getElementById("app"));
