(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var At,w,nr,Le,ms,sr,In,rr,Ke={},ir=[],Qr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vn=Array.isArray;function ye(t,e){for(var n in e)t[n]=e[n];return t}function or(t){var e=t.parentNode;e&&e.removeChild(t)}function Te(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?At.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return at(t,o,r,s,null)}function at(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++nr};return s==null&&w.vnode!=null&&w.vnode(i),i}function Jr(){return{current:null}}function te(t){return t.children}function pe(t,e){this.props=t,this.context=e}function ft(t,e){if(e==null)return t.__?ft(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?ft(t):null}function ar(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ar(t)}}function Ln(t){(!t.__d&&(t.__d=!0)&&Le.push(t)&&!Ht.__r++||ms!==w.debounceRendering)&&((ms=w.debounceRendering)||sr)(Ht)}function Ht(){var t,e,n,r,s,i,o,a,c;for(Le.sort(In);t=Le.shift();)t.__d&&(e=Le.length,r=void 0,s=void 0,i=void 0,a=(o=(n=t).__v).__e,(c=n.__P)&&(r=[],s=[],(i=ye({},o)).__v=o.__v+1,ts(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??ft(o),o.__h,s),dr(r,o,s),o.__e!=a&&ar(o)),Le.length>e&&Le.sort(In));Ht.__r=0}function cr(t,e,n,r,s,i,o,a,c,l,d){var u,T,A,h,O,G,Z,U,V,F=0,H=r&&r.__k||ir,P=H.length,J=P,f=e.length;for(n.__k=[],u=0;u<f;u++)(h=n.__k[u]=(h=e[u])==null||typeof h=="boolean"||typeof h=="function"?null:typeof h=="string"||typeof h=="number"||typeof h=="bigint"?at(null,h,null,null,h):vn(h)?at(te,{children:h},null,null,null):h.__b>0?at(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)!=null?(h.__=n,h.__b=n.__b+1,(U=Fr(h,H,Z=u+F,J))===-1?A=Ke:(A=H[U]||Ke,H[U]=void 0,J--),ts(t,h,A,s,i,o,a,c,l,d),O=h.__e,(T=h.ref)&&A.ref!=T&&(A.ref&&ns(A.ref,null,h),d.push(T,h.__c||O,h)),O!=null&&(G==null&&(G=O),(V=A===Ke||A.__v===null)?U==-1&&F--:U!==Z&&(U===Z+1?F++:U>Z?J>f-Z?F+=U-Z:F--:F=U<Z&&U==Z-1?U-Z:0),Z=u+F,typeof h.type!="function"||U===Z&&A.__k!==h.__k?typeof h.type=="function"||U===Z&&!V?h.__d!==void 0?(c=h.__d,h.__d=void 0):c=O.nextSibling:c=lr(t,O,c):c=ur(h,c,t),typeof n.type=="function"&&(n.__d=c))):(A=H[u])&&A.key==null&&A.__e&&(A.__e==c&&(A.__=r,c=ft(A)),Mn(A,A,!1),H[u]=null);for(n.__e=G,u=P;u--;)H[u]!=null&&(typeof n.type=="function"&&H[u].__e!=null&&H[u].__e==n.__d&&(n.__d=H[u].__e.nextSibling),Mn(H[u],H[u]))}function ur(t,e,n){for(var r,s=t.__k,i=0;s&&i<s.length;i++)(r=s[i])&&(r.__=t,e=typeof r.type=="function"?ur(r,e,n):lr(n,r.__e,e));return e}function be(t,e){return e=e||[],t==null||typeof t=="boolean"||(vn(t)?t.some(function(n){be(n,e)}):e.push(t)),e}function lr(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function Fr(t,e,n,r){var s=t.key,i=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&s==c.key&&i===c.type)return n;if(r>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&s==c.key&&i===c.type)return o;o--}if(a<e.length){if((c=e[a])&&s==c.key&&i===c.type)return a;a++}}return-1}function Kr(t,e,n,r,s){var i;for(i in n)i==="children"||i==="key"||i in e||qt(t,i,null,n[i],r);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===e[i]||qt(t,i,e[i],n[i],r)}function _s(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Qr.test(e)?n:n+"px"}function qt(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||_s(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||_s(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?ys:gs,i)):t.removeEventListener(e,i?ys:gs,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function gs(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(w.event?w.event(t):t)}function ys(t){return this.l[t.type+!0](w.event?w.event(t):t)}function ts(t,e,n,r,s,i,o,a,c,l){var d,u,T,A,h,O,G,Z,U,V,F,H,P,J,f,_=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,i=[a]),(d=w.__b)&&d(e);e:if(typeof _=="function")try{if(Z=e.props,U=(d=_.contextType)&&r[d.__c],V=d?U?U.props.value:d.__:r,n.__c?G=(u=e.__c=n.__c).__=u.__E:("prototype"in _&&_.prototype.render?e.__c=u=new _(Z,V):(e.__c=u=new pe(Z,V),u.constructor=_,u.render=Yr),U&&U.sub(u),u.props=Z,u.state||(u.state={}),u.context=V,u.__n=r,T=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),_.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=ye({},u.__s)),ye(u.__s,_.getDerivedStateFromProps(Z,u.__s))),A=u.props,h=u.state,u.__v=e,T)_.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(_.getDerivedStateFromProps==null&&Z!==A&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(Z,V),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(Z,u.__s,V)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(u.props=Z,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(x){x&&(x.__=e)}),F=0;F<u._sb.length;F++)u.__h.push(u._sb[F]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(Z,u.__s,V),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(A,h,O)})}if(u.context=V,u.props=Z,u.__P=t,u.__e=!1,H=w.__r,P=0,"prototype"in _&&_.prototype.render){for(u.state=u.__s,u.__d=!1,H&&H(e),d=u.render(u.props,u.state,u.context),J=0;J<u._sb.length;J++)u.__h.push(u._sb[J]);u._sb=[]}else do u.__d=!1,H&&H(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++P<25);u.state=u.__s,u.getChildContext!=null&&(r=ye(ye({},r),u.getChildContext())),T||u.getSnapshotBeforeUpdate==null||(O=u.getSnapshotBeforeUpdate(A,h)),cr(t,vn(f=d!=null&&d.type===te&&d.key==null?d.props.children:d)?f:[f],e,n,r,s,i,o,a,c,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),G&&(u.__E=u.__=null)}catch(x){e.__v=null,(c||i!=null)&&(e.__e=a,e.__h=!!c,i[i.indexOf(a)]=null),w.__e(x,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Gr(n.__e,e,n,r,s,i,o,c,l);(d=w.diffed)&&d(e)}function dr(t,e,n){for(var r=0;r<n.length;r++)ns(n[r],n[++r],n[++r]);w.__c&&w.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){w.__e(i,s.__v)}})}function Gr(t,e,n,r,s,i,o,a,c){var l,d,u,T=n.props,A=e.props,h=e.type,O=0;if(h==="svg"&&(s=!0),i!=null){for(;O<i.length;O++)if((l=i[O])&&"setAttribute"in l==!!h&&(h?l.localName===h:l.nodeType===3)){t=l,i[O]=null;break}}if(t==null){if(h===null)return document.createTextNode(A);t=s?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,A.is&&A),i=null,a=!1}if(h===null)T===A||a&&t.data===A||(t.data=A);else{if(i=i&&At.call(t.childNodes),d=(T=n.props||Ke).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!a){if(i!=null)for(T={},O=0;O<t.attributes.length;O++)T[t.attributes[O].name]=t.attributes[O].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(Kr(t,A,T,s,a),u)e.__k=[];else if(cr(t,vn(O=e.props.children)?O:[O],e,n,r,s&&h!=="foreignObject",i,o,i?i[0]:n.__k&&ft(n,0),a,c),i!=null)for(O=i.length;O--;)i[O]!=null&&or(i[O]);a||("value"in A&&(O=A.value)!==void 0&&(O!==t.value||h==="progress"&&!O||h==="option"&&O!==T.value)&&qt(t,"value",O,T.value,!1),"checked"in A&&(O=A.checked)!==void 0&&O!==t.checked&&qt(t,"checked",O,T.checked,!1))}return t}function ns(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){w.__e(r,n)}}function Mn(t,e,n){var r,s;if(w.unmount&&w.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||ns(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){w.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Mn(r[s],e,n||typeof t.type!="function");n||t.__e==null||or(t.__e),t.__=t.__e=t.__d=void 0}function Yr(t,e,n){return this.constructor(t,n)}function Ye(t,e,n){var r,s,i,o;w.__&&w.__(t,e),s=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],o=[],ts(e,t=(!r&&n||e).__k=Te(te,null,[t]),s||Ke,Ke,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?At.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r,o),dr(i,t,o)}function fr(t,e){Ye(t,e,fr)}function Xr(t,e,n){var r,s,i,o,a=ye({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?r=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?At.call(arguments,2):n),at(t.type,a,r||t.key,s||t.ref,null)}function hr(t,e){var n={__c:e="__cC"+rr++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Ln(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}At=ir.slice,w={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},nr=0,pe.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ye({},this.state),typeof t=="function"&&(t=t(ye({},n),this.props)),t&&ye(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Ln(this))},pe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Ln(this))},pe.prototype.render=te,Le=[],sr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,In=function(t,e){return t.__v.__b-e.__v.__b},Ht.__r=0,rr=0;var Ne,W,Sn,vs,Xe=0,pr=[],Ut=[],bs=w.__b,ks=w.__r,Ts=w.diffed,xs=w.__c,ws=w.unmount;function st(t,e){w.__h&&w.__h(W,t,Xe||e),Xe=0;var n=W.__H||(W.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Ut}),n.__[t]}function ve(t){return Xe=1,ss(yr,t)}function ss(t,e,n){var r=st(Ne++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):yr(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=W,!W.u)){var s=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(T){return T.__c});if(d.every(function(T){return!T.__N}))return!i||i.call(this,a,c,l);var u=!1;return d.forEach(function(T){if(T.__N){var A=T.__[0];T.__=T.__N,T.__N=void 0,A!==T.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!i||i.call(this,a,c,l))};W.u=!0;var i=W.shouldComponentUpdate,o=W.componentWillUpdate;W.componentWillUpdate=function(a,c,l){if(this.__e){var d=i;i=void 0,s(a,c,l),i=d}o&&o.call(this,a,c,l)},W.shouldComponentUpdate=s}return r.__N||r.__}function xe(t,e){var n=st(Ne++,3);!w.__s&&is(n.__H,e)&&(n.__=t,n.i=e,W.__H.__h.push(n))}function bn(t,e){var n=st(Ne++,4);!w.__s&&is(n.__H,e)&&(n.__=t,n.i=e,W.__h.push(n))}function Ct(t){return Xe=5,rs(function(){return{current:t}},[])}function ei(t,e,n){Xe=6,bn(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function rs(t,e){var n=st(Ne++,7);return is(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function mr(t,e){return Xe=8,rs(function(){return t},e)}function _r(t){var e=W.context[t.__c],n=st(Ne++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(W)),e.props.value):t.__}function gr(t,e){w.useDebugValue&&w.useDebugValue(e?e(t):t)}function ti(){var t=st(Ne++,11);if(!t.__){for(var e=W.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function ni(){for(var t;t=pr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Vt),t.__H.__h.forEach(jn),t.__H.__h=[]}catch(e){t.__H.__h=[],w.__e(e,t.__v)}}w.__b=function(t){W=null,bs&&bs(t)},w.__r=function(t){ks&&ks(t),Ne=0;var e=(W=t.__c).__H;e&&(Sn===W?(e.__h=[],W.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ut,n.__N=n.i=void 0})):(e.__h.forEach(Vt),e.__h.forEach(jn),e.__h=[],Ne=0)),Sn=W},w.diffed=function(t){Ts&&Ts(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(pr.push(e)!==1&&vs===w.requestAnimationFrame||((vs=w.requestAnimationFrame)||si)(ni)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ut&&(n.__=n.__V),n.i=void 0,n.__V=Ut})),Sn=W=null},w.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Vt),n.__h=n.__h.filter(function(r){return!r.__||jn(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],w.__e(r,n.__v)}}),xs&&xs(t,e)},w.unmount=function(t){ws&&ws(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Vt(r)}catch(s){e=s}}),n.__H=void 0,e&&w.__e(e,n.__v))};var Ss=typeof requestAnimationFrame=="function";function si(t){var e,n=function(){clearTimeout(r),Ss&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Ss&&(e=requestAnimationFrame(n))}function Vt(t){var e=W,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),W=e}function jn(t){var e=W;t.__c=t.__(),W=e}function is(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function yr(t,e){return typeof e=="function"?e(t):e}let ri=0;function Un(t,e){const n=`atom${++ri}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=s=>s(r),r.write=(s,i,o)=>i(r,typeof o=="function"?o(s(r)):o)),e&&(r.write=e),r}const Es=t=>"init"in t,As=t=>!!t.write,Wt=new WeakMap,ii=(t,e)=>{Wt.set(t,e),t.catch(()=>{}).finally(()=>Wt.delete(t))},Cs=(t,e)=>{const n=Wt.get(t);n&&(Wt.delete(t),n(e))},Ns=(t,e)=>{t.status="fulfilled",t.value=e},Rs=(t,e)=>{t.status="rejected",t.reason=e},oi=t=>typeof(t==null?void 0:t.then)=="function",Pt=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),Os=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),it=t=>"v"in t&&t.v instanceof Promise,ai=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,It=t=>{if("e"in t)throw t.e;return t.v},ci=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,s;const i=f=>t.get(f),o=(f,_)=>{const x=t.get(f);if(t.set(f,_),n.has(f)||n.set(f,x),x&&it(x)){const g="v"in _?_.v instanceof Promise?_.v:Promise.resolve(_.v):Promise.reject(_.e);x.v!==g&&Cs(x.v,g)}},a=(f,_,x)=>{const g=new Map;let E=!1;x.forEach((C,k)=>{!C&&k===f&&(C=_),C&&(g.set(k,C),_.d.get(k)!==C&&(E=!0))}),(E||_.d.size!==g.size)&&(_.d=g)},c=(f,_,x)=>{const g=i(f),E={d:(g==null?void 0:g.d)||new Map,v:_};if(x&&a(f,E,x),g&&Pt(g,E)&&g.d===E.d)return g;if(g&&it(g)&&it(E)&&ai(g,E)){if(g.d===E.d)return g;E.v=g.v}return o(f,E),E},l=(f,_,x,g)=>{if(oi(_)){let E;const C=new Promise((k,I)=>{let B=!1;_.then(L=>{if(!B){B=!0;const $=i(f),q=c(f,C,x);Ns(C,L),k(L),e.has(f)&&($==null?void 0:$.d)!==q.d&&H(f,q,$==null?void 0:$.d)}},L=>{if(!B){B=!0;const $=i(f),q=c(f,C,x);Rs(C,L),I(L),e.has(f)&&($==null?void 0:$.d)!==q.d&&H(f,q,$==null?void 0:$.d)}}),E=L=>{B||(B=!0,L.then($=>Ns(C,$),$=>Rs(C,$)),k(L))}});return C.orig=_,C.status="pending",ii(C,k=>{k&&E(k),g==null||g()}),c(f,C,x)}return c(f,_,x)},d=(f,_,x)=>{const g=i(f),E={d:(g==null?void 0:g.d)||new Map,e:_};return x&&a(f,E,x),g&&Os(g,E)&&g.d===E.d?g:(o(f,E),E)},u=(f,_)=>{const x=i(f);if(!_&&x&&(e.has(f)||Array.from(x.d).every(([L,$])=>L===f||u(L)===$)))return x;const g=new Map;let E=!0;const C=L=>{if(L===f){const q=i(L);if(q)return g.set(L,q),It(q);if(Es(L))return g.set(L,void 0),L.init;throw new Error("no atom init")}const $=u(L);return g.set(L,$),It($)};let k,I;const B={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!I&&As(f)&&(I=(...L)=>{if(!E)return U(f,...L)}),I}};try{const L=f.read(C,B);return l(f,L,g,()=>k==null?void 0:k.abort())}catch(L){return d(f,L,g)}finally{E=!1}},T=f=>It(u(f)),A=f=>{let _=e.get(f);return _||(_=V(f)),_},h=(f,_)=>!_.l.size&&(!_.t.size||_.t.size===1&&_.t.has(f)),O=f=>{const _=e.get(f);_&&h(f,_)&&F(f)},G=f=>{const _=new Map,x=new WeakMap,g=k=>{var I;const B=new Set((I=e.get(k))==null?void 0:I.t);return n.forEach((L,$)=>{var q;(q=i($))!=null&&q.d.has(k)&&B.add($)}),B},E=k=>{g(k).forEach(I=>{I!==k&&(_.set(I,(_.get(I)||new Set).add(k)),x.set(I,(x.get(I)||0)+1),E(I))})};E(f);const C=k=>{g(k).forEach(I=>{var B;if(I!==k){let L=x.get(I);if(L&&x.set(I,--L),!L){let $=!!((B=_.get(I))!=null&&B.size);if($){const q=i(I),Pe=u(I,!0);$=!q||!Pt(q,Pe)}$||_.forEach(q=>q.delete(I))}C(I)}})};C(f)},Z=(f,..._)=>{let x=!0;const g=k=>It(u(k)),E=(k,...I)=>{let B;if(k===f){if(!Es(k))throw new Error("atom not writable");const L=i(k),$=l(k,I[0]);(!L||!Pt(L,$))&&G(k)}else B=Z(k,...I);if(!x){const L=P()}return B},C=f.write(g,E,..._);return x=!1,C},U=(f,..._)=>{const x=Z(f,..._),g=P();return x},V=(f,_,x)=>{var g;const E=x||[];(g=i(f))==null||g.d.forEach((k,I)=>{const B=e.get(I);B?B.t.add(f):I!==f&&V(I,f,E)}),u(f);const C={t:new Set(_&&[_]),l:new Set};if(e.set(f,C),As(f)&&f.onMount){const{onMount:k}=f;E.push(()=>{const I=k((...B)=>U(f,...B));I&&(C.u=I)})}return x||E.forEach(k=>k()),C},F=f=>{var _;const x=(_=e.get(f))==null?void 0:_.u;x&&x(),e.delete(f);const g=i(f);g&&(it(g)&&Cs(g.v),g.d.forEach((E,C)=>{if(C!==f){const k=e.get(C);k&&(k.t.delete(f),h(C,k)&&F(C))}}))},H=(f,_,x)=>{const g=new Set(_.d.keys());x==null||x.forEach((E,C)=>{if(g.has(C)){g.delete(C);return}const k=e.get(C);k&&(k.t.delete(f),h(C,k)&&F(C))}),g.forEach(E=>{const C=e.get(E);C?C.t.add(f):e.has(f)&&V(E,f)})},P=()=>{let f;for(;n.size;){const _=Array.from(n);n.clear(),_.forEach(([x,g])=>{const E=i(x);if(E){const C=e.get(x);C&&E.d!==(g==null?void 0:g.d)&&H(x,E,g==null?void 0:g.d),C&&!(g&&!it(g)&&(Pt(g,E)||Os(g,E)))&&C.l.forEach(k=>k())}})}};return{get:T,set:U,sub:(f,_)=>{const x=A(f),g=P(),E=x.l;return E.add(_),()=>{E.delete(_),O(f)}}}};let En;const ui=()=>(En||(En=ci()),En);function vr(t,e){for(var n in e)t[n]=e[n];return t}function Vn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function An(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function Zn(t){this.props=t}function li(t,e){function n(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:Vn(this.props,s)}function r(s){return this.shouldComponentUpdate=n,Te(t,s)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Zn.prototype=new pe).isPureReactComponent=!0,Zn.prototype.shouldComponentUpdate=function(t,e){return Vn(this.props,t)||Vn(this.state,e)};var Ds=w.__b;w.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ds&&Ds(t)};var di=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function fi(t){function e(n){var r=vr({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=di,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Ps=function(t,e){return t==null?null:be(be(t).map(e))},hi={map:Ps,forEach:Ps,count:function(t){return t?be(t).length:0},only:function(t){var e=be(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:be},pi=w.__e;w.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}pi(t,e,n,r)};var Is=w.unmount;function br(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=vr({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return br(r,e,n)})),t}function kr(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return kr(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function Zt(){this.__u=0,this.t=null,this.__b=null}function Tr(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function mi(t){var e,n,r;function s(i){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return Te(n,i)}return s.displayName="Lazy",s.__f=!0,s}function ot(){this.u=null,this.o=null}w.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Is&&Is(t)},(Zt.prototype=new pe).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=Tr(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=kr(l,l.__c.__P,l.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Zt.prototype.componentWillUnmount=function(){this.t=[]},Zt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=br(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&Te(te,null,t.fallback);return s&&(s.__h=null),[Te(te,null,e.__a?null:t.children),s]};var Ls=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function _i(t){return this.getChildContext=function(){return t.context},t.children}function gi(t){var e=this,n=t.i;e.componentWillUnmount=function(){Ye(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Ye(Te(_i,{context:e.context},t.__v),e.l)}function yi(t,e){var n=Te(gi,{__v:t,i:e});return n.containerInfo=e,n}(ot.prototype=new pe).__a=function(t){var e=this,n=Tr(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),Ls(e,t,r)):s()};n?n(i):i()}},ot.prototype.render=function(t){this.u=null,this.o=new Map;var e=be(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},ot.prototype.componentDidUpdate=ot.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Ls(t,n,e)})};var xr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,vi=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,bi=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ki=/[A-Z0-9]/g,Ti=typeof document<"u",xi=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function wi(t,e,n){return e.__k==null&&(e.textContent=""),Ye(t,e),typeof n=="function"&&n(),t?t.__c:null}function Si(t,e,n){return fr(t,e),typeof n=="function"&&n(),t?t.__c:null}pe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(pe.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Ms=w.event;function Ei(){}function Ai(){return this.cancelBubble}function Ci(){return this.defaultPrevented}w.event=function(t){return Ms&&(t=Ms(t)),t.persist=Ei,t.isPropagationStopped=Ai,t.isDefaultPrevented=Ci,t.nativeEvent=t};var os,Ni={enumerable:!1,configurable:!0,get:function(){return this.class}},js=w.vnode;w.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,s={};for(var i in n){var o=n[i];if(!(i==="value"&&"defaultValue"in n&&o==null||Ti&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||xi(n.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":bi.test(i)?i=a:r.indexOf("-")===-1&&vi.test(i)?i=i.replace(ki,"-$&").toLowerCase():o===null&&(o=void 0):a=i="oninput",a==="oninput"&&s[i=a]&&(i="oninputCapture"),s[i]=o}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=be(n.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=be(n.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Ni)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=xr,js&&js(t)};var Us=w.__r;w.__r=function(t){Us&&Us(t),os=t.__c};var Vs=w.diffed;w.diffed=function(t){Vs&&Vs(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),os=null};var Ri={ReactCurrentDispatcher:{current:{readContext:function(t){return os.__n[t.__c].props.value}}}};function Oi(t){return Te.bind(null,t)}function kn(t){return!!t&&t.$$typeof===xr}function Di(t){return kn(t)&&t.type===te}function Pi(t){return kn(t)?Xr.apply(null,arguments):t}function Ii(t){return!!t.__k&&(Ye(null,t),!0)}function Li(t){return t&&(t.base||t.nodeType===1&&t)||null}var Mi=function(t,e){return t(e)},ji=function(t,e){return t(e)},Ui=te;function wr(t){t()}function Vi(t){return t}function Zi(){return[!1,wr]}var $i=bn,zi=kn;function Bi(t,e){var n=e(),r=ve({h:{__:n,v:e}}),s=r[0].h,i=r[1];return bn(function(){s.__=n,s.v=e,An(s.__,e())||i({h:s})},[t,n,e]),xe(function(){return An(s.__,s.v())||i({h:s}),t(function(){An(s.__,s.v())||i({h:s})})},[t]),n}var Hi={useState:ve,useId:ti,useReducer:ss,useEffect:xe,useLayoutEffect:bn,useInsertionEffect:$i,useTransition:Zi,useDeferredValue:Vi,useSyncExternalStore:Bi,startTransition:wr,useRef:Ct,useImperativeHandle:ei,useMemo:rs,useCallback:mr,useContext:_r,useDebugValue:gr,version:"17.0.2",Children:hi,render:wi,hydrate:Si,unmountComponentAtNode:Ii,createPortal:yi,createElement:Te,createContext:hr,createFactory:Oi,cloneElement:Pi,createRef:Jr,Fragment:te,isValidElement:kn,isElement:zi,isFragment:Di,findDOMNode:Li,Component:pe,PureComponent:Zn,memo:li,forwardRef:fi,flushSync:ji,unstable_batchedUpdates:Mi,StrictMode:Ui,Suspense:Zt,SuspenseList:ot,lazy:mi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ri};const qi=hr(void 0),Sr=t=>{const e=_r(qi);return(t==null?void 0:t.store)||e||ui()},Wi=t=>typeof(t==null?void 0:t.then)=="function",Qi=Hi.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function Ji(t,e){const n=Sr(e),[[r,s,i],o]=ss(l=>{const d=n.get(t);return Object.is(l[0],d)&&l[1]===n&&l[2]===t?l:[d,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(s!==n||i!==t)&&(o(),a=n.get(t));const c=e==null?void 0:e.delay;return xe(()=>{const l=n.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),l},[n,t,c]),gr(a),Wi(a)?Qi(a):a}function Fi(t,e){const n=Sr(e);return mr((...s)=>n.set(t,...s),[n,t])}function ie(t,e){return[Ji(t,e),Fi(t,e)]}const Ki=Symbol(),Gi=t=>typeof(t==null?void 0:t.then)=="function";function Yi(t){let e,n;const r={getItem:(s,i)=>{var o,a;const c=d=>{if(d=d||"",e!==d){try{n=JSON.parse(d)}catch{return i}e=d}return n},l=(a=(o=t())==null?void 0:o.getItem(s))!=null?a:null;return Gi(l)?l.then(c):c(l)},setItem:(s,i)=>{var o;return(o=t())==null?void 0:o.setItem(s,JSON.stringify(i))},removeItem:s=>{var i;return(i=t())==null?void 0:i.removeItem(s)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r.subscribe=(s,i,o)=>{if(!(t()instanceof window.Storage))return()=>{};const a=c=>{if(c.storageArea===t()&&c.key===s){let l;try{l=JSON.parse(c.newValue||"")}catch{l=o}i(l)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),r}const Xi=Yi(()=>typeof window<"u"?window.localStorage:void 0);function rt(t,e,n=Xi,r){const s=r==null?void 0:r.unstable_getOnInit,i=Un(s?n.getItem(t,e):e);return i.onMount=a=>{s||a(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,a,e)),c},Un(a=>a(i),(a,c,l)=>{const d=typeof l=="function"?l(a(i)):l;return d===Ki?(c(i,e),n.removeItem(t)):d instanceof Promise?d.then(u=>(c(i,u),n.setItem(t,u))):(c(i,d),n.setItem(t,d))})}const Er=Un(!1),eo=rt("commenstudio:darkMode",matchMedia("(prefers-color-scheme: dark)").matches),as=rt("commenstudio:studios",[]),Ar=rt("commenstudio:readTo",0),Cr=rt("commenstudio:pinnedComments",[]),to=rt("commenstudio:pinReasons",{}),Nr=rt("commenstudio:hideRead",!1);var z;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(z||(z={}));var $n;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})($n||($n={}));const y=z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ae=t=>{switch(typeof t){case"undefined":return y.undefined;case"string":return y.string;case"number":return isNaN(t)?y.nan:y.number;case"boolean":return y.boolean;case"function":return y.function;case"bigint":return y.bigint;case"symbol":return y.symbol;case"object":return Array.isArray(t)?y.array:t===null?y.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?y.promise:typeof Map<"u"&&t instanceof Map?y.map:typeof Set<"u"&&t instanceof Set?y.set:typeof Date<"u"&&t instanceof Date?y.date:y.object;default:return y.unknown}},m=z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),no=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ce extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ce.create=t=>new ce(t);const ht=(t,e)=>{let n;switch(t.code){case m.invalid_type:t.received===y.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case m.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,z.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:n=`Unrecognized key(s) in object: ${z.joinValues(t.keys,", ")}`;break;case m.invalid_union:n="Invalid input";break;case m.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${z.joinValues(t.options)}`;break;case m.invalid_enum_value:n=`Invalid enum value. Expected ${z.joinValues(t.options)}, received '${t.received}'`;break;case m.invalid_arguments:n="Invalid function arguments";break;case m.invalid_return_type:n="Invalid function return type";break;case m.invalid_date:n="Invalid date";break;case m.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case m.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case m.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case m.custom:n="Invalid input";break;case m.invalid_intersection_types:n="Intersection results could not be merged";break;case m.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case m.not_finite:n="Number must be finite";break;default:n=e.defaultError,z.assertNever(t)}return{message:n}};let Rr=ht;function so(t){Rr=t}function Qt(){return Rr}const Jt=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},ro=[];function v(t,e){const n=Jt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Qt(),ht].filter(r=>!!r)});t.common.issues.push(n)}class X{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return D;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return X.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return D;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const D=Object.freeze({status:"aborted"}),Or=t=>({status:"dirty",value:t}),ne=t=>({status:"valid",value:t}),zn=t=>t.status==="aborted",Bn=t=>t.status==="dirty",pt=t=>t.status==="valid",Ft=t=>typeof Promise<"u"&&t instanceof Promise;var N;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(N||(N={}));class me{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zs=(t,e)=>{if(pt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ce(t.common.issues);return this._error=n,this._error}}};function M(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class j{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ae(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new X,ctx:{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ft(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Zs(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Ft(s)?s:Promise.resolve(s));return Zs(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:m.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new le({schema:this,typeName:R.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ke.create(this,this._def)}nullable(){return ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ue.create(this,this._def)}promise(){return tt.create(this,this._def)}or(e){return yt.create([this,e],this._def)}and(e){return vt.create(this,e,this._def)}transform(e){return new le({...M(this._def),schema:this,typeName:R.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wt({...M(this._def),innerType:this,defaultValue:n,typeName:R.ZodDefault})}brand(){return new Pr({typeName:R.ZodBranded,type:this,...M(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xt({...M(this._def),innerType:this,catchValue:n,typeName:R.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Nt.create(this,e)}readonly(){return tn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const io=/^c[^\s-]{8,}$/i,oo=/^[a-z][a-z0-9]*$/,ao=/^[0-9A-HJKMNP-TV-Z]{26}$/,co=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uo=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lo="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cn;const fo=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ho=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,po=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function mo(t,e){return!!((e==="v4"||!e)&&fo.test(t)||(e==="v6"||!e)&&ho.test(t))}class ae extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==y.string){const i=this._getOrReturnCtx(e);return v(i,{code:m.invalid_type,expected:y.string,received:i.parsedType}),D}const r=new X;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:m.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:m.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?v(s,{code:m.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&v(s,{code:m.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")uo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"email",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Cn||(Cn=new RegExp(lo,"u")),Cn.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"emoji",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")co.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"uuid",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")io.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")oo.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"cuid2",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")ao.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ulid",code:m.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),v(s,{validation:"url",code:m.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"regex",code:m.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),v(s,{code:m.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:m.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),v(s,{code:m.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?po(i).test(e.data)||(s=this._getOrReturnCtx(e,s),v(s,{code:m.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?mo(e.data,i.version)||(s=this._getOrReturnCtx(e,s),v(s,{validation:"ip",code:m.invalid_string,message:i.message}),r.dirty()):z.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:m.invalid_string,...N.errToObj(r)})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...N.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...N.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...N.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...N.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...N.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...N.errToObj(n)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ae.create=t=>{var e;return new ae({checks:[],typeName:R.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...M(t)})};function _o(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Re extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==y.number){const i=this._getOrReturnCtx(e);return v(i,{code:m.invalid_type,expected:y.number,received:i.parsedType}),D}let r;const s=new X;for(const i of this._def.checks)i.kind==="int"?z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),v(r,{code:m.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?_o(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),v(r,{code:m.not_finite,message:i.message}),s.dirty()):z.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,r,s){return new Re({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:N.toString(s)}]})}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Re.create=t=>new Re({checks:[],typeName:R.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...M(t)});class Oe extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==y.bigint){const i=this._getOrReturnCtx(e);return v(i,{code:m.invalid_type,expected:y.bigint,received:i.parsedType}),D}let r;const s=new X;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),v(r,{code:m.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):z.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,N.toString(n))}gt(e,n){return this.setLimit("min",e,!1,N.toString(n))}lte(e,n){return this.setLimit("max",e,!0,N.toString(n))}lt(e,n){return this.setLimit("max",e,!1,N.toString(n))}setLimit(e,n,r,s){return new Oe({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:N.toString(s)}]})}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Oe.create=t=>{var e;return new Oe({checks:[],typeName:R.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...M(t)})};class mt extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==y.boolean){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.boolean,received:r.parsedType}),D}return ne(e.data)}}mt.create=t=>new mt({typeName:R.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...M(t)});class Ze extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==y.date){const i=this._getOrReturnCtx(e);return v(i,{code:m.invalid_type,expected:y.date,received:i.parsedType}),D}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return v(i,{code:m.invalid_date}),D}const r=new X;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:m.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),v(s,{code:m.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):z.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ze({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ze.create=t=>new Ze({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:R.ZodDate,...M(t)});class Kt extends j{_parse(e){if(this._getType(e)!==y.symbol){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.symbol,received:r.parsedType}),D}return ne(e.data)}}Kt.create=t=>new Kt({typeName:R.ZodSymbol,...M(t)});class _t extends j{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.undefined,received:r.parsedType}),D}return ne(e.data)}}_t.create=t=>new _t({typeName:R.ZodUndefined,...M(t)});class gt extends j{_parse(e){if(this._getType(e)!==y.null){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.null,received:r.parsedType}),D}return ne(e.data)}}gt.create=t=>new gt({typeName:R.ZodNull,...M(t)});class et extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return ne(e.data)}}et.create=t=>new et({typeName:R.ZodAny,...M(t)});class Ve extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ne(e.data)}}Ve.create=t=>new Ve({typeName:R.ZodUnknown,...M(t)});class we extends j{_parse(e){const n=this._getOrReturnCtx(e);return v(n,{code:m.invalid_type,expected:y.never,received:n.parsedType}),D}}we.create=t=>new we({typeName:R.ZodNever,...M(t)});class Gt extends j{_parse(e){if(this._getType(e)!==y.undefined){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.void,received:r.parsedType}),D}return ne(e.data)}}Gt.create=t=>new Gt({typeName:R.ZodVoid,...M(t)});class ue extends j{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==y.array)return v(n,{code:m.invalid_type,expected:y.array,received:n.parsedType}),D;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(v(n,{code:o?m.too_big:m.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(v(n,{code:m.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(v(n,{code:m.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new me(n,o,n.path,a)))).then(o=>X.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new me(n,o,n.path,a)));return X.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new ue({...this._def,minLength:{value:e,message:N.toString(n)}})}max(e,n){return new ue({...this._def,maxLength:{value:e,message:N.toString(n)}})}length(e,n){return new ue({...this._def,exactLength:{value:e,message:N.toString(n)}})}nonempty(e){return this.min(1,e)}}ue.create=(t,e)=>new ue({type:t,minLength:null,maxLength:null,exactLength:null,typeName:R.ZodArray,...M(e)});function qe(t){if(t instanceof Q){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ke.create(qe(r))}return new Q({...t._def,shape:()=>e})}else return t instanceof ue?new ue({...t._def,type:qe(t.element)}):t instanceof ke?ke.create(qe(t.unwrap())):t instanceof ze?ze.create(qe(t.unwrap())):t instanceof _e?_e.create(t.items.map(e=>qe(e))):t}class Q extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==y.object){const l=this._getOrReturnCtx(e);return v(l,{code:m.invalid_type,expected:y.object,received:l.parsedType}),D}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof we&&this._def.unknownKeys==="strip"))for(const l in s.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const d=i[l],u=s.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new me(s,u,s.path,l)),alwaysSet:l in s.data})}if(this._def.catchall instanceof we){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(l==="strict")a.length>0&&(v(s,{code:m.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const u=s.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new me(s,u,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const u=await d.key;l.push({key:u,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>X.mergeObjectSync(r,l)):X.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new Q({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=N.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(e){return new Q({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Q({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:R.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Q({...this._def,catchall:e})}pick(e){const n={};return z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Q({...this._def,shape:()=>n})}omit(e){const n={};return z.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Q({...this._def,shape:()=>n})}deepPartial(){return qe(this)}partial(e){const n={};return z.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new Q({...this._def,shape:()=>n})}required(e){const n={};return z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof ke;)i=i._def.innerType;n[r]=i}}),new Q({...this._def,shape:()=>n})}keyof(){return Dr(z.objectKeys(this.shape))}}Q.create=(t,e)=>new Q({shape:()=>t,unknownKeys:"strip",catchall:we.create(),typeName:R.ZodObject,...M(e)});Q.strictCreate=(t,e)=>new Q({shape:()=>t,unknownKeys:"strict",catchall:we.create(),typeName:R.ZodObject,...M(e)});Q.lazycreate=(t,e)=>new Q({shape:t,unknownKeys:"strip",catchall:we.create(),typeName:R.ZodObject,...M(e)});class yt extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ce(a.ctx.common.issues));return v(n,{code:m.invalid_union,unionErrors:o}),D}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ce(c));return v(n,{code:m.invalid_union,unionErrors:a}),D}}get options(){return this._def.options}}yt.create=(t,e)=>new yt({options:t,typeName:R.ZodUnion,...M(e)});const $t=t=>t instanceof kt?$t(t.schema):t instanceof le?$t(t.innerType()):t instanceof Tt?[t.value]:t instanceof De?t.options:t instanceof xt?Object.keys(t.enum):t instanceof wt?$t(t._def.innerType):t instanceof _t?[void 0]:t instanceof gt?[null]:null;class Tn extends j{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.object)return v(n,{code:m.invalid_type,expected:y.object,received:n.parsedType}),D;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(v(n,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),D)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=$t(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new Tn({typeName:R.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...M(r)})}}function Hn(t,e){const n=Ae(t),r=Ae(e);if(t===e)return{valid:!0,data:t};if(n===y.object&&r===y.object){const s=z.objectKeys(e),i=z.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Hn(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===y.array&&r===y.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Hn(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===y.date&&r===y.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vt extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(zn(i)||zn(o))return D;const a=Hn(i.value,o.value);return a.valid?((Bn(i)||Bn(o))&&n.dirty(),{status:n.value,value:a.data}):(v(r,{code:m.invalid_intersection_types}),D)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}vt.create=(t,e,n)=>new vt({left:t,right:e,typeName:R.ZodIntersection,...M(n)});class _e extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.array)return v(r,{code:m.invalid_type,expected:y.array,received:r.parsedType}),D;if(r.data.length<this._def.items.length)return v(r,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),D;!this._def.rest&&r.data.length>this._def.items.length&&(v(r,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new me(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>X.mergeArray(n,o)):X.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new _e({...this._def,rest:e})}}_e.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _e({items:t,typeName:R.ZodTuple,rest:null,...M(e)})};class bt extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.object)return v(r,{code:m.invalid_type,expected:y.object,received:r.parsedType}),D;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new me(r,a,r.path,a)),value:o._parse(new me(r,r.data[a],r.path,a))});return r.common.async?X.mergeObjectAsync(n,s):X.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof j?new bt({keyType:e,valueType:n,typeName:R.ZodRecord,...M(r)}):new bt({keyType:ae.create(),valueType:e,typeName:R.ZodRecord,...M(n)})}}class Yt extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.map)return v(r,{code:m.invalid_type,expected:y.map,received:r.parsedType}),D;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:s._parse(new me(r,a,r.path,[l,"key"])),value:i._parse(new me(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return D;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return D;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}Yt.create=(t,e,n)=>new Yt({valueType:e,keyType:t,typeName:R.ZodMap,...M(n)});class $e extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==y.set)return v(r,{code:m.invalid_type,expected:y.set,received:r.parsedType}),D;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(v(r,{code:m.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(v(r,{code:m.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const l=new Set;for(const d of c){if(d.status==="aborted")return D;d.status==="dirty"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>i._parse(new me(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new $e({...this._def,minSize:{value:e,message:N.toString(n)}})}max(e,n){return new $e({...this._def,maxSize:{value:e,message:N.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$e.create=(t,e)=>new $e({valueType:t,minSize:null,maxSize:null,typeName:R.ZodSet,...M(e)});class Ge extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.function)return v(n,{code:m.invalid_type,expected:y.function,received:n.parsedType}),D;function r(a,c){return Jt({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qt(),ht].filter(l=>!!l),issueData:{code:m.invalid_arguments,argumentsError:c}})}function s(a,c){return Jt({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qt(),ht].filter(l=>!!l),issueData:{code:m.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof tt){const a=this;return ne(async function(...c){const l=new ce([]),d=await a._def.args.parseAsync(c,i).catch(A=>{throw l.addIssue(r(c,A)),l}),u=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(u,i).catch(A=>{throw l.addIssue(s(u,A)),l})})}else{const a=this;return ne(function(...c){const l=a._def.args.safeParse(c,i);if(!l.success)throw new ce([r(c,l.error)]);const d=Reflect.apply(o,this,l.data),u=a._def.returns.safeParse(d,i);if(!u.success)throw new ce([s(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ge({...this._def,args:_e.create(e).rest(Ve.create())})}returns(e){return new Ge({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ge({args:e||_e.create([]).rest(Ve.create()),returns:n||Ve.create(),typeName:R.ZodFunction,...M(r)})}}class kt extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}kt.create=(t,e)=>new kt({getter:t,typeName:R.ZodLazy,...M(e)});class Tt extends j{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return v(n,{received:n.data,code:m.invalid_literal,expected:this._def.value}),D}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tt.create=(t,e)=>new Tt({value:t,typeName:R.ZodLiteral,...M(e)});function Dr(t,e){return new De({values:t,typeName:R.ZodEnum,...M(e)})}class De extends j{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return v(n,{expected:z.joinValues(r),received:n.parsedType,code:m.invalid_type}),D}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return v(n,{received:n.data,code:m.invalid_enum_value,options:r}),D}return ne(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return De.create(e)}exclude(e){return De.create(this.options.filter(n=>!e.includes(n)))}}De.create=Dr;class xt extends j{_parse(e){const n=z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==y.string&&r.parsedType!==y.number){const s=z.objectValues(n);return v(r,{expected:z.joinValues(s),received:r.parsedType,code:m.invalid_type}),D}if(n.indexOf(e.data)===-1){const s=z.objectValues(n);return v(r,{received:r.data,code:m.invalid_enum_value,options:s}),D}return ne(e.data)}get enum(){return this._def.values}}xt.create=(t,e)=>new xt({values:t,typeName:R.ZodNativeEnum,...M(e)});class tt extends j{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==y.promise&&n.common.async===!1)return v(n,{code:m.invalid_type,expected:y.promise,received:n.parsedType}),D;const r=n.parsedType===y.promise?n.data:Promise.resolve(n.data);return ne(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}tt.create=(t,e)=>new tt({type:t,typeName:R.ZodPromise,...M(e)});class le extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{v(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?D:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?D:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pt(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>pt(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);z.assertNever(s)}}le.create=(t,e,n)=>new le({schema:t,typeName:R.ZodEffects,effect:e,...M(n)});le.createWithPreprocess=(t,e,n)=>new le({schema:e,effect:{type:"preprocess",transform:t},typeName:R.ZodEffects,...M(n)});class ke extends j{_parse(e){return this._getType(e)===y.undefined?ne(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ke.create=(t,e)=>new ke({innerType:t,typeName:R.ZodOptional,...M(e)});class ze extends j{_parse(e){return this._getType(e)===y.null?ne(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ze.create=(t,e)=>new ze({innerType:t,typeName:R.ZodNullable,...M(e)});class wt extends j{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===y.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wt.create=(t,e)=>new wt({innerType:t,typeName:R.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...M(e)});class Xt extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ft(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ce(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ce(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xt.create=(t,e)=>new Xt({innerType:t,typeName:R.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...M(e)});class en extends j{_parse(e){if(this._getType(e)!==y.nan){const r=this._getOrReturnCtx(e);return v(r,{code:m.invalid_type,expected:y.nan,received:r.parsedType}),D}return{status:"valid",value:e.data}}}en.create=t=>new en({typeName:R.ZodNaN,...M(t)});const go=Symbol("zod_brand");class Pr extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nt extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?D:i.status==="dirty"?(n.dirty(),Or(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?D:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Nt({in:e,out:n,typeName:R.ZodPipeline})}}class tn extends j{_parse(e){const n=this._def.innerType._parse(e);return pt(n)&&(n.value=Object.freeze(n.value)),n}}tn.create=(t,e)=>new tn({innerType:t,typeName:R.ZodReadonly,...M(e)});const Ir=(t,e={},n)=>t?et.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...l,fatal:c})}}):et.create(),yo={object:Q.lazycreate};var R;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(R||(R={}));const vo=(t,e={message:`Input not instance of ${t.name}`})=>Ir(n=>n instanceof t,e),Lr=ae.create,Mr=Re.create,bo=en.create,ko=Oe.create,jr=mt.create,To=Ze.create,xo=Kt.create,wo=_t.create,So=gt.create,Eo=et.create,Ao=Ve.create,Co=we.create,No=Gt.create,Ro=ue.create,Oo=Q.create,Do=Q.strictCreate,Po=yt.create,Io=Tn.create,Lo=vt.create,Mo=_e.create,jo=bt.create,Uo=Yt.create,Vo=$e.create,Zo=Ge.create,$o=kt.create,zo=Tt.create,Bo=De.create,Ho=xt.create,qo=tt.create,$s=le.create,Wo=ke.create,Qo=ze.create,Jo=le.createWithPreprocess,Fo=Nt.create,Ko=()=>Lr().optional(),Go=()=>Mr().optional(),Yo=()=>jr().optional(),Xo={string:t=>ae.create({...t,coerce:!0}),number:t=>Re.create({...t,coerce:!0}),boolean:t=>mt.create({...t,coerce:!0}),bigint:t=>Oe.create({...t,coerce:!0}),date:t=>Ze.create({...t,coerce:!0})},ea=D;var se=Object.freeze({__proto__:null,defaultErrorMap:ht,setErrorMap:so,getErrorMap:Qt,makeIssue:Jt,EMPTY_PATH:ro,addIssueToContext:v,ParseStatus:X,INVALID:D,DIRTY:Or,OK:ne,isAborted:zn,isDirty:Bn,isValid:pt,isAsync:Ft,get util(){return z},get objectUtil(){return $n},ZodParsedType:y,getParsedType:Ae,ZodType:j,ZodString:ae,ZodNumber:Re,ZodBigInt:Oe,ZodBoolean:mt,ZodDate:Ze,ZodSymbol:Kt,ZodUndefined:_t,ZodNull:gt,ZodAny:et,ZodUnknown:Ve,ZodNever:we,ZodVoid:Gt,ZodArray:ue,ZodObject:Q,ZodUnion:yt,ZodDiscriminatedUnion:Tn,ZodIntersection:vt,ZodTuple:_e,ZodRecord:bt,ZodMap:Yt,ZodSet:$e,ZodFunction:Ge,ZodLazy:kt,ZodLiteral:Tt,ZodEnum:De,ZodNativeEnum:xt,ZodPromise:tt,ZodEffects:le,ZodTransformer:le,ZodOptional:ke,ZodNullable:ze,ZodDefault:wt,ZodCatch:Xt,ZodNaN:en,BRAND:go,ZodBranded:Pr,ZodPipeline:Nt,ZodReadonly:tn,custom:Ir,Schema:j,ZodSchema:j,late:yo,get ZodFirstPartyTypeKind(){return R},coerce:Xo,any:Eo,array:Ro,bigint:ko,boolean:jr,date:To,discriminatedUnion:Io,effect:$s,enum:Bo,function:Zo,instanceof:vo,intersection:Lo,lazy:$o,literal:zo,map:Uo,nan:bo,nativeEnum:Ho,never:Co,null:So,nullable:Qo,number:Mr,object:Oo,oboolean:Yo,onumber:Go,optional:Wo,ostring:Ko,pipeline:Fo,preprocess:Jo,promise:qo,record:jo,set:Vo,strictObject:Do,string:Lr,symbol:xo,transformer:$s,tuple:Mo,undefined:wo,union:Po,unknown:Ao,void:No,NEVER:ea,ZodIssueCode:m,quotelessJson:no,ZodError:ce});const xn=t=>fetch(`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(t)}`),ta=se.object({code:se.literal("NotFound")}),zs=async t=>{const e=await(await xn(`https://api.scratch.mit.edu/studios/${t}`)).json(),n=ta.safeParse(e);return console.log(n.success),!n.success};var na=0;function b(t,e,n,r,s,i){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--na,__source:s,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return w.vnode&&w.vnode(l),l}function sa(){const[t,e]=ie(as),n=()=>{const r=[...t];r.push(1234),e(r)};return b("div",{class:"flex flex-col items-end gap-2",children:[b("h2",{class:"text-xl font-bold",children:["Studios: ",t.length]}),t.length>0?b("ul",{class:"contents",children:t.map((r,s)=>b("li",{class:"flex w-full",children:b(ra,{studio:r,index:s})},s))}):null,b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:n,children:"New"})]})}function ra({studio:t,index:e}){const[n,r]=ie(as),[s,i]=ve(!1),o=Ct(null);xe(()=>{(async()=>o.current&&(await zs(Number(o.current.value))||i(!0)))()});const a=async()=>{if(!o.current)return;const l=o.current.value,d=Number(l);l.toString()!==l&&(o.current.value=n[e].toString()),await zs(d)||i(!0),r([...n.slice(0,e),d,...n.slice(e+1)]),s&&i(!1)},c=()=>{r([...n.slice(0,e),...n.slice(e+1)])};return b("div",{class:"w-full",children:b("div",{class:"flex w-full justify-between",children:[b("input",{class:`w-32 rounded-xl bg-stone-300 px-2 py-1 dark:bg-stone-700 ${s?"ring ring-red-400 focus-visible:outline-red-700":""}`,type:"number",value:t,onChange:l=>a(),ref:o}),b("button",{onClick:()=>c(),type:"button",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Delete"})]})})}const ia="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",oa="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",nt=(t,e)=>{for(const n in e)t[n]=e[n];return t},qn="numeric",Wn="ascii",Qn="alpha",zt="asciinumeric",Lt="alphanumeric",Jn="domain",Ur="emoji",aa="scheme",ca="slashscheme",Bs="whitespace";function ua(t,e){return t in e||(e[t]=[]),e[t]}function Ue(t,e,n){e[qn]&&(e[zt]=!0,e[Lt]=!0),e[Wn]&&(e[zt]=!0,e[Qn]=!0),e[zt]&&(e[Lt]=!0),e[Qn]&&(e[Lt]=!0),e[Lt]&&(e[Jn]=!0),e[Ur]&&(e[Jn]=!0);for(const r in e){const s=ua(r,n);s.indexOf(t)<0&&s.push(t)}}function la(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function re(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}re.groups={};re.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||re.groups;let s;return e&&e.j?s=e:(s=new re(e),n&&r&&Ue(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||re.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new re,nt(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new re,i){if(r)if(o.t&&typeof o.t=="string"){const c=nt(la(o.t,r),n);Ue(i,c,r)}else n&&Ue(i,n,r);o.t=i}return s.j[t]=o,o}};const S=(t,e,n,r,s)=>t.ta(e,n,r,s),oe=(t,e,n,r,s)=>t.tr(e,n,r,s),Hs=(t,e,n,r,s)=>t.ts(e,n,r,s),p=(t,e,n,r,s)=>t.tt(e,n,r,s),ge="WORD",Fn="UWORD",St="LOCALHOST",Kn="TLD",Gn="UTLD",Bt="SCHEME",We="SLASH_SCHEME",cs="NUM",Vr="WS",us="NL",Qe="OPENBRACE",ct="OPENBRACKET",ut="OPENANGLEBRACKET",lt="OPENPAREN",Me="CLOSEBRACE",Je="CLOSEBRACKET",Fe="CLOSEANGLEBRACKET",je="CLOSEPAREN",nn="AMPERSAND",sn="APOSTROPHE",rn="ASTERISK",Ee="AT",on="BACKSLASH",an="BACKTICK",cn="CARET",Ce="COLON",ls="COMMA",un="DOLLAR",de="DOT",ln="EQUALS",ds="EXCLAMATION",fe="HYPHEN",dn="PERCENT",fn="PIPE",hn="PLUS",pn="POUND",mn="QUERY",fs="QUOTE",hs="SEMI",he="SLASH",dt="TILDE",_n="UNDERSCORE",Zr="EMOJI",gn="SYM";var $r=Object.freeze({__proto__:null,WORD:ge,UWORD:Fn,LOCALHOST:St,TLD:Kn,UTLD:Gn,SCHEME:Bt,SLASH_SCHEME:We,NUM:cs,WS:Vr,NL:us,OPENBRACE:Qe,OPENBRACKET:ct,OPENANGLEBRACKET:ut,OPENPAREN:lt,CLOSEBRACE:Me,CLOSEBRACKET:Je,CLOSEANGLEBRACKET:Fe,CLOSEPAREN:je,AMPERSAND:nn,APOSTROPHE:sn,ASTERISK:rn,AT:Ee,BACKSLASH:on,BACKTICK:an,CARET:cn,COLON:Ce,COMMA:ls,DOLLAR:un,DOT:de,EQUALS:ln,EXCLAMATION:ds,HYPHEN:fe,PERCENT:dn,PIPE:fn,PLUS:hn,POUND:pn,QUERY:mn,QUOTE:fs,SEMI:hs,SLASH:he,TILDE:dt,UNDERSCORE:_n,EMOJI:Zr,SYM:gn});const Be=/[a-z]/,Nn=/\p{L}/u,Rn=/\p{Emoji}/u,On=/\d/,qs=/\s/,Ws=`
`,da="️",fa="‍";let Mt=null,jt=null;function ha(t){t===void 0&&(t=[]);const e={};re.groups=e;const n=new re;Mt==null&&(Mt=Qs(ia)),jt==null&&(jt=Qs(oa)),p(n,"'",sn),p(n,"{",Qe),p(n,"[",ct),p(n,"<",ut),p(n,"(",lt),p(n,"}",Me),p(n,"]",Je),p(n,">",Fe),p(n,")",je),p(n,"&",nn),p(n,"*",rn),p(n,"@",Ee),p(n,"`",an),p(n,"^",cn),p(n,":",Ce),p(n,",",ls),p(n,"$",un),p(n,".",de),p(n,"=",ln),p(n,"!",ds),p(n,"-",fe),p(n,"%",dn),p(n,"|",fn),p(n,"+",hn),p(n,"#",pn),p(n,"?",mn),p(n,'"',fs),p(n,"/",he),p(n,";",hs),p(n,"~",dt),p(n,"_",_n),p(n,"\\",on);const r=oe(n,On,cs,{[qn]:!0});oe(r,On,r);const s=oe(n,Be,ge,{[Wn]:!0});oe(s,Be,s);const i=oe(n,Nn,Fn,{[Qn]:!0});oe(i,Be),oe(i,Nn,i);const o=oe(n,qs,Vr,{[Bs]:!0});p(n,Ws,us,{[Bs]:!0}),p(o,Ws),oe(o,qs,o);const a=oe(n,Rn,Zr,{[Ur]:!0});oe(a,Rn,a),p(a,da,a);const c=p(a,fa);oe(c,Rn,a);const l=[[Be,s]],d=[[Be,null],[Nn,i]];for(let u=0;u<Mt.length;u++)Se(n,Mt[u],Kn,ge,l);for(let u=0;u<jt.length;u++)Se(n,jt[u],Gn,Fn,d);Ue(Kn,{tld:!0,ascii:!0},e),Ue(Gn,{utld:!0,alpha:!0},e),Se(n,"file",Bt,ge,l),Se(n,"mailto",Bt,ge,l),Se(n,"http",We,ge,l),Se(n,"https",We,ge,l),Se(n,"ftp",We,ge,l),Se(n,"ftps",We,ge,l),Ue(Bt,{scheme:!0,ascii:!0},e),Ue(We,{slashscheme:!0,ascii:!0},e),t=t.sort((u,T)=>u[0]>T[0]?1:-1);for(let u=0;u<t.length;u++){const T=t[u][0],h=t[u][1]?{[aa]:!0}:{[ca]:!0};T.indexOf("-")>=0?h[Jn]=!0:Be.test(T)?On.test(T)?h[zt]=!0:h[Wn]=!0:h[qn]=!0,Hs(n,T,T,h)}return Hs(n,"localhost",St,{ascii:!0}),n.jd=new re(gn),{start:n,tokens:nt({groups:e},$r)}}function pa(t,e){const n=ma(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,c=null,l=0,d=null,u=-1,T=-1;for(;o<r&&(c=a.go(n[o]));)a=c,a.accepts()?(u=0,T=0,d=a):u>=0&&(u+=n[o].length,T++),l+=n[o].length,i+=n[o].length,o++;i-=u,o-=T,l-=u,s.push({t:d.t,v:e.slice(i-l,i),s:i-l,e:i})}return s}function ma(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Se(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const c=e[a];t.j[c]?i=t.j[c]:(i=new re(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new re(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function Qs(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Et={defaultProtocol:"http",events:null,format:Js,formatHref:Js,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ps(t,e){e===void 0&&(e=null);let n=nt({},Et);t&&(n=nt(n,t instanceof ps?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}ps.prototype={o:Et,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Et[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Js(t){return t}function zr(t,e){this.t="token",this.v=t,this.tk=e}zr.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Et.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),c=t.get("target",n,e),l=t.get("rel",n,e),d=t.getObj("attributes",n,e),u=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),c&&(o.target=c),l&&(o.rel=l),d&&nt(o,d),{tagName:s,attributes:o,content:i,eventListeners:u}}};function wn(t,e){class n extends zr{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Fs=wn("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ks=wn("text"),_a=wn("nl"),Ie=wn("url",{isLink:!0,toHref(t){return t===void 0&&(t=Et.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==St&&t[1].t===Ce}}),K=t=>new re(t);function ga(t){let{groups:e}=t;const n=e.domain.concat([nn,rn,Ee,on,an,cn,un,ln,fe,cs,dn,fn,hn,pn,he,gn,dt,_n]),r=[sn,Fe,Me,Je,je,Ce,ls,de,ds,ut,Qe,ct,lt,mn,fs,hs],s=[nn,sn,rn,on,an,cn,Me,un,ln,fe,Qe,dn,fn,hn,pn,mn,he,gn,dt,_n],i=K(),o=p(i,dt);S(o,s,o),S(o,e.domain,o);const a=K(),c=K(),l=K();S(i,e.domain,a),S(i,e.scheme,c),S(i,e.slashscheme,l),S(a,s,o),S(a,e.domain,a);const d=p(a,Ee);p(o,Ee,d),p(c,Ee,d),p(l,Ee,d);const u=p(o,de);S(u,s,o),S(u,e.domain,o);const T=K();S(d,e.domain,T),S(T,e.domain,T);const A=p(T,de);S(A,e.domain,T);const h=K(Fs);S(A,e.tld,h),S(A,e.utld,h),p(d,St,h);const O=p(T,fe);S(O,e.domain,T),S(h,e.domain,T),p(h,de,A),p(h,fe,O);const G=p(h,Ce);S(G,e.numeric,Fs);const Z=p(a,fe),U=p(a,de);S(Z,e.domain,a),S(U,s,o),S(U,e.domain,a);const V=K(Ie);S(U,e.tld,V),S(U,e.utld,V),S(V,e.domain,a),S(V,s,o),p(V,de,U),p(V,fe,Z),p(V,Ee,d);const F=p(V,Ce),H=K(Ie);S(F,e.numeric,H);const P=K(Ie),J=K();S(P,n,P),S(P,r,J),S(J,n,P),S(J,r,J),p(V,he,P),p(H,he,P);const f=p(c,Ce),_=p(l,Ce),x=p(_,he),g=p(x,he);S(c,e.domain,a),p(c,de,U),p(c,fe,Z),S(l,e.domain,a),p(l,de,U),p(l,fe,Z),S(f,e.domain,P),p(f,he,P),S(g,e.domain,P),S(g,n,P),p(g,he,P);const E=p(P,Qe),C=p(P,ct),k=p(P,ut),I=p(P,lt);p(J,Qe,E),p(J,ct,C),p(J,ut,k),p(J,lt,I),p(E,Me,P),p(C,Je,P),p(k,Fe,P),p(I,je,P),p(E,Me,P);const B=K(Ie),L=K(Ie),$=K(Ie),q=K(Ie);S(E,n,B),S(C,n,L),S(k,n,$),S(I,n,q);const Pe=K(),Rt=K(),Ot=K(),Dt=K();return S(E,r),S(C,r),S(k,r),S(I,r),S(B,n,B),S(L,n,L),S($,n,$),S(q,n,q),S(B,r,B),S(L,r,L),S($,r,$),S(q,r,q),S(Pe,n,Pe),S(Rt,n,L),S(Ot,n,$),S(Dt,n,q),S(Pe,r,Pe),S(Rt,r,Rt),S(Ot,r,Ot),S(Dt,r,Dt),p(L,Je,P),p($,Fe,P),p(q,je,P),p(B,Me,P),p(Rt,Je,P),p(Ot,Fe,P),p(Dt,je,P),p(Pe,je,P),p(i,St,V),p(i,us,_a),{start:i,tokens:$r}}function ya(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,c=null,l=null,d=0,u=null,T=-1;for(;s<r&&!(c=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(l=c||a.go(n[s].t));)c=null,a=l,a.accepts()?(T=0,u=a):T>=0&&T++,s++,d++;if(T<0)s-=d,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(Dn(Ks,e,o)),o=[]),s-=T,d-=T;const A=u.t,h=n.slice(s-d,s);i.push(Dn(A,e,h))}}return o.length>0&&i.push(Dn(Ks,e,o)),i}function Dn(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const ee={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function va(){ee.scanner=ha(ee.customSchemes);for(let t=0;t<ee.tokenQueue.length;t++)ee.tokenQueue[t][1]({scanner:ee.scanner});ee.parser=ga(ee.scanner.tokens);for(let t=0;t<ee.pluginQueue.length;t++)ee.pluginQueue[t][1]({scanner:ee.scanner,parser:ee.parser});ee.initialized=!0}function ba(t){return ee.initialized||va(),ya(ee.parser.start,t,pa(ee.scanner.start,t))}var ka={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},Ta=/^#[xX]([A-Fa-f0-9]+)$/,xa=/^#([0-9]+)$/,wa=/^([A-Za-z0-9]+)$/,Sa=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(Ta);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(xa),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(wa),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),Ea=/[\t\n\f ]/,Aa=/[A-Za-z]/,Ca=/\r\n?/g;function Y(t){return Ea.test(t)}function Gs(t){return Aa.test(t)}function Na(t){return t.replace(Ca,`
`)}var Ra=function(){function t(e,n,r){r===void 0&&(r="precompile"),this.delegate=e,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var i=this.tagNameBuffer.toLowerCase();(i==="pre"||i==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),i=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&i!=="script"&&i!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||Gs(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();i==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();Y(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();Y(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();Y(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!Y(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=i.toUpperCase()==="PUBLIC",a=i.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();Y(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();Y(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();Y(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();Y(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();Y(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();Y(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(Y(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();Y(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(Y(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();Y(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();Y(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();Y(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||Gs(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Na(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),r=this.entityParser.parse(n);if(r){for(var s=n.length;s;)this.consume(),s--;return this.consume(),r}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),Oa=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Ra(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Da(t,e){var n=new Oa(new Sa(ka),e);return n.tokenize(t)}const Br="LinkifyResult",yn="StartTag",Hr="EndTag",Yn="Chars",Pa="Comment",Ia="Doctype";function La(t,e){e===void 0&&(e={});const n=Da(t),r=[],s=[],i=new ps(e,Ua);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===yn){r.push(a);const c=a.tagName.toUpperCase();if(!(c==="A"||i.ignoreTags.indexOf(c)>=0))continue;let d=r.length;ja(c,n,++o,r),o+=r.length-d-1}else if(a.type!==Yn)r.push(a);else{const c=Ma(a.chars,i);r.push.apply(r,c)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case Br:s.push(a.rendered);break;case yn:{let c="<"+a.tagName;a.attributes.length>0&&(c+=" "+Za(a.attributes).join(" ")),a.selfClosing&&(c+=" /"),c+=">",s.push(c);break}case Hr:s.push(`</${a.tagName}>`);break;case Yn:s.push(Xn(a.chars));break;case Pa:s.push(`<!--${Xn(a.chars)}-->`);break;case Ia:{let c=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(c+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(c+=` "${a.systemIdentifier}"`),c+=">",s.push(c);break}}}return s.join("")}function Ma(t,e){const n=ba(t),r=[];for(let s=0;s<n.length;s++){const i=n[s];i.t==="nl"&&e.get("nl2br")?r.push({type:yn,tagName:"br",attributes:[],selfClosing:!0}):!i.isLink||!e.check(i)?r.push({type:Yn,chars:i.toString()}):r.push({type:Br,rendered:e.render(i)})}return r}function ja(t,e,n,r){let s=1;for(;n<e.length&&s>0;){let i=e[n];i.type===yn&&i.tagName.toUpperCase()===t?s++:i.type===Hr&&i.tagName.toUpperCase()===t&&s--,r.push(i),n++}return r}function Ua(t){let{tagName:e,attributes:n,content:r}=t;return`<${e} ${Va(n)}>${Xn(r)}</${e}>`}function Xn(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function qr(t){return t.replace(/"/g,"&quot;")}function Va(t){const e=[];for(const n in t){const r=t[n]+"";e.push(`${n}="${qr(r)}"`)}return e.join(" ")}function Za(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n][0],s=t[n][1]+"";e.push(`${r}="${qr(s)}"`)}return e}const Wr=se.object({id:se.number(),content:se.string(),datetime_created:se.string().datetime(),author:se.object({id:se.number(),username:se.string(),scratchteam:se.boolean(),image:se.string().url()}),reply_count:se.number()}),Ys=async(t,e=0)=>{const n=await Promise.all([...new Set(t)].map(async s=>{const i=await(await xn(`https://api.scratch.mit.edu/studios/${s}/comments?limit=40&offset=${40*e}`)).json(),o=Wr.array().safeParse(i);return o.success?o.data.map(a=>({...a,studio:s})):[]}));let r=[];return r=r.concat(...n).sort((s,i)=>{const o=new Date(s.datetime_created).getTime(),a=new Date(i.datetime_created).getTime();return o<a?1:o>a?-1:0}),r},$a=async(t,e)=>{const n=await(await xn(`https://api.scratch.mit.edu/studios/${t}/comments/${e}/replies`)).json();return Wr.array().parse(n).map(s=>({...s,studio:t}))},za={meow:"😺",gobo:"[gobo]",cat:"🙂","aww-cat":"😃","cool-cat":"😎","tongue-out-cat":"😛","wink-cat":"😜","lol-cat":"😂","upside-down-cat":"🤪","huh-cat":"🤨","love-it-cat":"😍","fav-it-cat":"[star cat]","rainbow-cat":"[rainbow cat]","pizza-cat":"[pizza cat]","10mil":"🎉",waffle:"🧇",taco:"🌮",sushi:"🍣",apple:"🍎",broccoli:"🥦",pizza:"🍕",candycorn:"🍭",map:"🗺️",camera:"📷",suitcase:"💼",compass:"🧭",binoculars:"[binoculars]",cupcake:"🧁",pride:"🏳️‍🌈",blm:"✊🏾"},Ba=t=>(Object.entries(za).forEach(([e,n])=>{t=t.replace(new RegExp(`<img src="/images/emoji/${e}.png" class="emoji" alt="(.*?)">`,"g"),n)}),t.replace(/<img src="\/images\/emoji\/meow.png" class="emoji" alt="(.*?)">/,"😺").replace(/<img src="\/images\/emoji\/gobo.png" class="emoji" alt="(.*?)">/,"[gobo]").replace(/<img src="\/images\/emoji\/cat.png" class="emoji" alt="(.*?)">/,"🙂").replace(/<img src="\/images\/emoji\/aww-cat.png" class="emoji" alt="(.*?)">/,"😃").replace(/<img src="\/images\/emoji\/cool-cat.png" class="emoji" alt="(.*?)">/,"😎")),Pn=new Map,Ha=se.object({title:se.string()}),qa=async t=>{const e=new Map;for(const n of t){const r=Pn.get(n);if(r!==void 0){r!==null&&e.set(n,r);continue}const s=await(await xn(`https://api.scratch.mit.edu/studios/${n}`)).json(),i=Ha.safeParse(s);if(!i.success){Pn.set(n,null);continue}Pn.set(n,i.data.title),e.set(n,i.data.title)}return e},He=new Intl.RelativeTimeFormat("en"),Wa=1e3,Xs=60,er=60,tr=24,Qa=12,Ja=t=>{const e=new Date,r=(t.getTime()-e.getTime())/Wa,s=r/Xs,i=s/er,o=i/tr;if(Math.abs(r)<Xs)return He.format(Math.trunc(r),"seconds");if(Math.abs(s)<er)return He.format(Math.trunc(s),"minutes");if(Math.abs(i)<tr)return He.format(Math.trunc(i),"hours");let a=t.getFullYear()-e.getFullYear(),c=t.getMonth()-e.getMonth()+Qa*a;return c>0&&t.getDate()<e.getDate()&&c--,c<0&&t.getDate()>e.getDate()&&c++,Math.abs(c)<1?He.format(Math.trunc(o),"days"):(a>0&&(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())&&a--,a<0&&(t.getMonth()>e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()>e.getDate())&&a++,Math.abs(a)<1?He.format(c,"months"):He.format(a,"years"))},Fa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAACUUlEQVQ4y6WUTUhUURiGn3Eax7mU5HDFscGbC7UpcuEtpR9JEJuGohg3LsaNi4qIsKgWiZgrqUAKJSgYglyMSBAziygdihiI/nFRRBO5qAsW6jRTqXcE09NCumL3mkrf5pzzwXnOd97vPQcs4tyRcsEaIscqKRcWEGlXxX9BahvPoBTN0nNi+5oqMkXPqV1i+vEeEb4QMEBDAzdENHxF/LOSSFeTsUkNtJJKzxLc951Lx+sFQOrTa/QvCdOB65aspHKCVY+AgNA+vkMunEfx5hE6MIlc3CKk2TcgJk0Qm9GRgx6hbN2Nv0rDVyahjc6gePNMG4bfTkJFFzvqDtlMlaj1Tfi3vUR2SwCWAABfmURs+Km1Js3ne22xwYkVBZdcdnTt3vLCyqU1q+pccL+LSHersITo3z6sCiK7HUhTcXMlke5WEWz4Swf7epDKluacHnB6qK3ZyB/PGJDks7vEBie4fP0zyREdAG3+MCfPJtAyJQYj9sLHxavjyMUlPLk/sNidntMNwl+dQfE66Y+OoXidCyI6svjUvUi5i95QNsukvpbCr3HUiinCnS3CFrnWLmqVOLLbQX90jFBjEZLLbtJBz84Z3TH8AiRHpskh9QDZ7aC3L4O/zm0JAIgn0sQTaQMYf56LNjqzcJ3Uj1x6+zK03X5vkz0BEXL/tASplRuQXHaSIzrxVwW03XpoM9neeL3HSsXR0CbiiTR6ds4A6tk5yK+iuf2ObcX/RPHm0T+Uj6ZXo1YujLLbgVS00xJgGeHOFsOJHU1bjHn0ZseyH9RvnLfMpX3tEzMAAAAASUVORK5CYII=",Ka="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAADWklEQVQ4y6VVX2hbVRz+ElJLA8q1DNYuqTn4oi0bSenDKnPtRWxnHTFJGfiywb2l6tNoL7MvMumNteBEaJggWKQ3tUHQikShsNWHG7qXdC9JVFIoaG6wL2VKctUN42o+H7S3tomS6Q8OHO75zu+7v+/35wD/wxRF4ezsLP/LXcqyzFYIgoG2lrCeZh8vPvEVrO1OTs28Dk3TXADw9z8uFAr4/btV3J7vwvGXN/DAJLIs49LZbxEeqOOl918DAL4w0IH61wkH0/NrHcHedgDAUG871KsfMRaLuR4oko2tGoZ627GqHcPKrbsID3RA8robcO/e+BnVe3XEYjEYhkFVVZsSNdwcHh529uUf9lAo38erqSo2tmqHcIXyfaS+EYi/dwOhUAiqqsIwDLZEYtu243Bk/g4eP/cGxrUUZtZOYOXW3QPcvTqi0ShkWYZpmgiFQtA0rbXSkrxu7i76uJ3opizL3LdKpUIhBLcT3aylerid6KYQgiRZKpW4sLBAAGwWjedoWT7d/gUkrxuS1w3LsgAAlmVB0zRMTU1hZUPH1fFHEDjmQfjJH6GqKqrVKoQQTuU1yKUoisOcTqcRHuhwDs8+dgeJxEFVSZLk5OPNz36C5HUj/cmHsCwL+Xwe09PTCAaD0HW9MTeGYTAajTIYaGMt1eOs3UUfg4E2KopCXdcpSRLN9c8Zef4ZPtTmYVfnoxRCMJfL0TRNR1rTNCmEoCzLjfIdJdnb+oAkaRgGJycn+fa1a05+dF13nDSzUqlE0zQJAK79TrZtG8nF69hd9P2p4/Gn4Hn244Nol5aQXFrCzs4OTg8OYmR0FH19fTg9ONigTD6fx/LyMqrVKpLJpMt1NPEn99K4/NzDDSTX/8qNMjGBzWwWm9ksisUiNrNZ+P1++Px+qBMTGBkdBQAkk0kAQNMGFSc6eXu+i7VUD+u/fO+E/+nqKs+PjdG27UOy2LbN82Njh84qlQoTicS/D05JkvjORYm/rZ0jawdOZ65c4dCZM5yLx7l+8ybn4nGGTp3iXDzuYHK5XAPBPw61aDTKUm4Nl8M+xF55C50nXwQAbBWL+HJ93cGNX7gAv9+PTCaDQqGAQCCAo8PS1cq7kclk9okRiUScBi2XyxBCwLIsRCIR9Pf3N/X3B6UQAyT2WO36AAAAAElFTkSuQmCC",Ga="/commenstudio/assets/pin-227d1b1d.svg",Ya="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAD2UlEQVQ4y4WUbUhbZxTHf4lXc2+WaHJ9y4u2uqS6trHqZmSjQ2WU2W0fFtg6JgxWx2Afhgzml0IL28BPhXYfpIWV0X0sGytVGBuhUFy2DpwtUUydbZMpNdG1xrwY440x9u7DXVI61+4PD8/Dw3nO/5zzP8/R8RQkZ75TC9lVMmsrpJNJCirsbXaxsRbDVO2kvKoBa/s7Ov4HjxksTlxQy3fSbG6kiYZDJJfDvPjaAD9f+YZ8PIxtj5u2/kEuj57EIMCR94aJhCMIemhwe9j35sh/EgrFw9T5Y6pRv0Eunye1uoxRr1DX3k02q6DPxjAIYGvxsnhrikoRquudiGaZpeB5jDoFJRnjzuVhVSdIu8h0ANc+61Ltnl5mA+MAWB0uqqwyTQe85DIJRLNcevDXnyGUpFauHb3E3E/nAOh+e5iZyQDr0RAH+gbwfnixRKT75axPlWtkZq770W/ESs729w2wvgXTVy9hEMDT48PqcLF4J0R9jUzDfi+FvIJQIZX2YgCpBzEa23rJZeI8/9G3Ov39WT+1TR5EUSpFLJpl7K1eFm74qTVBpajVPBwMkJ7zE4+FyWUSjJ07yfdffko8GiEejRCLxRBNMs3tvdQ0uLC5DjH51XG1pEnXq++WSAp5hUJeobVdK1cRK7c1PZzuNuZvBqgUQdBDTYOLX8e15ljKP9Li5bc+Jr34O8JKQmHl9hSb2xC8OoK7zYunx8fNgJ8qq4y9pRtTjQOhQsL3yVlSyxEsDhdbikLZlgfRLFPYUkgth6kUtayLsNQ5WCrkESyHfMxfH+OlY8MYXx9AMsvMTAZI3w2QBqKSzJHjpxi/MIIoSRzs6oFykew22A/2YqnTAjj6wSlymSSZtRiFvIJokhEqJJRMgrIrgfkvOmyFz3WpCE2dr2CqcRKcGMewk0Gvg2c7e0is51AWf6NsO0PrYR+3Jq+xFvJzLxyitbufH74eYeVehEw6wTbluDt7qKrfyx8TlxBq27R/Yuv0MR0cI7t+hucO+3jj/WFymQRLswHsLV5uXBsDwFTtRDBIJW3cHi/xaARVSWC2SNidHuytXgBm/ReZC4UYGp/SlXr59GCHGl+YprEKGu0yzS/0U9vsKbXoRnwZ0WylkFeIhkMYBLC3eMluKlRZtdIUA4vOT7HwQOHEj9o/3DUGThy1qA9zKexmkI1g2+PG4nBhtbu1bP5pgiLxdl4TPbkc4f5KjNUsrG7AmcAj308cbqcHO9TY3WmeqQBjBYgCVBoetyk8hM1tyOa1tVUAd2cfQ6MTuicOyKdhdKhPBQgHJ0p3zn0dSCbLLqf/xt9dB50WCfxmLAAAAABJRU5ErkJggg==",Xa=1e3,ec=60;function tc(){const[t]=ie(as),[e]=ie(Cr),[n]=ie(Er),[r,s]=ve([]),[i,o]=ve(0),[a,c]=ve(new Map),[l,d]=ve(null),u=Ct(null);xe(()=>{l&&clearInterval(l),d(setInterval(async()=>{var U;if(i!==0||!n)return;const h=await Ys(t,i);if(!(h[0].id!==r[0].id))return;const G=((U=h.map((V,F)=>({...V,index:F})).find(V=>r[0].id===V.id))==null?void 0:U.index)??0,Z=h.slice(0,G);console.log(h,r,Z),Z.forEach(V=>{u.current&&(u.current.innerHTML=Ba(V.content),new Notification(`New comment from ${a.get(V.studio)}`,{body:`${V.author.username}: "${u.current.textContent}"`,icon:V.author.image}))}),s(h)},1.5*ec*Xa))},[t,r,i,n,a]),xe(()=>{(async()=>(s(await Ys(t,i)),c(await qa(new Set(t)))))()},[t,i]);const T=()=>{o(h=>h-1)},A=()=>{o(h=>h+1)};return b("div",{class:"flex flex-col gap-2",children:[b("span",{class:"hidden",ref:u}),b("h2",{class:"text-xl font-bold",children:["Comments (",i===0?b(te,{children:"«"}):b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:T,children:"«"})," ",i+1," ",r.length===0?b(te,{children:"»"}):b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:A,children:"»"}),")"]}),e.length===0?null:b("div",{class:"mb-4 space-y-2",children:[" ",e.map((h,O)=>b(es,{...h},O))]}),r.length===0?b("p",{class:"w-full text-lg italic",children:t.length===0?"Add some studio IDs on the left! The comments from them will appear over here.":i===0?"There are no comments here.":"No comments left."}):r.map((h,O)=>b(es,{...h,studioName:a.get(h.studio)??"",showIfPinned:!1},O))]})}function es({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o,showIfPinned:a=!0,reply:c=!1}){const[l]=ie(Nr),[d,u]=ie(Ar),[T,A]=ie(to),[h,O]=ie(Cr),[G,Z]=ve(!1),U=Ct(null),V=`https://scratch.mit.edu/users/${r.username}`,H=La(e,{className:"font-bold text-sky-600 dark:text-sky-500 hover:underline",defaultProtocol:"https"}).replace(/&amp;/g,"&").replace(/<img src="\/images\/emoji\/meow.png"/g,`<img src="${Ka}"`).replace(/<img src="\/images\/emoji\/gobo.png"/g,`<img src="${Fa}"`).replace(/<img src="\/images\/emoji\/waffle.png"/g,`<img src="${Ya}"`).replace(/<img src="\/images\/emoji/g,'<img src="https://scratch.mit.edu/images/emoji').replace(/<img/g,'<img class="inline-block max-w-[24px]"'),P=new Date(n),J=P.getTime()<=d,f=h.find(k=>k.id===t),_=!!f;if(_&&!a||J&&l)return null;const x=()=>{Z(!G)},g=()=>{u(P.getTime())},E=()=>{if(_){const k=h.indexOf(f);O([...h.slice(0,k),...h.slice(k+1)])}else{const k=[...h];k.push({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o}),O(k)}},C=()=>{if(!U.current)return;const k=U.current.value,I={...T};I[t.toString()]=k,console.log(I),A(I)};return b("div",{class:` w-full rounded-xl px-2 py-1 ${c?"bg-stone-200 dark:bg-stone-800":"bg-stone-300 dark:bg-stone-700"} ${J&&!_?"opacity-80":""}`,children:[b("div",{class:"flex items-center gap-2",children:[b("a",{href:V,children:b("img",{class:"h-12 min-h-[theme(spacing.12)] w-12 min-w-[theme(spacing.12)] rounded-lg",src:r.image,alt:`${r.username}'s profile picture`})}),b("div",{class:"w-full",children:[b("span",{class:"flex items-center gap-2",children:[_?b("img",{class:"inline-block h-4 w-4",src:Ga,title:"Pinned",alt:"Pin emoji"}):null,b("a",{href:V,class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:r.username}),c?null:b("span",{class:"italic",children:o})]}),b("p",{dangerouslySetInnerHTML:{__html:H},style:{overflowWrap:"anywhere"}}),c?null:b(te,{children:[s===0?"No replies":b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:x,children:[G?"Hide":"Show"," replies (",s,"/25)"]})," ","-"," ",J?"Read":b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:g,children:"Mark as read"})," ","-"," ",b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:E,children:_?"Unpin":"Pin"}),_?b("input",{class:"ml-2 rounded-xl bg-stone-200 px-2 py-1 dark:bg-stone-800",placeholder:"Pin reason",onChange:C,value:T[t]??"",ref:U}):null]}),b("span",{class:"float-right",children:[b("span",{title:P.toISOString(),children:Ja(P)})," ","-"," ",b("a",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",href:`https://scratch.mit.edu/studios/${i}/comments#comment-${t}`,children:"View on Scratch"})]})]})]}),G?b("div",{class:"ml-4 mt-2 space-y-1",children:b(nc,{id:t,studio:i,studioName:o})}):null]})}function nc({id:t,studio:e,studioName:n}){const[r,s]=ve([]);return xe(()=>{(async()=>s(await $a(e,t)))()},[]),b(te,{children:r.map(i=>b(es,{...i,studioName:n,reply:!0}))})}function sc(){return b(te,{children:[b("header",{class:"mb-2 flex items-center justify-between gap-2",children:[b("nav",{class:"flex items-center gap-2",children:[b("h1",{class:"inline-block text-3xl font-bold",children:"Commenstudio"}),b("a",{href:"https://github.com/mybearworld/commenstudio",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Github"}),b("a",{href:"https://scratch.mit.edu/discuss/topic/717430",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Topic"})]}),b(rc,{})]}),b("div",{class:"flex max-w-full gap-8",children:[b("div",{class:"min-w-[theme(spacing.48)]",children:[b(sa,{}),b("div",{class:"mt-4 flex flex-col items-start",children:[b(ic,{}),b(oc,{}),b(ac,{})]})]}),b("div",{class:"flex-1",children:b(tc,{})})]})]})}function rc(){const[t,e]=ie(eo);return xe(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:()=>{e(!t)},children:t?"Light mode":"Dark mode"})}function ic(){const[t,e]=ie(Ar);return b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:()=>{confirm("Are you sure you want to reset your read date? Every comment will appear as unread if you do this.")&&e(0)},children:"Reset read date"})}function oc(){const[t,e]=ie(Er);return xe(()=>{Notification.permission==="granted"&&e(!0)},[]),b(te,{children:t?null:b("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:async()=>{await Notification.requestPermission()==="granted"&&(console.log("cool"),e(!0))},children:"Enable notifications"})})}function ac(){const[t,e]=ie(Nr),n=Ct(null);return b("label",{children:["Hide read comments:",b("input",{type:"checkbox",class:"ml-2",onClick:()=>{n.current&&e(n.current.checked)},checked:t,ref:n})]})}Ye(b(sc,{}),document.getElementById("app"));
