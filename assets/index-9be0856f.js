(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fe,g,wn,me,Bt,Sn,wt,En,Se={},An=[],ir=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pt=Array.isArray;function oe(t,e){for(var n in e)t[n]=e[n];return t}function Tn(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Fe.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Me(t,o,r,i,null)}function Me(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++wn};return i==null&&g.vnode!=null&&g.vnode(s),s}function or(){return{current:null}}function F(t){return t.children}function te(t,e){this.props=t,this.context=e}function Ie(t,e){if(e==null)return t.__?Ie(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__d||n.__e;return typeof t.type=="function"?Ie(t):null}function Rn(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Rn(t)}}function St(t){(!t.__d&&(t.__d=!0)&&me.push(t)&&!rt.__r++||Bt!==g.debounceRendering)&&((Bt=g.debounceRendering)||Sn)(rt)}function rt(){var t,e,n,r,i,s,o,a,c;for(me.sort(wt);t=me.shift();)t.__d&&(e=me.length,r=void 0,i=void 0,s=void 0,a=(o=(n=t).__v).__e,(c=n.__P)&&(r=[],i=[],(s=oe({},o)).__v=o.__v+1,Dt(c,o,s,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a??Ie(o),o.__h,i),Pn(r,o,i),o.__e!=a&&Rn(o)),me.length>e&&me.sort(wt));rt.__r=0}function Cn(t,e,n,r,i,s,o,a,c,l,d){var u,M,T,y,N,Y,I,U,H,V=0,B=r&&r.__k||An,se=B.length,ie=se,f=e.length;for(n.__k=[],u=0;u<f;u++)(y=n.__k[u]=(y=e[u])==null||typeof y=="boolean"||typeof y=="function"?null:typeof y=="string"||typeof y=="number"||typeof y=="bigint"?Me(null,y,null,null,y):pt(y)?Me(F,{children:y},null,null,null):y.__b>0?Me(y.type,y.props,y.key,y.ref?y.ref:null,y.__v):y)!=null?(y.__=n,y.__b=n.__b+1,(U=ar(y,B,I=u+V,ie))===-1?T=Se:(T=B[U]||Se,B[U]=void 0,ie--),Dt(t,y,T,i,s,o,a,c,l,d),N=y.__e,(M=y.ref)&&T.ref!=M&&(T.ref&&Mt(T.ref,null,y),d.push(M,y.__c||N,y)),N!=null&&(Y==null&&(Y=N),(H=T===Se||T.__v===null)?U==-1&&V--:U!==I&&(U===I+1?V++:U>I?ie>f-I?V+=U-I:V--:V=U<I&&U==I-1?U-I:0),I=u+V,typeof y.type!="function"||U===I&&T.__k!==y.__k?typeof y.type=="function"||U===I&&!H?y.__d!==void 0?(c=y.__d,y.__d=void 0):c=N.nextSibling:c=Nn(t,N,c):c=On(y,c,t),typeof n.type=="function"&&(n.__d=c))):(T=B[u])&&T.key==null&&T.__e&&(T.__e==c&&(T.__=r,c=Ie(T)),Et(T,T,!1),B[u]=null);for(n.__e=Y,u=se;u--;)B[u]!=null&&(typeof n.type=="function"&&B[u].__e!=null&&B[u].__e==n.__d&&(n.__d=B[u].__e.nextSibling),Et(B[u],B[u]))}function On(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?On(r,e,n):Nn(n,r.__e,e));return e}function ae(t,e){return e=e||[],t==null||typeof t=="boolean"||(pt(t)?t.some(function(n){ae(n,e)}):e.push(t)),e}function Nn(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function ar(t,e,n,r){var i=t.key,s=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&i==c.key&&s===c.type)return n;if(r>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&i==c.key&&s===c.type)return a;a++}}return-1}function cr(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||st(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||st(t,s,e[s],n[s],r)}function zt(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ir.test(e)?n:n+"px"}function st(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||zt(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||zt(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,s?Wt:Ht,s)):t.removeEventListener(e,s?Wt:Ht,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ht(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(g.event?g.event(t):t)}function Wt(t){return this.l[t.type+!0](g.event?g.event(t):t)}function Dt(t,e,n,r,i,s,o,a,c,l){var d,u,M,T,y,N,Y,I,U,H,V,B,se,ie,f,h=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(d=g.__b)&&d(e);e:if(typeof h=="function")try{if(I=e.props,U=(d=h.contextType)&&r[d.__c],H=d?U?U.props.value:d.__:r,n.__c?Y=(u=e.__c=n.__c).__=u.__E:("prototype"in h&&h.prototype.render?e.__c=u=new h(I,H):(e.__c=u=new te(I,H),u.constructor=h,u.render=lr),U&&U.sub(u),u.props=I,u.state||(u.state={}),u.context=H,u.__n=r,M=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),h.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=oe({},u.__s)),oe(u.__s,h.getDerivedStateFromProps(I,u.__s))),T=u.props,y=u.state,u.__v=e,M)h.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(h.getDerivedStateFromProps==null&&I!==T&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(I,H),!u.__e&&(u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(I,u.__s,H)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(u.props=I,u.state=u.__s,u.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(b){b&&(b.__=e)}),V=0;V<u._sb.length;V++)u.__h.push(u._sb[V]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(I,u.__s,H),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(T,y,N)})}if(u.context=H,u.props=I,u.__P=t,u.__e=!1,B=g.__r,se=0,"prototype"in h&&h.prototype.render){for(u.state=u.__s,u.__d=!1,B&&B(e),d=u.render(u.props,u.state,u.context),ie=0;ie<u._sb.length;ie++)u.__h.push(u._sb[ie]);u._sb=[]}else do u.__d=!1,B&&B(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++se<25);u.state=u.__s,u.getChildContext!=null&&(r=oe(oe({},r),u.getChildContext())),M||u.getSnapshotBeforeUpdate==null||(N=u.getSnapshotBeforeUpdate(T,y)),Cn(t,pt(f=d!=null&&d.type===F&&d.key==null?d.props.children:d)?f:[f],e,n,r,i,s,o,a,c,l),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),Y&&(u.__E=u.__=null)}catch(b){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),g.__e(b,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ur(n.__e,e,n,r,i,s,o,c,l);(d=g.diffed)&&d(e)}function Pn(t,e,n){for(var r=0;r<n.length;r++)Mt(n[r],n[++r],n[++r]);g.__c&&g.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){g.__e(s,i.__v)}})}function ur(t,e,n,r,i,s,o,a,c){var l,d,u,M=n.props,T=e.props,y=e.type,N=0;if(y==="svg"&&(i=!0),s!=null){for(;N<s.length;N++)if((l=s[N])&&"setAttribute"in l==!!y&&(y?l.localName===y:l.nodeType===3)){t=l,s[N]=null;break}}if(t==null){if(y===null)return document.createTextNode(T);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,T.is&&T),s=null,a=!1}if(y===null)M===T||a&&t.data===T||(t.data=T);else{if(s=s&&Fe.call(t.childNodes),d=(M=n.props||Se).dangerouslySetInnerHTML,u=T.dangerouslySetInnerHTML,!a){if(s!=null)for(M={},N=0;N<t.attributes.length;N++)M[t.attributes[N].name]=t.attributes[N].value;(u||d)&&(u&&(d&&u.__html==d.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(cr(t,T,M,i,a),u)e.__k=[];else if(Cn(t,pt(N=e.props.children)?N:[N],e,n,r,i&&y!=="foreignObject",s,o,s?s[0]:n.__k&&Ie(n,0),a,c),s!=null)for(N=s.length;N--;)s[N]!=null&&Tn(s[N]);a||("value"in T&&(N=T.value)!==void 0&&(N!==t.value||y==="progress"&&!N||y==="option"&&N!==M.value)&&st(t,"value",N,M.value,!1),"checked"in T&&(N=T.checked)!==void 0&&N!==t.checked&&st(t,"checked",N,M.checked,!1))}return t}function Mt(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){g.__e(r,n)}}function Et(t,e,n){var r,i;if(g.unmount&&g.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Mt(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){g.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Et(r[i],e,n||typeof t.type!="function");n||t.__e==null||Tn(t.__e),t.__=t.__e=t.__d=void 0}function lr(t,e,n){return this.constructor(t,n)}function Te(t,e,n){var r,i,s,o;g.__&&g.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],Dt(e,t=(!r&&n||e).__k=ue(F,null,[t]),i||Se,Se,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?Fe.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),Pn(s,t,o)}function Dn(t,e){Te(t,e,Dn)}function dr(t,e,n){var r,i,s,o,a=oe({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Fe.call(arguments,2):n),Me(t.type,a,r||t.key,i||t.ref,null)}function Mn(t,e){var n={__c:e="__cC"+En++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,St(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}Fe=An.slice,g={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},wn=0,te.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=oe({},this.state),typeof t=="function"&&(t=t(oe({},n),this.props)),t&&oe(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),St(this))},te.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),St(this))},te.prototype.render=F,me=[],Sn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wt=function(t,e){return t.__v.__b-e.__v.__b},rt.__r=0,En=0;let fr=0;function qt(t,e){const n=`atom${++fr}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const Jt=t=>"init"in t,Ft=t=>!!t.write,it=new WeakMap,_r=(t,e)=>{it.set(t,e),t.catch(()=>{}).finally(()=>it.delete(t))},Gt=(t,e)=>{const n=it.get(t);n&&(it.delete(t),n(e))},Yt=(t,e)=>{t.status="fulfilled",t.value=e},Qt=(t,e)=>{t.status="rejected",t.reason=e},hr=t=>typeof(t==null?void 0:t.then)=="function",Qe=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),Xt=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),Pe=t=>"v"in t&&t.v instanceof Promise,pr=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,Xe=t=>{if("e"in t)throw t.e;return t.v},mr=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,i;const s=f=>t.get(f),o=(f,h)=>{const b=t.get(f);if(t.set(f,h),n.has(f)||n.set(f,b),b&&Pe(b)){const v="v"in h?h.v instanceof Promise?h.v:Promise.resolve(h.v):Promise.reject(h.e);b.v!==v&&Gt(b.v,v)}},a=(f,h,b)=>{const v=new Map;let E=!1;b.forEach((A,w)=>{!A&&w===f&&(A=h),A&&(v.set(w,A),h.d.get(w)!==A&&(E=!0))}),(E||h.d.size!==v.size)&&(h.d=v)},c=(f,h,b)=>{const v=s(f),E={d:(v==null?void 0:v.d)||new Map,v:h};if(b&&a(f,E,b),v&&Qe(v,E)&&v.d===E.d)return v;if(v&&Pe(v)&&Pe(E)&&pr(v,E)){if(v.d===E.d)return v;E.v=v.v}return o(f,E),E},l=(f,h,b,v)=>{if(hr(h)){let E;const A=new Promise((w,D)=>{let z=!1;h.then(P=>{if(!z){z=!0;const L=s(f),W=c(f,A,b);Yt(A,P),w(P),e.has(f)&&(L==null?void 0:L.d)!==W.d&&B(f,W,L==null?void 0:L.d)}},P=>{if(!z){z=!0;const L=s(f),W=c(f,A,b);Qt(A,P),D(P),e.has(f)&&(L==null?void 0:L.d)!==W.d&&B(f,W,L==null?void 0:L.d)}}),E=P=>{z||(z=!0,P.then(L=>Yt(A,L),L=>Qt(A,L)),w(P))}});return A.orig=h,A.status="pending",_r(A,w=>{w&&E(w),v==null||v()}),c(f,A,b)}return c(f,h,b)},d=(f,h,b)=>{const v=s(f),E={d:(v==null?void 0:v.d)||new Map,e:h};return b&&a(f,E,b),v&&Xt(v,E)&&v.d===E.d?v:(o(f,E),E)},u=(f,h)=>{const b=s(f);if(!h&&b&&(e.has(f)||Array.from(b.d).every(([P,L])=>P===f||u(P)===L)))return b;const v=new Map;let E=!0;const A=P=>{if(P===f){const W=s(P);if(W)return v.set(P,W),Xe(W);if(Jt(P))return v.set(P,void 0),P.init;throw new Error("no atom init")}const L=u(P);return v.set(P,L),Xe(L)};let w,D;const z={get signal(){return w||(w=new AbortController),w.signal},get setSelf(){return!D&&Ft(f)&&(D=(...P)=>{if(!E)return U(f,...P)}),D}};try{const P=f.read(A,z);return l(f,P,v,()=>w==null?void 0:w.abort())}catch(P){return d(f,P,v)}finally{E=!1}},M=f=>Xe(u(f)),T=f=>{let h=e.get(f);return h||(h=H(f)),h},y=(f,h)=>!h.l.size&&(!h.t.size||h.t.size===1&&h.t.has(f)),N=f=>{const h=e.get(f);h&&y(f,h)&&V(f)},Y=f=>{const h=new Map,b=new WeakMap,v=w=>{var D;const z=new Set((D=e.get(w))==null?void 0:D.t);return n.forEach((P,L)=>{var W;(W=s(L))!=null&&W.d.has(w)&&z.add(L)}),z},E=w=>{v(w).forEach(D=>{D!==w&&(h.set(D,(h.get(D)||new Set).add(w)),b.set(D,(b.get(D)||0)+1),E(D))})};E(f);const A=w=>{v(w).forEach(D=>{var z;if(D!==w){let P=b.get(D);if(P&&b.set(D,--P),!P){let L=!!((z=h.get(D))!=null&&z.size);if(L){const W=s(D),sr=u(D,!0);L=!W||!Qe(W,sr)}L||h.forEach(W=>W.delete(D))}A(D)}})};A(f)},I=(f,...h)=>{let b=!0;const v=w=>Xe(u(w)),E=(w,...D)=>{let z;if(w===f){if(!Jt(w))throw new Error("atom not writable");const P=s(w),L=l(w,D[0]);(!P||!Qe(P,L))&&Y(w)}else z=I(w,...D);if(!b){const P=se()}return z},A=f.write(v,E,...h);return b=!1,A},U=(f,...h)=>{const b=I(f,...h),v=se();return b},H=(f,h,b)=>{var v;const E=b||[];(v=s(f))==null||v.d.forEach((w,D)=>{const z=e.get(D);z?z.t.add(f):D!==f&&H(D,f,E)}),u(f);const A={t:new Set(h&&[h]),l:new Set};if(e.set(f,A),Ft(f)&&f.onMount){const{onMount:w}=f;E.push(()=>{const D=w((...z)=>U(f,...z));D&&(A.u=D)})}return b||E.forEach(w=>w()),A},V=f=>{var h;const b=(h=e.get(f))==null?void 0:h.u;b&&b(),e.delete(f);const v=s(f);v&&(Pe(v)&&Gt(v.v),v.d.forEach((E,A)=>{if(A!==f){const w=e.get(A);w&&(w.t.delete(f),y(A,w)&&V(A))}}))},B=(f,h,b)=>{const v=new Set(h.d.keys());b==null||b.forEach((E,A)=>{if(v.has(A)){v.delete(A);return}const w=e.get(A);w&&(w.t.delete(f),y(A,w)&&V(A))}),v.forEach(E=>{const A=e.get(E);A?A.t.add(f):e.has(f)&&H(E,f)})},se=()=>{let f;for(;n.size;){const h=Array.from(n);n.clear(),h.forEach(([b,v])=>{const E=s(b);if(E){const A=e.get(b);A&&E.d!==(v==null?void 0:v.d)&&B(b,E,v==null?void 0:v.d),A&&!(v&&!Pe(v)&&(Qe(v,E)||Xt(v,E)))&&A.l.forEach(w=>w())}})}};return{get:M,set:U,sub:(f,h)=>{const b=T(f),v=se(),E=b.l;return E.add(h),()=>{E.delete(h),N(f)}}}};let gt;const vr=()=>(gt||(gt=mr()),gt);var fe,j,bt,Kt,Re=0,In=[],Ke=[],en=g.__b,tn=g.__r,nn=g.diffed,rn=g.__c,sn=g.unmount;function Ne(t,e){g.__h&&g.__h(j,t,Re||e),Re=0;var n=j.__H||(j.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Ke}),n.__[t]}function Ee(t){return Re=1,It(Vn,t)}function It(t,e,n){var r=Ne(fe++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Vn(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=j,!j.u)){var i=function(a,c,l){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(M){return M.__c});if(d.every(function(M){return!M.__N}))return!s||s.call(this,a,c,l);var u=!1;return d.forEach(function(M){if(M.__N){var T=M.__[0];M.__=M.__N,M.__N=void 0,T!==M.__[0]&&(u=!0)}}),!(!u&&r.__c.props===a)&&(!s||s.call(this,a,c,l))};j.u=!0;var s=j.shouldComponentUpdate,o=j.componentWillUpdate;j.componentWillUpdate=function(a,c,l){if(this.__e){var d=s;s=void 0,i(a,c,l),s=d}o&&o.call(this,a,c,l)},j.shouldComponentUpdate=i}return r.__N||r.__}function Ge(t,e){var n=Ne(fe++,3);!g.__s&&Lt(n.__H,e)&&(n.__=t,n.i=e,j.__H.__h.push(n))}function mt(t,e){var n=Ne(fe++,4);!g.__s&&Lt(n.__H,e)&&(n.__=t,n.i=e,j.__h.push(n))}function Zn(t){return Re=5,Zt(function(){return{current:t}},[])}function yr(t,e,n){Re=6,mt(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Zt(t,e){var n=Ne(fe++,7);return Lt(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Ln(t,e){return Re=8,Zt(function(){return t},e)}function Un(t){var e=j.context[t.__c],n=Ne(fe++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(j)),e.props.value):t.__}function jn(t,e){g.useDebugValue&&g.useDebugValue(e?e(t):t)}function gr(){var t=Ne(fe++,11);if(!t.__){for(var e=j.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function br(){for(var t;t=In.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(et),t.__H.__h.forEach(At),t.__H.__h=[]}catch(e){t.__H.__h=[],g.__e(e,t.__v)}}g.__b=function(t){j=null,en&&en(t)},g.__r=function(t){tn&&tn(t),fe=0;var e=(j=t.__c).__H;e&&(bt===j?(e.__h=[],j.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ke,n.__N=n.i=void 0})):(e.__h.forEach(et),e.__h.forEach(At),e.__h=[],fe=0)),bt=j},g.diffed=function(t){nn&&nn(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(In.push(e)!==1&&Kt===g.requestAnimationFrame||((Kt=g.requestAnimationFrame)||xr)(br)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ke&&(n.__=n.__V),n.i=void 0,n.__V=Ke})),bt=j=null},g.__c=function(t,e){e.some(function(n){try{n.__h.forEach(et),n.__h=n.__h.filter(function(r){return!r.__||At(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],g.__e(r,n.__v)}}),rn&&rn(t,e)},g.unmount=function(t){sn&&sn(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{et(r)}catch(i){e=i}}),n.__H=void 0,e&&g.__e(e,n.__v))};var on=typeof requestAnimationFrame=="function";function xr(t){var e,n=function(){clearTimeout(r),on&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);on&&(e=requestAnimationFrame(n))}function et(t){var e=j,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),j=e}function At(t){var e=j;t.__c=t.__(),j=e}function Lt(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Vn(t,e){return typeof e=="function"?e(t):e}function $n(t,e){for(var n in e)t[n]=e[n];return t}function Tt(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function xt(t,e){return t===e&&(t!==0||1/t==1/e)||t!=t&&e!=e}function Rt(t){this.props=t}function kr(t,e){function n(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:Tt(this.props,i)}function r(i){return this.shouldComponentUpdate=n,ue(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Rt.prototype=new te).isPureReactComponent=!0,Rt.prototype.shouldComponentUpdate=function(t,e){return Tt(this.props,t)||Tt(this.state,e)};var an=g.__b;g.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),an&&an(t)};var wr=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Sr(t){function e(n){var r=$n({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=wr,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var cn=function(t,e){return t==null?null:ae(ae(t).map(e))},Er={map:cn,forEach:cn,count:function(t){return t?ae(t).length:0},only:function(t){var e=ae(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ae},Ar=g.__e;g.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}Ar(t,e,n,r)};var un=g.unmount;function Bn(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=$n({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return Bn(r,e,n)})),t}function zn(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return zn(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function tt(){this.__u=0,this.t=null,this.__b=null}function Hn(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Tr(t){var e,n,r;function i(s){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return ue(n,s)}return i.displayName="Lazy",i.__f=!0,i}function De(){this.u=null,this.o=null}g.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),un&&un(t)},(tt.prototype=new te).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=Hn(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=zn(l,l.__c.__P,l.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},tt.prototype.componentWillUnmount=function(){this.t=[]},tt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Bn(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&ue(F,null,t.fallback);return i&&(i.__h=null),[ue(F,null,e.__a?null:t.children),i]};var ln=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Rr(t){return this.getChildContext=function(){return t.context},t.children}function Cr(t){var e=this,n=t.i;e.componentWillUnmount=function(){Te(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Te(ue(Rr,{context:e.context},t.__v),e.l)}function Or(t,e){var n=ue(Cr,{__v:t,i:e});return n.containerInfo=e,n}(De.prototype=new te).__a=function(t){var e=this,n=Hn(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),ln(e,t,r)):i()};n?n(s):s()}},De.prototype.render=function(t){this.u=null,this.o=new Map;var e=ae(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},De.prototype.componentDidUpdate=De.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){ln(t,n,e)})};var Wn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Nr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Pr=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Dr=/[A-Z0-9]/g,Mr=typeof document<"u",Ir=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Zr(t,e,n){return e.__k==null&&(e.textContent=""),Te(t,e),typeof n=="function"&&n(),t?t.__c:null}function Lr(t,e,n){return Dn(t,e),typeof n=="function"&&n(),t?t.__c:null}te.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(te.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var dn=g.event;function Ur(){}function jr(){return this.cancelBubble}function Vr(){return this.defaultPrevented}g.event=function(t){return dn&&(t=dn(t)),t.persist=Ur,t.isPropagationStopped=jr,t.isDefaultPrevented=Vr,t.nativeEvent=t};var Ut,$r={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=g.vnode;g.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,i={};for(var s in n){var o=n[s];if(!(s==="value"&&"defaultValue"in n&&o==null||Mr&&s==="children"&&r==="noscript"||s==="class"||s==="className")){var a=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":a==="ondoubleclick"?s="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Ir(n.type)?a==="onfocus"?s="onfocusin":a==="onblur"?s="onfocusout":Pr.test(s)?s=a:r.indexOf("-")===-1&&Nr.test(s)?s=s.replace(Dr,"-$&").toLowerCase():o===null&&(o=void 0):a=s="oninput",a==="oninput"&&i[s=a]&&(s="oninputCapture"),i[s]=o}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=ae(n.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=ae(n.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",$r)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),e.props=i}(t),t.$$typeof=Wn,fn&&fn(t)};var _n=g.__r;g.__r=function(t){_n&&_n(t),Ut=t.__c};var hn=g.diffed;g.diffed=function(t){hn&&hn(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),Ut=null};var Br={ReactCurrentDispatcher:{current:{readContext:function(t){return Ut.__n[t.__c].props.value}}}};function zr(t){return ue.bind(null,t)}function vt(t){return!!t&&t.$$typeof===Wn}function Hr(t){return vt(t)&&t.type===F}function Wr(t){return vt(t)?dr.apply(null,arguments):t}function qr(t){return!!t.__k&&(Te(null,t),!0)}function Jr(t){return t&&(t.base||t.nodeType===1&&t)||null}var Fr=function(t,e){return t(e)},Gr=function(t,e){return t(e)},Yr=F;function qn(t){t()}function Qr(t){return t}function Xr(){return[!1,qn]}var Kr=mt,es=vt;function ts(t,e){var n=e(),r=Ee({h:{__:n,v:e}}),i=r[0].h,s=r[1];return mt(function(){i.__=n,i.v=e,xt(i.__,e())||s({h:i})},[t,n,e]),Ge(function(){return xt(i.__,i.v())||s({h:i}),t(function(){xt(i.__,i.v())||s({h:i})})},[t]),n}var ns={useState:Ee,useId:gr,useReducer:It,useEffect:Ge,useLayoutEffect:mt,useInsertionEffect:Kr,useTransition:Xr,useDeferredValue:Qr,useSyncExternalStore:ts,startTransition:qn,useRef:Zn,useImperativeHandle:yr,useMemo:Zt,useCallback:Ln,useContext:Un,useDebugValue:jn,version:"17.0.2",Children:Er,render:Zr,hydrate:Lr,unmountComponentAtNode:qr,createPortal:Or,createElement:ue,createContext:Mn,createFactory:zr,cloneElement:Wr,createRef:or,Fragment:F,isValidElement:vt,isElement:es,isFragment:Hr,findDOMNode:Jr,Component:te,PureComponent:Rt,memo:kr,forwardRef:Sr,flushSync:Gr,unstable_batchedUpdates:Fr,StrictMode:Yr,Suspense:tt,SuspenseList:De,lazy:Tr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Br};const rs=Mn(void 0),Jn=t=>{const e=Un(rs);return(t==null?void 0:t.store)||e||vr()},ss=t=>typeof(t==null?void 0:t.then)=="function",is=ns.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function os(t,e){const n=Jn(e),[[r,i,s],o]=It(l=>{const d=n.get(t);return Object.is(l[0],d)&&l[1]===n&&l[2]===t?l:[d,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(i!==n||s!==t)&&(o(),a=n.get(t));const c=e==null?void 0:e.delay;return Ge(()=>{const l=n.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),l},[n,t,c]),jn(a),ss(a)?is(a):a}function as(t,e){const n=Jn(e);return Ln((...i)=>n.set(t,...i),[n,t])}function ye(t,e){return[os(t,e),as(t,e)]}const cs=Symbol(),us=t=>typeof(t==null?void 0:t.then)=="function";function ls(t){let e,n;const r={getItem:(i,s)=>{var o,a;const c=d=>{if(d=d||"",e!==d){try{n=JSON.parse(d)}catch{return s}e=d}return n},l=(a=(o=t())==null?void 0:o.getItem(i))!=null?a:null;return us(l)?l.then(c):c(l)},setItem:(i,s)=>{var o;return(o=t())==null?void 0:o.setItem(i,JSON.stringify(s))},removeItem:i=>{var s;return(s=t())==null?void 0:s.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(r.subscribe=(i,s,o)=>{if(!(t()instanceof window.Storage))return()=>{};const a=c=>{if(c.storageArea===t()&&c.key===i){let l;try{l=JSON.parse(c.newValue||"")}catch{l=o}s(l)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),r}const ds=ls(()=>typeof window<"u"?window.localStorage:void 0);function jt(t,e,n=ds,r){const i=r==null?void 0:r.unstable_getOnInit,s=qt(i?n.getItem(t,e):e);return s.onMount=a=>{i||a(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,a,e)),c},qt(a=>a(s),(a,c,l)=>{const d=typeof l=="function"?l(a(s)):l;return d===cs?(c(s,e),n.removeItem(t)):d instanceof Promise?d.then(u=>(c(s,u),n.setItem(t,u))):(c(s,d),n.setItem(t,d))})}const Vt=jt("commenstudio:studios",[]),Fn=jt("commenstudio:readTo",0),Gn=jt("commenstudio:pinnedComments",[]),$t=t=>fetch(`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(t)}`),pn=async t=>(await $t(`https://api.scratch.mit.edu/studios/${t}`)).status===200;var fs=0;function k(t,e,n,r,i,s){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var l={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--fs,__source:i,__self:s};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return g.vnode&&g.vnode(l),l}function _s(){const[t,e]=ye(Vt),n=()=>{const r=[...t];r.push(1234),e(r)};return k("div",{class:"flex flex-col items-end gap-2",children:[k("h2",{class:"text-xl font-bold",children:["Studios: ",t.length]}),t.length>0?k("ul",{class:"contents",children:t.map((r,i)=>k("li",{class:"flex w-full",children:k(hs,{studio:r,index:i})},i))}):null,k("button",{class:"font-bold text-sky-600 hover:underline",type:"button",onClick:n,children:"New"})]})}function hs({studio:t,index:e}){const[n,r]=ye(Vt),[i,s]=Ee(!1),o=Zn(null);Ge(()=>{(async()=>o.current&&(await pn(Number(o.current.value))||s(!0)))()});const a=async()=>{if(!o.current)return;const l=o.current.value,d=Number(l);l.toString()!==l&&(o.current.value=n[e].toString()),await pn(d)||s(!0),r([...n.slice(0,e),d,...n.slice(e+1)]),i&&s(!1)},c=()=>{r([...n.slice(0,e),...n.slice(e+1)])};return k("div",{class:"w-full",children:k("div",{class:"flex w-full justify-between",children:[k("input",{class:`w-32 rounded-xl bg-stone-300 px-2 py-1 ${i?"ring ring-red-400 focus-visible:outline-red-700":""}`,type:"number",value:t,onChange:l=>a(),ref:o}),k("button",{onClick:()=>c(),type:"button",class:"font-bold text-sky-600 hover:underline",children:"Delete"})]})})}var Z;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Z||(Z={}));var Ct;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ct||(Ct={}));const p=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),de=t=>{switch(typeof t){case"undefined":return p.undefined;case"string":return p.string;case"number":return isNaN(t)?p.nan:p.number;case"boolean":return p.boolean;case"function":return p.function;case"bigint":return p.bigint;case"symbol":return p.symbol;case"object":return Array.isArray(t)?p.array:t===null?p.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?p.promise:typeof Map<"u"&&t instanceof Map?p.map:typeof Set<"u"&&t instanceof Set?p.set:typeof Date<"u"&&t instanceof Date?p.date:p.object;default:return p.unknown}},_=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ps=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class X extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}X.create=t=>new X(t);const Ze=(t,e)=>{let n;switch(t.code){case _.invalid_type:t.received===p.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case _.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Z.jsonStringifyReplacer)}`;break;case _.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(t.keys,", ")}`;break;case _.invalid_union:n="Invalid input";break;case _.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(t.options)}`;break;case _.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(t.options)}, received '${t.received}'`;break;case _.invalid_arguments:n="Invalid function arguments";break;case _.invalid_return_type:n="Invalid function return type";break;case _.invalid_date:n="Invalid date";break;case _.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case _.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case _.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case _.custom:n="Invalid input";break;case _.invalid_intersection_types:n="Intersection results could not be merged";break;case _.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case _.not_finite:n="Number must be finite";break;default:n=e.defaultError,Z.assertNever(t)}return{message:n}};let Yn=Ze;function ms(t){Yn=t}function ot(){return Yn}const at=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},vs=[];function m(t,e){const n=at({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ot(),Ze].filter(r=>!!r)});t.common.issues.push(n)}class q{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return R;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return q.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return R;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const R=Object.freeze({status:"aborted"}),Qn=t=>({status:"dirty",value:t}),J=t=>({status:"valid",value:t}),Ot=t=>t.status==="aborted",Nt=t=>t.status==="dirty",Le=t=>t.status==="valid",ct=t=>typeof Promise<"u"&&t instanceof Promise;var x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(x||(x={}));class ne{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mn=(t,e)=>{if(Le(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new X(t.common.issues);return this._error=n,this._error}}};function C(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class O{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return de(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new q,ctx:{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ct(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},s=this._parseSync({data:e,path:i.path,parent:i});return mn(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(ct(i)?i:Promise.resolve(i));return mn(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:_.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ee({schema:this,typeName:S.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ce.create(this,this._def)}nullable(){return xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return K.create(this,this._def)}promise(){return Oe.create(this,this._def)}or(e){return $e.create([this,e],this._def)}and(e){return Be.create(this,e,this._def)}transform(e){return new ee({...C(this._def),schema:this,typeName:S.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Je({...C(this._def),innerType:this,defaultValue:n,typeName:S.ZodDefault})}brand(){return new Kn({typeName:S.ZodBranded,type:this,...C(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new ft({...C(this._def),innerType:this,catchValue:n,typeName:S.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ye.create(this,e)}readonly(){return ht.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ys=/^c[^\s-]{8,}$/i,gs=/^[a-z][a-z0-9]*$/,bs=/^[0-9A-HJKMNP-TV-Z]{26}$/,xs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ks=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ws="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kt;const Ss=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Es=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,As=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Ts(t,e){return!!((e==="v4"||!e)&&Ss.test(t)||(e==="v6"||!e)&&Es.test(t))}class Q extends O{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.string){const s=this._getOrReturnCtx(e);return m(s,{code:_.invalid_type,expected:p.string,received:s.parsedType}),R}const r=new q;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),m(i,{code:_.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),m(i,{code:_.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?m(i,{code:_.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&m(i,{code:_.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ks.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"email",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")kt||(kt=new RegExp(ws,"u")),kt.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"emoji",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")xs.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"uuid",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ys.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"cuid",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")gs.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"cuid2",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")bs.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"ulid",code:_.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),m(i,{validation:"url",code:_.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"regex",code:_.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),m(i,{code:_.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),m(i,{code:_.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),m(i,{code:_.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?As(s).test(e.data)||(i=this._getOrReturnCtx(e,i),m(i,{code:_.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Ts(e.data,s.version)||(i=this._getOrReturnCtx(e,i),m(i,{validation:"ip",code:_.invalid_string,message:s.message}),r.dirty()):Z.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:_.invalid_string,...x.errToObj(r)})}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...x.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...x.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...x.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...x.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...x.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...x.errToObj(n)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new Q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Q.create=t=>{var e;return new Q({checks:[],typeName:S.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...C(t)})};function Rs(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class _e extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.number){const s=this._getOrReturnCtx(e);return m(s,{code:_.invalid_type,expected:p.number,received:s.parsedType}),R}let r;const i=new q;for(const s of this._def.checks)s.kind==="int"?Z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:_.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Rs(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:_.not_finite,message:s.message}),i.dirty()):Z.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,i){return new _e({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(i)}]})}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}_e.create=t=>new _e({checks:[],typeName:S.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...C(t)});class he extends O{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==p.bigint){const s=this._getOrReturnCtx(e);return m(s,{code:_.invalid_type,expected:p.bigint,received:s.parsedType}),R}let r;const i=new q;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),m(r,{code:_.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Z.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,x.toString(n))}gt(e,n){return this.setLimit("min",e,!1,x.toString(n))}lte(e,n){return this.setLimit("max",e,!0,x.toString(n))}lt(e,n){return this.setLimit("max",e,!1,x.toString(n))}setLimit(e,n,r,i){return new he({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:x.toString(i)}]})}_addCheck(e){return new he({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}he.create=t=>{var e;return new he({checks:[],typeName:S.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...C(t)})};class Ue extends O{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==p.boolean){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.boolean,received:r.parsedType}),R}return J(e.data)}}Ue.create=t=>new Ue({typeName:S.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...C(t)});class ge extends O{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.date){const s=this._getOrReturnCtx(e);return m(s,{code:_.invalid_type,expected:p.date,received:s.parsedType}),R}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return m(s,{code:_.invalid_date}),R}const r=new q;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),m(i,{code:_.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),m(i,{code:_.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Z.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ge({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ge.create=t=>new ge({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:S.ZodDate,...C(t)});class ut extends O{_parse(e){if(this._getType(e)!==p.symbol){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.symbol,received:r.parsedType}),R}return J(e.data)}}ut.create=t=>new ut({typeName:S.ZodSymbol,...C(t)});class je extends O{_parse(e){if(this._getType(e)!==p.undefined){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.undefined,received:r.parsedType}),R}return J(e.data)}}je.create=t=>new je({typeName:S.ZodUndefined,...C(t)});class Ve extends O{_parse(e){if(this._getType(e)!==p.null){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.null,received:r.parsedType}),R}return J(e.data)}}Ve.create=t=>new Ve({typeName:S.ZodNull,...C(t)});class Ce extends O{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}}Ce.create=t=>new Ce({typeName:S.ZodAny,...C(t)});class ve extends O{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}}ve.create=t=>new ve({typeName:S.ZodUnknown,...C(t)});class le extends O{_parse(e){const n=this._getOrReturnCtx(e);return m(n,{code:_.invalid_type,expected:p.never,received:n.parsedType}),R}}le.create=t=>new le({typeName:S.ZodNever,...C(t)});class lt extends O{_parse(e){if(this._getType(e)!==p.undefined){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.void,received:r.parsedType}),R}return J(e.data)}}lt.create=t=>new lt({typeName:S.ZodVoid,...C(t)});class K extends O{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==p.array)return m(n,{code:_.invalid_type,expected:p.array,received:n.parsedType}),R;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(m(n,{code:o?_.too_big:_.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(m(n,{code:_.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(m(n,{code:_.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new ne(n,o,n.path,a)))).then(o=>q.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new ne(n,o,n.path,a)));return q.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new K({...this._def,minLength:{value:e,message:x.toString(n)}})}max(e,n){return new K({...this._def,maxLength:{value:e,message:x.toString(n)}})}length(e,n){return new K({...this._def,exactLength:{value:e,message:x.toString(n)}})}nonempty(e){return this.min(1,e)}}K.create=(t,e)=>new K({type:t,minLength:null,maxLength:null,exactLength:null,typeName:S.ZodArray,...C(e)});function we(t){if(t instanceof $){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ce.create(we(r))}return new $({...t._def,shape:()=>e})}else return t instanceof K?new K({...t._def,type:we(t.element)}):t instanceof ce?ce.create(we(t.unwrap())):t instanceof xe?xe.create(we(t.unwrap())):t instanceof re?re.create(t.items.map(e=>we(e))):t}class $ extends O{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==p.object){const l=this._getOrReturnCtx(e);return m(l,{code:_.invalid_type,expected:p.object,received:l.parsedType}),R}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof le&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const d=s[l],u=i.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new ne(i,u,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof le){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(m(i,{code:_.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const u=i.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new ne(i,u,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const u=await d.key;l.push({key:u,value:await d.value,alwaysSet:d.alwaysSet})}return l}).then(l=>q.mergeObjectSync(r,l)):q.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new $({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=x.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new $({...this._def,unknownKeys:"strip"})}passthrough(){return new $({...this._def,unknownKeys:"passthrough"})}extend(e){return new $({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new $({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:S.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new $({...this._def,catchall:e})}pick(e){const n={};return Z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new $({...this._def,shape:()=>n})}omit(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new $({...this._def,shape:()=>n})}deepPartial(){return we(this)}partial(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new $({...this._def,shape:()=>n})}required(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof ce;)s=s._def.innerType;n[r]=s}}),new $({...this._def,shape:()=>n})}keyof(){return Xn(Z.objectKeys(this.shape))}}$.create=(t,e)=>new $({shape:()=>t,unknownKeys:"strip",catchall:le.create(),typeName:S.ZodObject,...C(e)});$.strictCreate=(t,e)=>new $({shape:()=>t,unknownKeys:"strict",catchall:le.create(),typeName:S.ZodObject,...C(e)});$.lazycreate=(t,e)=>new $({shape:t,unknownKeys:"strip",catchall:le.create(),typeName:S.ZodObject,...C(e)});class $e extends O{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new X(a.ctx.common.issues));return m(n,{code:_.invalid_union,unionErrors:o}),R}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new X(c));return m(n,{code:_.invalid_union,unionErrors:a}),R}}get options(){return this._def.options}}$e.create=(t,e)=>new $e({options:t,typeName:S.ZodUnion,...C(e)});const nt=t=>t instanceof He?nt(t.schema):t instanceof ee?nt(t.innerType()):t instanceof We?[t.value]:t instanceof pe?t.options:t instanceof qe?Object.keys(t.enum):t instanceof Je?nt(t._def.innerType):t instanceof je?[void 0]:t instanceof Ve?[null]:null;class yt extends O{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==p.object)return m(n,{code:_.invalid_type,expected:p.object,received:n.parsedType}),R;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(m(n,{code:_.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),R)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=nt(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new yt({typeName:S.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...C(r)})}}function Pt(t,e){const n=de(t),r=de(e);if(t===e)return{valid:!0,data:t};if(n===p.object&&r===p.object){const i=Z.objectKeys(e),s=Z.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=Pt(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===p.array&&r===p.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=Pt(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===p.date&&r===p.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Be extends O{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ot(s)||Ot(o))return R;const a=Pt(s.value,o.value);return a.valid?((Nt(s)||Nt(o))&&n.dirty(),{status:n.value,value:a.data}):(m(r,{code:_.invalid_intersection_types}),R)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Be.create=(t,e,n)=>new Be({left:t,right:e,typeName:S.ZodIntersection,...C(n)});class re extends O{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.array)return m(r,{code:_.invalid_type,expected:p.array,received:r.parsedType}),R;if(r.data.length<this._def.items.length)return m(r,{code:_.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),R;!this._def.rest&&r.data.length>this._def.items.length&&(m(r,{code:_.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ne(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>q.mergeArray(n,o)):q.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new re({...this._def,rest:e})}}re.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new re({items:t,typeName:S.ZodTuple,rest:null,...C(e)})};class ze extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.object)return m(r,{code:_.invalid_type,expected:p.object,received:r.parsedType}),R;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new ne(r,a,r.path,a)),value:o._parse(new ne(r,r.data[a],r.path,a))});return r.common.async?q.mergeObjectAsync(n,i):q.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof O?new ze({keyType:e,valueType:n,typeName:S.ZodRecord,...C(r)}):new ze({keyType:Q.create(),valueType:e,typeName:S.ZodRecord,...C(n)})}}class dt extends O{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.map)return m(r,{code:_.invalid_type,expected:p.map,received:r.parsedType}),R;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new ne(r,a,r.path,[l,"key"])),value:s._parse(new ne(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return R;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return R;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}dt.create=(t,e,n)=>new dt({valueType:e,keyType:t,typeName:S.ZodMap,...C(n)});class be extends O{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==p.set)return m(r,{code:_.invalid_type,expected:p.set,received:r.parsedType}),R;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(m(r,{code:_.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(m(r,{code:_.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const d of c){if(d.status==="aborted")return R;d.status==="dirty"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new ne(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new be({...this._def,minSize:{value:e,message:x.toString(n)}})}max(e,n){return new be({...this._def,maxSize:{value:e,message:x.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}be.create=(t,e)=>new be({valueType:t,minSize:null,maxSize:null,typeName:S.ZodSet,...C(e)});class Ae extends O{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==p.function)return m(n,{code:_.invalid_type,expected:p.function,received:n.parsedType}),R;function r(a,c){return at({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ot(),Ze].filter(l=>!!l),issueData:{code:_.invalid_arguments,argumentsError:c}})}function i(a,c){return at({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ot(),Ze].filter(l=>!!l),issueData:{code:_.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Oe){const a=this;return J(async function(...c){const l=new X([]),d=await a._def.args.parseAsync(c,s).catch(T=>{throw l.addIssue(r(c,T)),l}),u=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(u,s).catch(T=>{throw l.addIssue(i(u,T)),l})})}else{const a=this;return J(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new X([r(c,l.error)]);const d=Reflect.apply(o,this,l.data),u=a._def.returns.safeParse(d,s);if(!u.success)throw new X([i(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ae({...this._def,args:re.create(e).rest(ve.create())})}returns(e){return new Ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ae({args:e||re.create([]).rest(ve.create()),returns:n||ve.create(),typeName:S.ZodFunction,...C(r)})}}class He extends O{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}He.create=(t,e)=>new He({getter:t,typeName:S.ZodLazy,...C(e)});class We extends O{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return m(n,{received:n.data,code:_.invalid_literal,expected:this._def.value}),R}return{status:"valid",value:e.data}}get value(){return this._def.value}}We.create=(t,e)=>new We({value:t,typeName:S.ZodLiteral,...C(e)});function Xn(t,e){return new pe({values:t,typeName:S.ZodEnum,...C(e)})}class pe extends O{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return m(n,{expected:Z.joinValues(r),received:n.parsedType,code:_.invalid_type}),R}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return m(n,{received:n.data,code:_.invalid_enum_value,options:r}),R}return J(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return pe.create(e)}exclude(e){return pe.create(this.options.filter(n=>!e.includes(n)))}}pe.create=Xn;class qe extends O{_parse(e){const n=Z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==p.string&&r.parsedType!==p.number){const i=Z.objectValues(n);return m(r,{expected:Z.joinValues(i),received:r.parsedType,code:_.invalid_type}),R}if(n.indexOf(e.data)===-1){const i=Z.objectValues(n);return m(r,{received:r.data,code:_.invalid_enum_value,options:i}),R}return J(e.data)}get enum(){return this._def.values}}qe.create=(t,e)=>new qe({values:t,typeName:S.ZodNativeEnum,...C(e)});class Oe extends O{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==p.promise&&n.common.async===!1)return m(n,{code:_.invalid_type,expected:p.promise,received:n.parsedType}),R;const r=n.parsedType===p.promise?n.data:Promise.resolve(n.data);return J(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Oe.create=(t,e)=>new Oe({type:t,typeName:S.ZodPromise,...C(e)});class ee extends O{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===S.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{m(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?R:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?R:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Le(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Le(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Z.assertNever(i)}}ee.create=(t,e,n)=>new ee({schema:t,typeName:S.ZodEffects,effect:e,...C(n)});ee.createWithPreprocess=(t,e,n)=>new ee({schema:e,effect:{type:"preprocess",transform:t},typeName:S.ZodEffects,...C(n)});class ce extends O{_parse(e){return this._getType(e)===p.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ce.create=(t,e)=>new ce({innerType:t,typeName:S.ZodOptional,...C(e)});class xe extends O{_parse(e){return this._getType(e)===p.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xe.create=(t,e)=>new xe({innerType:t,typeName:S.ZodNullable,...C(e)});class Je extends O{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===p.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Je.create=(t,e)=>new Je({innerType:t,typeName:S.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...C(e)});class ft extends O{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ct(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new X(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new X(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ft.create=(t,e)=>new ft({innerType:t,typeName:S.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...C(e)});class _t extends O{_parse(e){if(this._getType(e)!==p.nan){const r=this._getOrReturnCtx(e);return m(r,{code:_.invalid_type,expected:p.nan,received:r.parsedType}),R}return{status:"valid",value:e.data}}}_t.create=t=>new _t({typeName:S.ZodNaN,...C(t)});const Cs=Symbol("zod_brand");class Kn extends O{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ye extends O{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?R:s.status==="dirty"?(n.dirty(),Qn(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?R:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ye({in:e,out:n,typeName:S.ZodPipeline})}}class ht extends O{_parse(e){const n=this._def.innerType._parse(e);return Le(n)&&(n.value=Object.freeze(n.value)),n}}ht.create=(t,e)=>new ht({innerType:t,typeName:S.ZodReadonly,...C(e)});const er=(t,e={},n)=>t?Ce.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):Ce.create(),Os={object:$.lazycreate};var S;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(S||(S={}));const Ns=(t,e={message:`Input not instance of ${t.name}`})=>er(n=>n instanceof t,e),tr=Q.create,nr=_e.create,Ps=_t.create,Ds=he.create,rr=Ue.create,Ms=ge.create,Is=ut.create,Zs=je.create,Ls=Ve.create,Us=Ce.create,js=ve.create,Vs=le.create,$s=lt.create,Bs=K.create,zs=$.create,Hs=$.strictCreate,Ws=$e.create,qs=yt.create,Js=Be.create,Fs=re.create,Gs=ze.create,Ys=dt.create,Qs=be.create,Xs=Ae.create,Ks=He.create,ei=We.create,ti=pe.create,ni=qe.create,ri=Oe.create,vn=ee.create,si=ce.create,ii=xe.create,oi=ee.createWithPreprocess,ai=Ye.create,ci=()=>tr().optional(),ui=()=>nr().optional(),li=()=>rr().optional(),di={string:t=>Q.create({...t,coerce:!0}),number:t=>_e.create({...t,coerce:!0}),boolean:t=>Ue.create({...t,coerce:!0}),bigint:t=>he.create({...t,coerce:!0}),date:t=>ge.create({...t,coerce:!0})},fi=R;var G=Object.freeze({__proto__:null,defaultErrorMap:Ze,setErrorMap:ms,getErrorMap:ot,makeIssue:at,EMPTY_PATH:vs,addIssueToContext:m,ParseStatus:q,INVALID:R,DIRTY:Qn,OK:J,isAborted:Ot,isDirty:Nt,isValid:Le,isAsync:ct,get util(){return Z},get objectUtil(){return Ct},ZodParsedType:p,getParsedType:de,ZodType:O,ZodString:Q,ZodNumber:_e,ZodBigInt:he,ZodBoolean:Ue,ZodDate:ge,ZodSymbol:ut,ZodUndefined:je,ZodNull:Ve,ZodAny:Ce,ZodUnknown:ve,ZodNever:le,ZodVoid:lt,ZodArray:K,ZodObject:$,ZodUnion:$e,ZodDiscriminatedUnion:yt,ZodIntersection:Be,ZodTuple:re,ZodRecord:ze,ZodMap:dt,ZodSet:be,ZodFunction:Ae,ZodLazy:He,ZodLiteral:We,ZodEnum:pe,ZodNativeEnum:qe,ZodPromise:Oe,ZodEffects:ee,ZodTransformer:ee,ZodOptional:ce,ZodNullable:xe,ZodDefault:Je,ZodCatch:ft,ZodNaN:_t,BRAND:Cs,ZodBranded:Kn,ZodPipeline:Ye,ZodReadonly:ht,custom:er,Schema:O,ZodSchema:O,late:Os,get ZodFirstPartyTypeKind(){return S},coerce:di,any:Us,array:Bs,bigint:Ds,boolean:rr,date:Ms,discriminatedUnion:qs,effect:vn,enum:ti,function:Xs,instanceof:Ns,intersection:Js,lazy:Ks,literal:ei,map:Ys,nan:Ps,nativeEnum:ni,never:Vs,null:Ls,nullable:ii,number:nr,object:zs,oboolean:li,onumber:ui,optional:si,ostring:ci,pipeline:ai,preprocess:oi,promise:ri,record:Gs,set:Qs,strictObject:Hs,string:tr,symbol:Is,transformer:vn,tuple:Fs,undefined:Zs,union:Ws,unknown:js,void:$s,NEVER:fi,ZodIssueCode:_,quotelessJson:ps,ZodError:X});const _i=G.object({id:G.number(),content:G.string(),datetime_created:G.string().datetime(),author:G.object({id:G.number(),username:G.string(),scratchteam:G.boolean(),image:G.string().url()}),reply_count:G.number()}),hi=async(t,e=0)=>{const n=await Promise.all([...new Set(t)].map(async i=>{const s=await(await $t(`https://api.scratch.mit.edu/studios/${i}/comments?limit=40&offset=${40*e}`)).json(),o=_i.array().safeParse(s);return o.success?o.data.map(a=>({...a,studio:i})):[]}));let r=[];return r=r.concat(...n).sort((i,s)=>{const o=new Date(i.datetime_created).getTime(),a=new Date(s.datetime_created).getTime();return o<a?1:o>a?-1:0}),r},yn=new Map,pi=G.object({title:G.string()}),mi=async t=>{const e=new Map;for(const n of t){const r=yn.get(n);if(r){e.set(n,r);continue}const i=await(await $t(`https://api.scratch.mit.edu/studios/${n}`)).json(),s=pi.parse(i);yn.set(n,s.title),e.set(n,s.title)}return e},ke=new Intl.RelativeTimeFormat("en"),vi=1e3,gn=60,bn=60,xn=24,yi=12,gi=t=>{const e=new Date,r=(t.getTime()-e.getTime())/vi,i=r/gn,s=i/bn,o=s/xn;if(Math.abs(r)<gn)return console.log({date:t,now:e,seconds:r}),ke.format(Math.trunc(r),"seconds");if(Math.abs(i)<bn)return ke.format(Math.trunc(i),"minutes");if(Math.abs(s)<xn)return ke.format(Math.trunc(s),"hours");let a=t.getFullYear()-e.getFullYear(),c=t.getMonth()-e.getMonth()+yi*a;return c>0&&t.getDate()<e.getDate()&&c--,c<0&&t.getDate()>e.getDate()&&c++,Math.abs(c)<1?ke.format(Math.trunc(o),"days"):(a>0&&(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())&&a--,a<0&&(t.getMonth()>e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()>e.getDate())&&a++,Math.abs(a)<1?ke.format(c,"months"):ke.format(a,"years"))},bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAACUUlEQVQ4y6WUTUhUURiGn3Eax7mU5HDFscGbC7UpcuEtpR9JEJuGohg3LsaNi4qIsKgWiZgrqUAKJSgYglyMSBAziygdihiI/nFRRBO5qAsW6jRTqXcE09NCumL3mkrf5pzzwXnOd97vPQcs4tyRcsEaIscqKRcWEGlXxX9BahvPoBTN0nNi+5oqMkXPqV1i+vEeEb4QMEBDAzdENHxF/LOSSFeTsUkNtJJKzxLc951Lx+sFQOrTa/QvCdOB65aspHKCVY+AgNA+vkMunEfx5hE6MIlc3CKk2TcgJk0Qm9GRgx6hbN2Nv0rDVyahjc6gePNMG4bfTkJFFzvqDtlMlaj1Tfi3vUR2SwCWAABfmURs+Km1Js3ne22xwYkVBZdcdnTt3vLCyqU1q+pccL+LSHersITo3z6sCiK7HUhTcXMlke5WEWz4Swf7epDKluacHnB6qK3ZyB/PGJDks7vEBie4fP0zyREdAG3+MCfPJtAyJQYj9sLHxavjyMUlPLk/sNidntMNwl+dQfE66Y+OoXidCyI6svjUvUi5i95QNsukvpbCr3HUiinCnS3CFrnWLmqVOLLbQX90jFBjEZLLbtJBz84Z3TH8AiRHpskh9QDZ7aC3L4O/zm0JAIgn0sQTaQMYf56LNjqzcJ3Uj1x6+zK03X5vkz0BEXL/tASplRuQXHaSIzrxVwW03XpoM9neeL3HSsXR0CbiiTR6ds4A6tk5yK+iuf2ObcX/RPHm0T+Uj6ZXo1YujLLbgVS00xJgGeHOFsOJHU1bjHn0ZseyH9RvnLfMpX3tEzMAAAAASUVORK5CYII=",xi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAADWklEQVQ4y6VVX2hbVRz+ElJLA8q1DNYuqTn4oi0bSenDKnPtRWxnHTFJGfiywb2l6tNoL7MvMumNteBEaJggWKQ3tUHQikShsNWHG7qXdC9JVFIoaG6wL2VKctUN42o+H7S3tomS6Q8OHO75zu+7v+/35wD/wxRF4ezsLP/LXcqyzFYIgoG2lrCeZh8vPvEVrO1OTs28Dk3TXADw9z8uFAr4/btV3J7vwvGXN/DAJLIs49LZbxEeqOOl918DAL4w0IH61wkH0/NrHcHedgDAUG871KsfMRaLuR4oko2tGoZ627GqHcPKrbsID3RA8robcO/e+BnVe3XEYjEYhkFVVZsSNdwcHh529uUf9lAo38erqSo2tmqHcIXyfaS+EYi/dwOhUAiqqsIwDLZEYtu243Bk/g4eP/cGxrUUZtZOYOXW3QPcvTqi0ShkWYZpmgiFQtA0rbXSkrxu7i76uJ3opizL3LdKpUIhBLcT3aylerid6KYQgiRZKpW4sLBAAGwWjedoWT7d/gUkrxuS1w3LsgAAlmVB0zRMTU1hZUPH1fFHEDjmQfjJH6GqKqrVKoQQTuU1yKUoisOcTqcRHuhwDs8+dgeJxEFVSZLk5OPNz36C5HUj/cmHsCwL+Xwe09PTCAaD0HW9MTeGYTAajTIYaGMt1eOs3UUfg4E2KopCXdcpSRLN9c8Zef4ZPtTmYVfnoxRCMJfL0TRNR1rTNCmEoCzLjfIdJdnb+oAkaRgGJycn+fa1a05+dF13nDSzUqlE0zQJAK79TrZtG8nF69hd9P2p4/Gn4Hn244Nol5aQXFrCzs4OTg8OYmR0FH19fTg9ONigTD6fx/LyMqrVKpLJpMt1NPEn99K4/NzDDSTX/8qNMjGBzWwWm9ksisUiNrNZ+P1++Px+qBMTGBkdBQAkk0kAQNMGFSc6eXu+i7VUD+u/fO+E/+nqKs+PjdG27UOy2LbN82Njh84qlQoTicS/D05JkvjORYm/rZ0jawdOZ65c4dCZM5yLx7l+8ybn4nGGTp3iXDzuYHK5XAPBPw61aDTKUm4Nl8M+xF55C50nXwQAbBWL+HJ93cGNX7gAv9+PTCaDQqGAQCCAo8PS1cq7kclk9okRiUScBi2XyxBCwLIsRCIR9Pf3N/X3B6UQAyT2WO36AAAAAElFTkSuQmCC",ki="/commenstudio/assets/pin-227d1b1d.svg",wi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAD2UlEQVQ4y4WUbUhbZxTHf4lXc2+WaHJ9y4u2uqS6trHqZmSjQ2WU2W0fFtg6JgxWx2Afhgzml0IL28BPhXYfpIWV0X0sGytVGBuhUFy2DpwtUUydbZMpNdG1xrwY440x9u7DXVI61+4PD8/Dw3nO/5zzP8/R8RQkZ75TC9lVMmsrpJNJCirsbXaxsRbDVO2kvKoBa/s7Ov4HjxksTlxQy3fSbG6kiYZDJJfDvPjaAD9f+YZ8PIxtj5u2/kEuj57EIMCR94aJhCMIemhwe9j35sh/EgrFw9T5Y6pRv0Eunye1uoxRr1DX3k02q6DPxjAIYGvxsnhrikoRquudiGaZpeB5jDoFJRnjzuVhVSdIu8h0ANc+61Ltnl5mA+MAWB0uqqwyTQe85DIJRLNcevDXnyGUpFauHb3E3E/nAOh+e5iZyQDr0RAH+gbwfnixRKT75axPlWtkZq770W/ESs729w2wvgXTVy9hEMDT48PqcLF4J0R9jUzDfi+FvIJQIZX2YgCpBzEa23rJZeI8/9G3Ov39WT+1TR5EUSpFLJpl7K1eFm74qTVBpajVPBwMkJ7zE4+FyWUSjJ07yfdffko8GiEejRCLxRBNMs3tvdQ0uLC5DjH51XG1pEnXq++WSAp5hUJeobVdK1cRK7c1PZzuNuZvBqgUQdBDTYOLX8e15ljKP9Li5bc+Jr34O8JKQmHl9hSb2xC8OoK7zYunx8fNgJ8qq4y9pRtTjQOhQsL3yVlSyxEsDhdbikLZlgfRLFPYUkgth6kUtayLsNQ5WCrkESyHfMxfH+OlY8MYXx9AMsvMTAZI3w2QBqKSzJHjpxi/MIIoSRzs6oFykew22A/2YqnTAjj6wSlymSSZtRiFvIJokhEqJJRMgrIrgfkvOmyFz3WpCE2dr2CqcRKcGMewk0Gvg2c7e0is51AWf6NsO0PrYR+3Jq+xFvJzLxyitbufH74eYeVehEw6wTbluDt7qKrfyx8TlxBq27R/Yuv0MR0cI7t+hucO+3jj/WFymQRLswHsLV5uXBsDwFTtRDBIJW3cHi/xaARVSWC2SNidHuytXgBm/ReZC4UYGp/SlXr59GCHGl+YprEKGu0yzS/0U9vsKbXoRnwZ0WylkFeIhkMYBLC3eMluKlRZtdIUA4vOT7HwQOHEj9o/3DUGThy1qA9zKexmkI1g2+PG4nBhtbu1bP5pgiLxdl4TPbkc4f5KjNUsrG7AmcAj308cbqcHO9TY3WmeqQBjBYgCVBoetyk8hM1tyOa1tVUAd2cfQ6MTuicOyKdhdKhPBQgHJ0p3zn0dSCbLLqf/xt9dB50WCfxmLAAAAABJRU5ErkJggg==";function Si(){const[t]=ye(Vt),[e]=ye(Gn),[n,r]=Ee([]),[i,s]=Ee(0),[o,a]=Ee(new Map);Ge(()=>{(async()=>(r(await hi(t,i)),a(await mi(new Set(t)))))()},[t,i]);const c=()=>{s(d=>d-1)},l=()=>{s(d=>d+1)};return k("div",{class:"flex flex-col gap-2",children:[k("h2",{class:"text-xl font-bold",children:["Comments (",i===0?k(F,{children:"«"}):k("button",{class:"font-bold text-sky-600 hover:underline",type:"button",onClick:c,children:"«"})," ",i+1," ",n.length===0?k(F,{children:"»"}):k("button",{class:"font-bold text-sky-600 hover:underline",type:"button",onClick:l,children:"»"}),")"]}),n.length===0?k("p",{class:"w-full text-lg italic",children:t.length===0?"Add some studios on the left!":i===0?"There are no comments here.":"No comments left."}):k(F,{children:[e.length===0?null:k("div",{class:"mb-4 space-y-2",children:[" ",e.map((d,u)=>k(kn,{...d},u))]}),n.map((d,u)=>k(kn,{...d,studioName:o.get(d.studio)??"",showIfPinned:!1},u))]})]})}function kn({id:t,content:e,datetime_created:n,author:r,reply_count:i,studio:s,studioName:o,showIfPinned:a=!0}){const[c,l]=ye(Fn),[d,u]=ye(Gn),M=`https://scratch.mit.edu/users/${r.username}`,T=e.replace(/<img src="\/images\/emoji\/meow.png"/g,`<img src="${xi}"`).replace(/<img src="\/images\/emoji\/gobo.png"/g,`<img src="${bi}"`).replace(/<img src="\/images\/emoji\/waffle.png"/g,`<img src="${wi}"`).replace(/<img src="\/images\/emoji/g,'<img src="https://scratch.mit.edu/images/emoji').replace(/<img/g,'<img class="inline-block max-w-[24px]"'),y=new Date(n),N=y.getTime()<=c,Y=d.find(V=>V.id===t),I=!!Y;if(I&&!a)return null;const U=()=>{l(y.getTime())},H=()=>{if(I){const V=d.indexOf(Y);u([...d.slice(0,V),...d.slice(V+1)])}else{const V=[...d];V.push({id:t,content:e,datetime_created:n,author:r,reply_count:i,studio:s,studioName:o}),u(V)}};return k("div",{class:`flex w-full items-center gap-2 rounded-xl bg-stone-300 px-2 py-1 ${N&&!I?"opacity-80":""}`,children:[k("a",{href:M,children:k("img",{class:"h-12 min-h-[theme(spacing.12)] w-12 min-w-[theme(spacing.12)]",src:r.image,alt:`${r.username}'s profile picture`})}),k("div",{children:[k("span",{class:"flex items-center gap-2",children:[I?k("img",{class:"inline-block h-4 w-4",src:ki,title:"Pinned",alt:"Pin emoji"}):null,k("a",{href:M,class:"font-bold text-sky-600 hover:underline",children:r.username}),k("span",{class:"italic",children:o})]}),k("p",{dangerouslySetInnerHTML:{__html:T},style:{overflowWrap:"anywhere"}}),k("a",{class:"font-bold text-sky-600 hover:underline",target:"_blank",href:`https://scratch.mit.edu/studios/${s}/comments/#comments-${t}`,children:["reply (",i,"/25)"]})," ","-"," ",k("span",{title:y.toISOString(),children:gi(y)})," ","-"," ",N?"Read":k("button",{class:"font-bold text-sky-600 hover:underline",type:"button",onClick:U,children:"Mark as read"})," ","-"," ",k("button",{class:"font-bold text-sky-600 hover:underline",onClick:H,children:I?"Unpin":"Pin"})]})]})}function Ei(){return k(F,{children:[k("header",{class:"mb-2 flex items-center gap-2",children:[k("h1",{class:"text-3xl font-bold",children:"Commenstudio"}),k("nav",{children:[k("a",{href:"https://github.com/mybearworld/commenstudio",class:"font-bold text-sky-600 hover:underline",children:"Github"}),k("span",{class:"font-bold",children:" - "}),k("a",{href:"https://scratch.mit.edu/discuss/topic/717430",class:"font-bold text-sky-600 hover:underline",children:"Topic"})]})]}),k("div",{class:"flex max-w-full gap-8",children:[k("div",{class:"min-w-[theme(spacing.48)]",children:[k(_s,{}),k("div",{class:"mt-4",children:k(Ai,{})})]}),k("div",{class:"flex-1",children:k(Si,{})})]})]})}function Ai(){const[t,e]=ye(Fn);return k("button",{class:"font-bold text-sky-600 hover:underline",type:"button",onClick:()=>{confirm("Are you sure you want to reset your read date? Every comment will appear as unread if you do this.")&&e(0)},children:"Reset read date"})}Te(k(Ei,{}),document.getElementById("app"));
