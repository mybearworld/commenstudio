(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bt,E,ar,Ie,bs,cr,Vn,ur,it={},lr=[],Xr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,En=Array.isArray;function be(t,e){for(var n in e)t[n]=e[n];return t}function dr(t){var e=t.parentNode;e&&e.removeChild(t)}function Ee(t,e,n){var r,s,i,o={};for(i in e)i=="key"?r=e[i]:i=="ref"?s=e[i]:o[i]=e[i];if(arguments.length>2&&(o.children=arguments.length>3?bt.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)o[i]===void 0&&(o[i]=t.defaultProps[i]);return tt(t,o,r,s,null)}function tt(t,e,n,r,s){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++ar,__i:-1,__u:0};return s==null&&E.vnode!=null&&E.vnode(i),i}function ei(){return{current:null}}function X(t){return t.children}function me(t,e){this.props=t,this.context=e}function We(t,e){if(e==null)return t.__?We(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?We(t):null}function fr(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return fr(t)}}function Zn(t){(!t.__d&&(t.__d=!0)&&Ie.push(t)&&!Pt.__r++||bs!==E.debounceRendering)&&((bs=E.debounceRendering)||cr)(Pt)}function Pt(){var t,e,n,r,s,i,o,a,c;for(Ie.sort(Vn);t=Ie.shift();)t.__d&&(e=Ie.length,r=void 0,i=(s=(n=t).__v).__e,a=[],c=[],(o=n.__P)&&((r=be({},s)).__v=s.__v+1,E.vnode&&E.vnode(r),os(o,r,s,n.__n,o.ownerSVGElement!==void 0,32&s.__u?[i]:null,a,i??We(s),!!(32&s.__u),c),r.__.__k[r.__i]=r,mr(a,r,c),r.__e!=i&&fr(r)),Ie.length>e&&Ie.sort(Vn));Pt.__r=0}function hr(t,e,n,r,s,i,o,a,c,u,d){var l,T,_,N,q,P=r&&r.__k||lr,U=e.length;for(n.__d=c,ti(n,e,P),c=n.__d,l=0;l<U;l++)(_=n.__k[l])!=null&&typeof _!="boolean"&&typeof _!="function"&&(T=_.__i===-1?it:P[_.__i]||it,_.__i=l,os(t,_,T,s,i,o,a,c,u,d),N=_.__e,_.ref&&T.ref!=_.ref&&(T.ref&&as(T.ref,null,_),d.push(_.ref,_.__c||N,_)),q==null&&N!=null&&(q=N),65536&_.__u||T.__k===_.__k?c=pr(_,c,t):typeof _.type=="function"&&_.__d!==void 0?c=_.__d:N&&(c=N.nextSibling),_.__d=void 0,_.__u&=-196609);n.__d=c,n.__e=q}function ti(t,e,n){var r,s,i,o,a,c=e.length,u=n.length,d=u,l=0;for(t.__k=[],r=0;r<c;r++)(s=t.__k[r]=(s=e[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?tt(null,s,null,null,s):En(s)?tt(X,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?tt(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=t,s.__b=t.__b+1,a=ni(s,n,o=r+l,d),s.__i=a,i=null,a!==-1&&(d--,(i=n[a])&&(i.__u|=131072)),i==null||i.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==o&&(a===o+1?l++:a>o?d>c-o?l+=a-o:l--:l=a<o&&a==o-1?a-o:0,a!==r+l&&(s.__u|=65536))):(i=n[r])&&i.key==null&&i.__e&&(i.__e==t.__d&&(t.__d=We(i)),Hn(i,i,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(i=n[r])!=null&&!(131072&i.__u)&&(i.__e==t.__d&&(t.__d=We(i)),Hn(i,i))}function pr(t,e,n){var r,s;if(typeof t.type=="function"){for(r=t.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=t,e=pr(r[s],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function ke(t,e){return e=e||[],t==null||typeof t=="boolean"||(En(t)?t.some(function(n){ke(n,e)}):e.push(t)),e}function ni(t,e,n,r){var s=t.key,i=t.type,o=n-1,a=n+1,c=e[n];if(c===null||c&&s==c.key&&i===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&s==c.key&&i===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&s==c.key&&i===c.type)return a;a++}}return-1}function ks(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Xr.test(e)?n:n+"px"}function Et(t,e,n,r,s){var i;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ks(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ks(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,i?Es:Ts,i)):t.removeEventListener(e,i?Es:Ts,i);else{if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function Ts(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(E.event?E.event(t):t)}function Es(t){return this.l[t.type+!0](E.event?E.event(t):t)}function os(t,e,n,r,s,i,o,a,c,u){var d,l,T,_,N,q,P,U,V,H,G,W,$,ne,f,m=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),i=[a=e.__e=n.__e]),(d=E.__b)&&d(e);e:if(typeof m=="function")try{if(U=e.props,V=(d=m.contextType)&&r[d.__c],H=d?V?V.props.value:d.__:r,n.__c?P=(l=e.__c=n.__c).__=l.__E:("prototype"in m&&m.prototype.render?e.__c=l=new m(U,H):(e.__c=l=new me(U,H),l.constructor=m,l.render=ri),V&&V.sub(l),l.props=U,l.state||(l.state={}),l.context=H,l.__n=r,T=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),m.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=be({},l.__s)),be(l.__s,m.getDerivedStateFromProps(U,l.__s))),_=l.props,N=l.state,l.__v=e,T)m.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(m.getDerivedStateFromProps==null&&U!==_&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(U,H),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(U,l.__s,H)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(l.props=U,l.state=l.__s,l.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(x){x&&(x.__=e)}),G=0;G<l._sb.length;G++)l.__h.push(l._sb[G]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(U,l.__s,H),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(_,N,q)})}if(l.context=H,l.props=U,l.__P=t,l.__e=!1,W=E.__r,$=0,"prototype"in m&&m.prototype.render){for(l.state=l.__s,l.__d=!1,W&&W(e),d=l.render(l.props,l.state,l.context),ne=0;ne<l._sb.length;ne++)l.__h.push(l._sb[ne]);l._sb=[]}else do l.__d=!1,W&&W(e),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++$<25);l.state=l.__s,l.getChildContext!=null&&(r=be(be({},r),l.getChildContext())),T||l.getSnapshotBeforeUpdate==null||(q=l.getSnapshotBeforeUpdate(_,N)),hr(t,En(f=d!=null&&d.type===X&&d.key==null?d.props.children:d)?f:[f],e,n,r,s,i,o,a,c,u),l.base=e.__e,e.__u&=-161,l.__h.length&&o.push(l),P&&(l.__E=l.__=null)}catch(x){e.__v=null,c||i!=null?(e.__e=a,e.__u|=c?160:32,i[i.indexOf(a)]=null):(e.__e=n.__e,e.__k=n.__k),E.__e(x,e,n)}else i==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=si(n.__e,e,n,r,s,i,o,c,u);(d=E.diffed)&&d(e)}function mr(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)as(n[r],n[++r],n[++r]);E.__c&&E.__c(e,t),t.some(function(s){try{t=s.__h,s.__h=[],t.some(function(i){i.call(s)})}catch(i){E.__e(i,s.__v)}})}function si(t,e,n,r,s,i,o,a,c){var u,d,l,T,_,N,q,P=n.props,U=e.props,V=e.type;if(V==="svg"&&(s=!0),i!=null){for(u=0;u<i.length;u++)if((_=i[u])&&"setAttribute"in _==!!V&&(V?_.localName===V:_.nodeType===3)){t=_,i[u]=null;break}}if(t==null){if(V===null)return document.createTextNode(U);t=s?document.createElementNS("http://www.w3.org/2000/svg",V):document.createElement(V,U.is&&U),i=null,a=!1}if(V===null)P===U||a&&t.data===U||(t.data=U);else{if(i=i&&bt.call(t.childNodes),P=n.props||it,!a&&i!=null)for(P={},u=0;u<t.attributes.length;u++)P[(_=t.attributes[u]).name]=_.value;for(u in P)_=P[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=_:u==="key"||u in U||Et(t,u,null,_,s));for(u in U)_=U[u],u=="children"?T=_:u=="dangerouslySetInnerHTML"?d=_:u=="value"?N=_:u=="checked"?q=_:u==="key"||a&&typeof _!="function"||P[u]===_||Et(t,u,_,P[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(l&&(t.innerHTML=""),hr(t,En(T)?T:[T],e,n,r,s&&V!=="foreignObject",i,o,i?i[0]:n.__k&&We(n,0),a,c),i!=null)for(u=i.length;u--;)i[u]!=null&&dr(i[u]);a||(u="value",N!==void 0&&(N!==t[u]||V==="progress"&&!N||V==="option"&&N!==P[u])&&Et(t,u,N,P[u],!1),u="checked",q!==void 0&&q!==t[u]&&Et(t,u,q,P[u],!1))}return t}function as(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){E.__e(r,n)}}function Hn(t,e,n){var r,s;if(E.unmount&&E.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||as(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){E.__e(i,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Hn(r[s],e,n||typeof t.type!="function");n||t.__e==null||dr(t.__e),t.__=t.__e=t.__d=void 0}function ri(t,e,n){return this.constructor(t,n)}function Fe(t,e,n){var r,s,i,o;E.__&&E.__(t,e),s=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],o=[],os(e,t=(!r&&n||e).__k=Ee(X,null,[t]),s||it,it,e.ownerSVGElement!==void 0,!r&&n?[n]:s?null:e.firstChild?bt.call(e.childNodes):null,i,!r&&n?n:s?s.__e:e.firstChild,r,o),mr(i,t,o)}function _r(t,e){Fe(t,e,_r)}function ii(t,e,n){var r,s,i,o,a=be({},t.props);for(i in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)i=="key"?r=e[i]:i=="ref"?s=e[i]:a[i]=e[i]===void 0&&o!==void 0?o[i]:e[i];return arguments.length>2&&(a.children=arguments.length>3?bt.call(arguments,2):n),tt(t.type,a,r||t.key,s||t.ref,null)}function gr(t,e){var n={__c:e="__cC"+ur++,__:t,Consumer:function(r,s){return r.children(s)},Provider:function(r){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&s.some(function(a){a.__e=!0,Zn(a)})},this.sub=function(o){s.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){s.splice(s.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}bt=lr.slice,E={__e:function(t,e,n,r){for(var s,i,o;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(t)),o=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(t,r||{}),o=s.__d),o)return s.__E=s}catch(a){t=a}throw t}},ar=0,me.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=be({},this.state),typeof t=="function"&&(t=t(be({},n),this.props)),t&&be(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Zn(this))},me.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Zn(this))},me.prototype.render=X,Ie=[],cr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vn=function(t,e){return t.__v.__b-e.__v.__b},Pt.__r=0,ur=0;var Re,z,Rn,xs,qe=0,yr=[],Rt=[],Ss=E.__b,ws=E.__r,As=E.diffed,Cs=E.__c,Rs=E.unmount;function Ge(t,e){E.__h&&E.__h(z,t,qe||e),qe=0;var n=z.__H||(z.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:Rt}),n.__[t]}function ae(t){return qe=1,cs(Tr,t)}function cs(t,e,n){var r=Ge(Re++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):Tr(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=z,!z.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(T){return T.__c});if(d.every(function(T){return!T.__N}))return!i||i.call(this,a,c,u);var l=!1;return d.forEach(function(T){if(T.__N){var _=T.__[0];T.__=T.__N,T.__N=void 0,_!==T.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!i||i.call(this,a,c,u))};z.u=!0;var i=z.shouldComponentUpdate,o=z.componentWillUpdate;z.componentWillUpdate=function(a,c,u){if(this.__e){var d=i;i=void 0,s(a,c,u),i=d}o&&o.call(this,a,c,u)},z.shouldComponentUpdate=s}return r.__N||r.__}function _e(t,e){var n=Ge(Re++,3);!E.__s&&ls(n.__H,e)&&(n.__=t,n.i=e,z.__H.__h.push(n))}function xn(t,e){var n=Ge(Re++,4);!E.__s&&ls(n.__H,e)&&(n.__=t,n.i=e,z.__h.push(n))}function kt(t){return qe=5,us(function(){return{current:t}},[])}function oi(t,e,n){qe=6,xn(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function us(t,e){var n=Ge(Re++,7);return ls(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function vr(t,e){return qe=8,us(function(){return t},e)}function br(t){var e=z.context[t.__c],n=Ge(Re++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(z)),e.props.value):t.__}function kr(t,e){E.useDebugValue&&E.useDebugValue(e?e(t):t)}function ai(){var t=Ge(Re++,11);if(!t.__){for(var e=z.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function ci(){for(var t;t=yr.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Nt),t.__H.__h.forEach(Bn),t.__H.__h=[]}catch(e){t.__H.__h=[],E.__e(e,t.__v)}}E.__b=function(t){z=null,Ss&&Ss(t)},E.__r=function(t){ws&&ws(t),Re=0;var e=(z=t.__c).__H;e&&(Rn===z?(e.__h=[],z.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Rt,n.__N=n.i=void 0})):(e.__h.forEach(Nt),e.__h.forEach(Bn),e.__h=[],Re=0)),Rn=z},E.diffed=function(t){As&&As(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(yr.push(e)!==1&&xs===E.requestAnimationFrame||((xs=E.requestAnimationFrame)||ui)(ci)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Rt&&(n.__=n.__V),n.i=void 0,n.__V=Rt})),Rn=z=null},E.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Nt),n.__h=n.__h.filter(function(r){return!r.__||Bn(r)})}catch(r){e.some(function(s){s.__h&&(s.__h=[])}),e=[],E.__e(r,n.__v)}}),Cs&&Cs(t,e)},E.unmount=function(t){Rs&&Rs(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Nt(r)}catch(s){e=s}}),n.__H=void 0,e&&E.__e(e,n.__v))};var Ns=typeof requestAnimationFrame=="function";function ui(t){var e,n=function(){clearTimeout(r),Ns&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Ns&&(e=requestAnimationFrame(n))}function Nt(t){var e=z,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),z=e}function Bn(t){var e=z;t.__c=t.__(),z=e}function ls(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Tr(t,e){return typeof e=="function"?e(t):e}let li=0;function $n(t,e){const n=`atom${++li}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=function(s){return s(this)},r.write=function(s,i,o){return i(this,typeof o=="function"?o(s(this)):o)}),e&&(r.write=e),r}const Ds=t=>"init"in t,Os=t=>!!t.write,Mt=new WeakMap,di=(t,e)=>{Mt.set(t,e),t.catch(()=>{}).finally(()=>Mt.delete(t))},Is=(t,e)=>{const n=Mt.get(t);n&&(Mt.delete(t),n(e))},Ls=(t,e)=>{t.status="fulfilled",t.value=e},Ps=(t,e)=>{t.status="rejected",t.reason=e},fi=t=>typeof(t==null?void 0:t.then)=="function",Xe=(t,e)=>!!t&&"v"in t&&"v"in e&&Object.is(t.v,e.v),Ms=(t,e)=>!!t&&"e"in t&&"e"in e&&Object.is(t.e,e.e),Ve=t=>!!t&&"v"in t&&t.v instanceof Promise,hi=(t,e)=>"v"in t&&"v"in e&&t.v.orig&&t.v.orig===e.v.orig,xt=t=>{if("e"in t)throw t.e;return t.v},pi=()=>{const t=new WeakMap,e=new WeakMap,n=new Map;let r,s;const i=f=>t.get(f),o=(f,m)=>{const x=t.get(f);if(t.set(f,m),n.has(f)||n.set(f,x),Ve(x)){const y="v"in m?m.v instanceof Promise?m.v:Promise.resolve(m.v):Promise.reject(m.e);x.v!==y&&Is(x.v,y)}},a=(f,m,x)=>{const y=new Map;let S=!1;x.forEach((C,k)=>{!C&&k===f&&(C=m),C&&(y.set(k,C),m.d.get(k)!==C&&(S=!0))}),(S||m.d.size!==y.size)&&(m.d=y)},c=(f,m,x)=>{const y=i(f),S={d:(y==null?void 0:y.d)||new Map,v:m};if(x&&a(f,S,x),Xe(y,S)&&y.d===S.d)return y;if(Ve(y)&&Ve(S)&&hi(y,S)){if(y.d===S.d)return y;S.v=y.v}return o(f,S),S},u=(f,m,x,y)=>{if(fi(m)){let S;const C=()=>{const A=i(f);if(!Ve(A)||A.v!==k)return;const B=c(f,k,x);e.has(f)&&A.d!==B.d&&W(f,B,A.d)},k=new Promise((A,B)=>{let L=!1;m.then(O=>{L||(L=!0,Ls(k,O),A(O),C())},O=>{L||(L=!0,Ps(k,O),B(O),C())}),S=O=>{L||(L=!0,O.then(K=>Ls(k,K),K=>Ps(k,K)),A(O))}});return k.orig=m,k.status="pending",di(k,A=>{A&&S(A),y==null||y()}),c(f,k,x)}return c(f,m,x)},d=(f,m,x)=>{const y=i(f),S={d:(y==null?void 0:y.d)||new Map,e:m};return x&&a(f,S,x),Ms(y,S)&&y.d===S.d?y:(o(f,S),S)},l=(f,m)=>{const x=i(f);if(!m&&x&&(e.has(f)||Array.from(x.d).every(([L,O])=>{if(L===f)return!0;const K=l(L);return K===O||Xe(K,O)})))return x;const y=new Map;let S=!0;const C=L=>{if(L===f){const K=i(L);if(K)return y.set(L,K),xt(K);if(Ds(L))return y.set(L,void 0),L.init;throw new Error("no atom init")}const O=l(L);return y.set(L,O),xt(O)};let k,A;const B={get signal(){return k||(k=new AbortController),k.signal},get setSelf(){return!A&&Os(f)&&(A=(...L)=>{if(!S)return V(f,...L)}),A}};try{const L=f.read(C,B);return u(f,L,y,()=>k==null?void 0:k.abort())}catch(L){return d(f,L,y)}finally{S=!1}},T=f=>xt(l(f)),_=f=>{let m=e.get(f);return m||(m=H(f)),m},N=(f,m)=>!m.l.size&&(!m.t.size||m.t.size===1&&m.t.has(f)),q=f=>{const m=e.get(f);m&&N(f,m)&&G(f)},P=f=>{const m=new Map,x=new WeakMap,y=k=>{var A;const B=new Set((A=e.get(k))==null?void 0:A.t);return n.forEach((L,O)=>{var K;(K=i(O))!=null&&K.d.has(k)&&B.add(O)}),B},S=k=>{y(k).forEach(A=>{A!==k&&(m.set(A,(m.get(A)||new Set).add(k)),x.set(A,(x.get(A)||0)+1),S(A))})};S(f);const C=k=>{y(k).forEach(A=>{var B;if(A!==k){let L=x.get(A);if(L&&x.set(A,--L),!L){let O=!!((B=m.get(A))!=null&&B.size);if(O){const K=i(A),Yr=l(A,!0);O=!Xe(K,Yr)}O||m.forEach(K=>K.delete(A))}C(A)}})};C(f)},U=(f,...m)=>{let x=!0;const y=k=>xt(l(k)),S=(k,...A)=>{let B;if(k===f){if(!Ds(k))throw new Error("atom not writable");const L=i(k),O=u(k,A[0]);Xe(L,O)||P(k)}else B=U(k,...A);if(!x){const L=$()}return B},C=f.write(y,S,...m);return x=!1,C},V=(f,...m)=>{const x=U(f,...m),y=$();return x},H=(f,m,x)=>{var y;const S=x||[];(y=i(f))==null||y.d.forEach((k,A)=>{const B=e.get(A);B?B.t.add(f):A!==f&&H(A,f,S)}),l(f);const C={t:new Set(m&&[m]),l:new Set};if(e.set(f,C),Os(f)&&f.onMount){const{onMount:k}=f;S.push(()=>{const A=k((...B)=>V(f,...B));A&&(C.u=A)})}return x||S.forEach(k=>k()),C},G=f=>{var m;const x=(m=e.get(f))==null?void 0:m.u;x&&x(),e.delete(f);const y=i(f);y&&(Ve(y)&&Is(y.v),y.d.forEach((S,C)=>{if(C!==f){const k=e.get(C);k&&(k.t.delete(f),N(C,k)&&G(C))}}))},W=(f,m,x)=>{const y=new Set(m.d.keys()),S=new Set;x==null||x.forEach((C,k)=>{if(y.has(k)){y.delete(k);return}S.add(k);const A=e.get(k);A&&A.t.delete(f)}),y.forEach(C=>{const k=e.get(C);k?k.t.add(f):e.has(f)&&H(C,f)}),S.forEach(C=>{const k=e.get(C);k&&N(C,k)&&G(C)})},$=()=>{let f;for(;n.size;){const m=Array.from(n);n.clear(),m.forEach(([x,y])=>{const S=i(x);if(S){const C=e.get(x);C&&S.d!==(y==null?void 0:y.d)&&W(x,S,y==null?void 0:y.d),C&&!(!Ve(y)&&(Xe(y,S)||Ms(y,S)))&&C.l.forEach(k=>k())}})}};return{get:T,set:V,sub:(f,m)=>{const x=_(f),y=$(),S=x.l;return S.add(m),()=>{S.delete(m),q(f)}}}};let Nn;const mi=()=>(Nn||(Nn=pi()),Nn);function Er(t,e){for(var n in e)t[n]=e[n];return t}function zn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Wn(t){this.props=t}function _i(t,e){function n(s){var i=this.props.ref,o=i==s.ref;return!o&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!o:zn(this.props,s)}function r(s){return this.shouldComponentUpdate=n,Ee(t,s)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Wn.prototype=new me).isPureReactComponent=!0,Wn.prototype.shouldComponentUpdate=function(t,e){return zn(this.props,t)||zn(this.state,e)};var js=E.__b;E.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),js&&js(t)};var gi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function yi(t){function e(n){var r=Er({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=gi,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Us=function(t,e){return t==null?null:ke(ke(t).map(e))},vi={map:Us,forEach:Us,count:function(t){return t?ke(t).length:0},only:function(t){var e=ke(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ke},bi=E.__e;E.__e=function(t,e,n,r){if(t.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),s.__c(t,e)}bi(t,e,n,r)};var Vs=E.unmount;function xr(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=Er({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return xr(r,e,n)})),t}function Sr(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return Sr(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function Dt(){this.__u=0,this.t=null,this.__b=null}function wr(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function ki(t){var e,n,r;function s(i){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return Ee(n,i)}return s.displayName="Lazy",s.__f=!0,s}function et(){this.u=null,this.o=null}E.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Vs&&Vs(t)},(Dt.prototype=new me).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var s=wr(r.__v),i=!1,o=function(){i||(i=!0,n.__R=null,s?s(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=Sr(c,c.__c.__P,c.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.t.pop();)u.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},Dt.prototype.componentWillUnmount=function(){this.t=[]},Dt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=xr(this.__b,n,r.__O=r.__P)}this.__b=null}var s=e.__a&&Ee(X,null,t.fallback);return s&&(s.__u&=-33),[Ee(X,null,e.__a?null:t.children),s]};var Zs=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function Ti(t){return this.getChildContext=function(){return t.context},t.children}function Ei(t){var e=this,n=t.i;e.componentWillUnmount=function(){Fe(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,s){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Fe(Ee(Ti,{context:e.context},t.__v),e.l)}function xi(t,e){var n=Ee(Ei,{__v:t,i:e});return n.containerInfo=e,n}(et.prototype=new me).__a=function(t){var e=this,n=wr(e.__v),r=e.o.get(t);return r[0]++,function(s){var i=function(){e.props.revealOrder?(r.push(s),Zs(e,t,r)):s()};n?n(i):i()}},et.prototype.render=function(t){this.u=null,this.o=new Map;var e=ke(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},et.prototype.componentDidUpdate=et.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Zs(t,n,e)})};var Ar=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Si=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,wi=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ai=/[A-Z0-9]/g,Ci=typeof document<"u",Ri=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function Ni(t,e,n){return e.__k==null&&(e.textContent=""),Fe(t,e),typeof n=="function"&&n(),t?t.__c:null}function Di(t,e,n){return _r(t,e),typeof n=="function"&&n(),t?t.__c:null}me.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(me.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Hs=E.event;function Oi(){}function Ii(){return this.cancelBubble}function Li(){return this.defaultPrevented}E.event=function(t){return Hs&&(t=Hs(t)),t.persist=Oi,t.isPropagationStopped=Ii,t.isDefaultPrevented=Li,t.nativeEvent=t};var ds,Pi={enumerable:!1,configurable:!0,get:function(){return this.class}},Bs=E.vnode;E.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,s={};for(var i in n){var o=n[i];if(!(i==="value"&&"defaultValue"in n&&o==null||Ci&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var a=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":a==="ondoubleclick"?i="ondblclick":a!=="onchange"||r!=="input"&&r!=="textarea"||Ri(n.type)?a==="onfocus"?i="onfocusin":a==="onblur"?i="onfocusout":wi.test(i)?i=a:r.indexOf("-")===-1&&Si.test(i)?i=i.replace(Ai,"-$&").toLowerCase():o===null&&(o=void 0):a=i="oninput",a==="oninput"&&s[i=a]&&(i="oninputCapture"),s[i]=o}}r=="select"&&s.multiple&&Array.isArray(s.value)&&(s.value=ke(n.children).forEach(function(c){c.props.selected=s.value.indexOf(c.props.value)!=-1})),r=="select"&&s.defaultValue!=null&&(s.value=ke(n.children).forEach(function(c){c.props.selected=s.multiple?s.defaultValue.indexOf(c.props.value)!=-1:s.defaultValue==c.props.value})),n.class&&!n.className?(s.class=n.class,Object.defineProperty(s,"className",Pi)):(n.className&&!n.class||n.class&&n.className)&&(s.class=s.className=n.className),e.props=s}(t),t.$$typeof=Ar,Bs&&Bs(t)};var $s=E.__r;E.__r=function(t){$s&&$s(t),ds=t.__c};var zs=E.diffed;E.diffed=function(t){zs&&zs(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),ds=null};var Mi={ReactCurrentDispatcher:{current:{readContext:function(t){return ds.__n[t.__c].props.value}}}};function ji(t){return Ee.bind(null,t)}function Sn(t){return!!t&&t.$$typeof===Ar}function Ui(t){return Sn(t)&&t.type===X}function Vi(t){return Sn(t)?ii.apply(null,arguments):t}function Zi(t){return!!t.__k&&(Fe(null,t),!0)}function Hi(t){return t&&(t.base||t.nodeType===1&&t)||null}var Bi=function(t,e){return t(e)},$i=function(t,e){return t(e)},zi=X;function Cr(t){t()}function Wi(t){return t}function Fi(){return[!1,Cr]}var qi=xn,Ki=Sn;function Qi(t,e){var n=e(),r=ae({h:{__:n,v:e}}),s=r[0].h,i=r[1];return xn(function(){s.__=n,s.v=e,Dn(s)&&i({h:s})},[t,n,e]),_e(function(){return Dn(s)&&i({h:s}),t(function(){Dn(s)&&i({h:s})})},[t]),n}function Dn(t){var e,n,r=t.v,s=t.__;try{var i=r();return!((e=s)===(n=i)&&(e!==0||1/e==1/n)||e!=e&&n!=n)}catch{return!0}}var Ji={useState:ae,useId:ai,useReducer:cs,useEffect:_e,useLayoutEffect:xn,useInsertionEffect:qi,useTransition:Fi,useDeferredValue:Wi,useSyncExternalStore:Qi,startTransition:Cr,useRef:kt,useImperativeHandle:oi,useMemo:us,useCallback:vr,useContext:br,useDebugValue:kr,version:"17.0.2",Children:vi,render:Ni,hydrate:Di,unmountComponentAtNode:Zi,createPortal:xi,createElement:Ee,createContext:gr,createFactory:ji,cloneElement:Vi,createRef:ei,Fragment:X,isValidElement:Sn,isElement:Ki,isFragment:Ui,findDOMNode:Hi,Component:me,PureComponent:Wn,memo:_i,forwardRef:yi,flushSync:$i,unstable_batchedUpdates:Bi,StrictMode:zi,Suspense:Dt,SuspenseList:et,lazy:ki,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Mi};const Gi=gr(void 0),Rr=t=>{const e=br(Gi);return(t==null?void 0:t.store)||e||mi()},Yi=t=>typeof(t==null?void 0:t.then)=="function",Xi=Ji.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function eo(t,e){const n=Rr(e),[[r,s,i],o]=cs(u=>{const d=n.get(t);return Object.is(u[0],d)&&u[1]===n&&u[2]===t?u:[d,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;(s!==n||i!==t)&&(o(),a=n.get(t));const c=e==null?void 0:e.delay;return _e(()=>{const u=n.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),u},[n,t,c]),kr(a),Yi(a)?Xi(a):a}function to(t,e){const n=Rr(e);return vr((...s)=>n.set(t,...s),[n,t])}function re(t,e){return[eo(t,e),to(t,e)]}const no=Symbol(""),so=t=>typeof(t==null?void 0:t.then)=="function";function ro(t=()=>typeof window<"u"?window.localStorage:void 0,e){let n,r;const s={getItem:(i,o)=>{var a,c;const u=l=>{if(l=l||"",n!==l){try{r=JSON.parse(l,e==null?void 0:e.reviver)}catch{return o}n=l}return r},d=(c=(a=t())==null?void 0:a.getItem(i))!=null?c:null;return so(d)?d.then(u):u(d)},setItem:(i,o)=>{var a;return(a=t())==null?void 0:a.setItem(i,JSON.stringify(o,e==null?void 0:e.replacer))},removeItem:i=>{var o;return(o=t())==null?void 0:o.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(s.subscribe=(i,o,a)=>{if(!(t()instanceof window.Storage))return()=>{};const c=u=>{if(u.storageArea===t()&&u.key===i){let d;try{d=JSON.parse(u.newValue||"")}catch{d=a}o(d)}};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),s}const io=ro();function Ye(t,e,n=io,r){const s=r==null?void 0:r.getOnInit,i=$n(s?n.getItem(t,e):e);return i.onMount=a=>{s||a(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,a,e)),c},$n(a=>a(i),(a,c,u)=>{const d=typeof u=="function"?u(a(i)):u;return d===no?(c(i,e),n.removeItem(t)):d instanceof Promise?d.then(l=>(c(i,l),n.setItem(t,l))):(c(i,d),n.setItem(t,d))})}const Nr=$n(!1),oo=Ye("commenstudio:darkMode",matchMedia("(prefers-color-scheme: dark)").matches),fs=Ye("commenstudio:studios",[]),Dr=Ye("commenstudio:readTo",0),Or=Ye("commenstudio:pinnedComments",[]),ao=Ye("commenstudio:pinReasons",{}),Ir=Ye("commenstudio:hideRead",!1);var Z;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Z||(Z={}));var Fn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Fn||(Fn={}));const g=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ae=t=>{switch(typeof t){case"undefined":return g.undefined;case"string":return g.string;case"number":return isNaN(t)?g.nan:g.number;case"boolean":return g.boolean;case"function":return g.function;case"bigint":return g.bigint;case"symbol":return g.symbol;case"object":return Array.isArray(t)?g.array:t===null?g.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?g.promise:typeof Map<"u"&&t instanceof Map?g.map:typeof Set<"u"&&t instanceof Set?g.set:typeof Date<"u"&&t instanceof Date?g.date:g.object;default:return g.unknown}},h=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),co=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ue extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ue.create=t=>new ue(t);const ot=(t,e)=>{let n;switch(t.code){case h.invalid_type:t.received===g.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case h.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Z.jsonStringifyReplacer)}`;break;case h.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(t.keys,", ")}`;break;case h.invalid_union:n="Invalid input";break;case h.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(t.options)}`;break;case h.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(t.options)}, received '${t.received}'`;break;case h.invalid_arguments:n="Invalid function arguments";break;case h.invalid_return_type:n="Invalid function return type";break;case h.invalid_date:n="Invalid date";break;case h.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case h.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case h.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case h.custom:n="Invalid input";break;case h.invalid_intersection_types:n="Intersection results could not be merged";break;case h.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case h.not_finite:n="Number must be finite";break;default:n=e.defaultError,Z.assertNever(t)}return{message:n}};let Lr=ot;function uo(t){Lr=t}function jt(){return Lr}const Ut=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:e,defaultError:a}).message;return{...s,path:i,message:s.message||a}},lo=[];function b(t,e){const n=Ut({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,jt(),ot].filter(r=>!!r)});t.common.issues.push(n)}class J{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return D;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n)r.push({key:await s.key,value:await s.value});return J.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return D;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const D=Object.freeze({status:"aborted"}),Pr=t=>({status:"dirty",value:t}),ee=t=>({status:"valid",value:t}),qn=t=>t.status==="aborted",Kn=t=>t.status==="dirty",at=t=>t.status==="valid",Vt=t=>typeof Promise<"u"&&t instanceof Promise;var w;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(w||(w={}));class ge{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ws=(t,e)=>{if(at(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ue(t.common.issues);return this._error=n,this._error}}};function I(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:s}}class j{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ae(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new J,ctx:{common:e.parent.common,data:e.data,parsedType:Ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Vt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},i=this._parseSync({data:e,path:s.path,parent:s});return Ws(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ae(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Vt(s)?s:Promise.resolve(s));return Ws(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:h.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new de({schema:this,typeName:R.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Te.create(this,this._def)}nullable(){return Ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return le.create(this,this._def)}promise(){return Qe.create(this,this._def)}or(e){return dt.create([this,e],this._def)}and(e){return ft.create(this,e,this._def)}transform(e){return new de({...I(this._def),schema:this,typeName:R.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gt({...I(this._def),innerType:this,defaultValue:n,typeName:R.ZodDefault})}brand(){return new jr({typeName:R.ZodBranded,type:this,...I(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new $t({...I(this._def),innerType:this,catchValue:n,typeName:R.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Tt.create(this,e)}readonly(){return Wt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fo=/^c[^\s-]{8,}$/i,ho=/^[a-z][a-z0-9]*$/,po=/^[0-9A-HJKMNP-TV-Z]{26}$/,mo=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_o=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,go="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let On;const yo=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,vo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,bo=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ko(t,e){return!!((e==="v4"||!e)&&yo.test(t)||(e==="v6"||!e)&&vo.test(t))}class ce extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==g.string){const i=this._getOrReturnCtx(e);return b(i,{code:h.invalid_type,expected:g.string,received:i.parsedType}),D}const r=new J;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?b(s,{code:h.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&b(s,{code:h.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")_o.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"email",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")On||(On=new RegExp(go,"u")),On.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"emoji",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")mo.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"uuid",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")fo.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")ho.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"cuid2",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")po.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ulid",code:h.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),b(s,{validation:"url",code:h.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"regex",code:h.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),b(s,{code:h.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:h.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),b(s,{code:h.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?bo(i).test(e.data)||(s=this._getOrReturnCtx(e,s),b(s,{code:h.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?ko(e.data,i.version)||(s=this._getOrReturnCtx(e,s),b(s,{validation:"ip",code:h.invalid_string,message:i.message}),r.dirty()):Z.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:h.invalid_string,...w.errToObj(r)})}_addCheck(e){return new ce({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...w.errToObj(e)})}url(e){return this._addCheck({kind:"url",...w.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...w.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...w.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...w.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...w.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...w.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...w.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...w.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...w.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...w.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...w.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...w.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...w.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...w.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...w.errToObj(n)})}nonempty(e){return this.min(1,w.errToObj(e))}trim(){return new ce({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ce({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ce.create=t=>{var e;return new ce({checks:[],typeName:R.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};function To(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Ne extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==g.number){const i=this._getOrReturnCtx(e);return b(i,{code:h.invalid_type,expected:g.number,received:i.parsedType}),D}let r;const s=new J;for(const i of this._def.checks)i.kind==="int"?Z.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:h.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?To(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),b(r,{code:h.not_finite,message:i.message}),s.dirty()):Z.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,w.toString(n))}gt(e,n){return this.setLimit("min",e,!1,w.toString(n))}lte(e,n){return this.setLimit("max",e,!0,w.toString(n))}lt(e,n){return this.setLimit("max",e,!1,w.toString(n))}setLimit(e,n,r,s){return new Ne({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:w.toString(s)}]})}_addCheck(e){return new Ne({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:w.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:w.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:w.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:w.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:w.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ne.create=t=>new Ne({checks:[],typeName:R.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class De extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==g.bigint){const i=this._getOrReturnCtx(e);return b(i,{code:h.invalid_type,expected:g.bigint,received:i.parsedType}),D}let r;const s=new J;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),b(r,{code:h.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Z.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,w.toString(n))}gt(e,n){return this.setLimit("min",e,!1,w.toString(n))}lte(e,n){return this.setLimit("max",e,!0,w.toString(n))}lt(e,n){return this.setLimit("max",e,!1,w.toString(n))}setLimit(e,n,r,s){return new De({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:w.toString(s)}]})}_addCheck(e){return new De({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:w.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:w.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:w.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:w.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:w.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}De.create=t=>{var e;return new De({checks:[],typeName:R.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...I(t)})};class ct extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==g.boolean){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.boolean,received:r.parsedType}),D}return ee(e.data)}}ct.create=t=>new ct({typeName:R.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...I(t)});class Me extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==g.date){const i=this._getOrReturnCtx(e);return b(i,{code:h.invalid_type,expected:g.date,received:i.parsedType}),D}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return b(i,{code:h.invalid_date}),D}const r=new J;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:h.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),b(s,{code:h.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Z.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Me({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:w.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:w.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Me.create=t=>new Me({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:R.ZodDate,...I(t)});class Zt extends j{_parse(e){if(this._getType(e)!==g.symbol){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.symbol,received:r.parsedType}),D}return ee(e.data)}}Zt.create=t=>new Zt({typeName:R.ZodSymbol,...I(t)});class ut extends j{_parse(e){if(this._getType(e)!==g.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.undefined,received:r.parsedType}),D}return ee(e.data)}}ut.create=t=>new ut({typeName:R.ZodUndefined,...I(t)});class lt extends j{_parse(e){if(this._getType(e)!==g.null){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.null,received:r.parsedType}),D}return ee(e.data)}}lt.create=t=>new lt({typeName:R.ZodNull,...I(t)});class Ke extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return ee(e.data)}}Ke.create=t=>new Ke({typeName:R.ZodAny,...I(t)});class Pe extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ee(e.data)}}Pe.create=t=>new Pe({typeName:R.ZodUnknown,...I(t)});class xe extends j{_parse(e){const n=this._getOrReturnCtx(e);return b(n,{code:h.invalid_type,expected:g.never,received:n.parsedType}),D}}xe.create=t=>new xe({typeName:R.ZodNever,...I(t)});class Ht extends j{_parse(e){if(this._getType(e)!==g.undefined){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.void,received:r.parsedType}),D}return ee(e.data)}}Ht.create=t=>new Ht({typeName:R.ZodVoid,...I(t)});class le extends j{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==g.array)return b(n,{code:h.invalid_type,expected:g.array,received:n.parsedType}),D;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(b(n,{code:o?h.too_big:h.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(b(n,{code:h.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(b(n,{code:h.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new ge(n,o,n.path,a)))).then(o=>J.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new ge(n,o,n.path,a)));return J.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new le({...this._def,minLength:{value:e,message:w.toString(n)}})}max(e,n){return new le({...this._def,maxLength:{value:e,message:w.toString(n)}})}length(e,n){return new le({...this._def,exactLength:{value:e,message:w.toString(n)}})}nonempty(e){return this.min(1,e)}}le.create=(t,e)=>new le({type:t,minLength:null,maxLength:null,exactLength:null,typeName:R.ZodArray,...I(e)});function Be(t){if(t instanceof F){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Te.create(Be(r))}return new F({...t._def,shape:()=>e})}else return t instanceof le?new le({...t._def,type:Be(t.element)}):t instanceof Te?Te.create(Be(t.unwrap())):t instanceof Ue?Ue.create(Be(t.unwrap())):t instanceof ye?ye.create(t.items.map(e=>Be(e))):t}class F extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==g.object){const u=this._getOrReturnCtx(e);return b(u,{code:h.invalid_type,expected:g.object,received:u.parsedType}),D}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof xe&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const d=i[u],l=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ge(s,l,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof xe){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")a.length>0&&(b(s,{code:h.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const l=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ge(s,l,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const l=await d.key;u.push({key:l,value:await d.value,alwaysSet:d.alwaysSet})}return u}).then(u=>J.mergeObjectSync(r,u)):J.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return w.errToObj,new F({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=w.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new F({...this._def,unknownKeys:"strip"})}passthrough(){return new F({...this._def,unknownKeys:"passthrough"})}extend(e){return new F({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new F({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:R.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new F({...this._def,catchall:e})}pick(e){const n={};return Z.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new F({...this._def,shape:()=>n})}omit(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new F({...this._def,shape:()=>n})}deepPartial(){return Be(this)}partial(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new F({...this._def,shape:()=>n})}required(e){const n={};return Z.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Te;)i=i._def.innerType;n[r]=i}}),new F({...this._def,shape:()=>n})}keyof(){return Mr(Z.objectKeys(this.shape))}}F.create=(t,e)=>new F({shape:()=>t,unknownKeys:"strip",catchall:xe.create(),typeName:R.ZodObject,...I(e)});F.strictCreate=(t,e)=>new F({shape:()=>t,unknownKeys:"strict",catchall:xe.create(),typeName:R.ZodObject,...I(e)});F.lazycreate=(t,e)=>new F({shape:t,unknownKeys:"strip",catchall:xe.create(),typeName:R.ZodObject,...I(e)});class dt extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new ue(a.ctx.common.issues));return b(n,{code:h.invalid_union,unionErrors:o}),D}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new ue(c));return b(n,{code:h.invalid_union,unionErrors:a}),D}}get options(){return this._def.options}}dt.create=(t,e)=>new dt({options:t,typeName:R.ZodUnion,...I(e)});const Ot=t=>t instanceof pt?Ot(t.schema):t instanceof de?Ot(t.innerType()):t instanceof mt?[t.value]:t instanceof Oe?t.options:t instanceof _t?Object.keys(t.enum):t instanceof gt?Ot(t._def.innerType):t instanceof ut?[void 0]:t instanceof lt?[null]:null;class wn extends j{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==g.object)return b(n,{code:h.invalid_type,expected:g.object,received:n.parsedType}),D;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(b(n,{code:h.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),D)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Ot(i.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new wn({typeName:R.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...I(r)})}}function Qn(t,e){const n=Ae(t),r=Ae(e);if(t===e)return{valid:!0,data:t};if(n===g.object&&r===g.object){const s=Z.objectKeys(e),i=Z.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const c=Qn(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===g.array&&r===g.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],c=Qn(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===g.date&&r===g.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ft extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(qn(i)||qn(o))return D;const a=Qn(i.value,o.value);return a.valid?((Kn(i)||Kn(o))&&n.dirty(),{status:n.value,value:a.data}):(b(r,{code:h.invalid_intersection_types}),D)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ft.create=(t,e,n)=>new ft({left:t,right:e,typeName:R.ZodIntersection,...I(n)});class ye extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.array)return b(r,{code:h.invalid_type,expected:g.array,received:r.parsedType}),D;if(r.data.length<this._def.items.length)return b(r,{code:h.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),D;!this._def.rest&&r.data.length>this._def.items.length&&(b(r,{code:h.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new ge(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>J.mergeArray(n,o)):J.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ye({...this._def,rest:e})}}ye.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ye({items:t,typeName:R.ZodTuple,rest:null,...I(e)})};class ht extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.object)return b(r,{code:h.invalid_type,expected:g.object,received:r.parsedType}),D;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new ge(r,a,r.path,a)),value:o._parse(new ge(r,r.data[a],r.path,a))});return r.common.async?J.mergeObjectAsync(n,s):J.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof j?new ht({keyType:e,valueType:n,typeName:R.ZodRecord,...I(r)}):new ht({keyType:ce.create(),valueType:e,typeName:R.ZodRecord,...I(n)})}}class Bt extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.map)return b(r,{code:h.invalid_type,expected:g.map,received:r.parsedType}),D;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:s._parse(new ge(r,a,r.path,[u,"key"])),value:i._parse(new ge(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return D;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return D;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}Bt.create=(t,e,n)=>new Bt({valueType:e,keyType:t,typeName:R.ZodMap,...I(n)});class je extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.set)return b(r,{code:h.invalid_type,expected:g.set,received:r.parsedType}),D;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(b(r,{code:h.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(b(r,{code:h.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return D;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>i._parse(new ge(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new je({...this._def,minSize:{value:e,message:w.toString(n)}})}max(e,n){return new je({...this._def,maxSize:{value:e,message:w.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}je.create=(t,e)=>new je({valueType:t,minSize:null,maxSize:null,typeName:R.ZodSet,...I(e)});class ze extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==g.function)return b(n,{code:h.invalid_type,expected:g.function,received:n.parsedType}),D;function r(a,c){return Ut({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,jt(),ot].filter(u=>!!u),issueData:{code:h.invalid_arguments,argumentsError:c}})}function s(a,c){return Ut({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,jt(),ot].filter(u=>!!u),issueData:{code:h.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Qe){const a=this;return ee(async function(...c){const u=new ue([]),d=await a._def.args.parseAsync(c,i).catch(_=>{throw u.addIssue(r(c,_)),u}),l=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(l,i).catch(_=>{throw u.addIssue(s(l,_)),u})})}else{const a=this;return ee(function(...c){const u=a._def.args.safeParse(c,i);if(!u.success)throw new ue([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),l=a._def.returns.safeParse(d,i);if(!l.success)throw new ue([s(d,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ze({...this._def,args:ye.create(e).rest(Pe.create())})}returns(e){return new ze({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new ze({args:e||ye.create([]).rest(Pe.create()),returns:n||Pe.create(),typeName:R.ZodFunction,...I(r)})}}class pt extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pt.create=(t,e)=>new pt({getter:t,typeName:R.ZodLazy,...I(e)});class mt extends j{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return b(n,{received:n.data,code:h.invalid_literal,expected:this._def.value}),D}return{status:"valid",value:e.data}}get value(){return this._def.value}}mt.create=(t,e)=>new mt({value:t,typeName:R.ZodLiteral,...I(e)});function Mr(t,e){return new Oe({values:t,typeName:R.ZodEnum,...I(e)})}class Oe extends j{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{expected:Z.joinValues(r),received:n.parsedType,code:h.invalid_type}),D}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return b(n,{received:n.data,code:h.invalid_enum_value,options:r}),D}return ee(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Oe.create(e)}exclude(e){return Oe.create(this.options.filter(n=>!e.includes(n)))}}Oe.create=Mr;class _t extends j{_parse(e){const n=Z.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==g.string&&r.parsedType!==g.number){const s=Z.objectValues(n);return b(r,{expected:Z.joinValues(s),received:r.parsedType,code:h.invalid_type}),D}if(n.indexOf(e.data)===-1){const s=Z.objectValues(n);return b(r,{received:r.data,code:h.invalid_enum_value,options:s}),D}return ee(e.data)}get enum(){return this._def.values}}_t.create=(t,e)=>new _t({values:t,typeName:R.ZodNativeEnum,...I(e)});class Qe extends j{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==g.promise&&n.common.async===!1)return b(n,{code:h.invalid_type,expected:g.promise,received:n.parsedType}),D;const r=n.parsedType===g.promise?n.data:Promise.resolve(n.data);return ee(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qe.create=(t,e)=>new Qe({type:t,typeName:R.ZodPromise,...I(e)});class de extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{b(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?D:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?D:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!at(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>at(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);Z.assertNever(s)}}de.create=(t,e,n)=>new de({schema:t,typeName:R.ZodEffects,effect:e,...I(n)});de.createWithPreprocess=(t,e,n)=>new de({schema:e,effect:{type:"preprocess",transform:t},typeName:R.ZodEffects,...I(n)});class Te extends j{_parse(e){return this._getType(e)===g.undefined?ee(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(t,e)=>new Te({innerType:t,typeName:R.ZodOptional,...I(e)});class Ue extends j{_parse(e){return this._getType(e)===g.null?ee(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ue.create=(t,e)=>new Ue({innerType:t,typeName:R.ZodNullable,...I(e)});class gt extends j{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===g.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gt.create=(t,e)=>new gt({innerType:t,typeName:R.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...I(e)});class $t extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Vt(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ue(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ue(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:R.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...I(e)});class zt extends j{_parse(e){if(this._getType(e)!==g.nan){const r=this._getOrReturnCtx(e);return b(r,{code:h.invalid_type,expected:g.nan,received:r.parsedType}),D}return{status:"valid",value:e.data}}}zt.create=t=>new zt({typeName:R.ZodNaN,...I(t)});const Eo=Symbol("zod_brand");class jr extends j{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tt extends j{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?D:i.status==="dirty"?(n.dirty(),Pr(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?D:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new Tt({in:e,out:n,typeName:R.ZodPipeline})}}class Wt extends j{_parse(e){const n=this._def.innerType._parse(e);return at(n)&&(n.value=Object.freeze(n.value)),n}}Wt.create=(t,e)=>new Wt({innerType:t,typeName:R.ZodReadonly,...I(e)});const Ur=(t,e={},n)=>t?Ke.create().superRefine((r,s)=>{var i,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(i=a.fatal)!==null&&i!==void 0?i:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;s.addIssue({code:"custom",...u,fatal:c})}}):Ke.create(),xo={object:F.lazycreate};var R;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(R||(R={}));const So=(t,e={message:`Input not instance of ${t.name}`})=>Ur(n=>n instanceof t,e),Vr=ce.create,Zr=Ne.create,wo=zt.create,Ao=De.create,Hr=ct.create,Co=Me.create,Ro=Zt.create,No=ut.create,Do=lt.create,Oo=Ke.create,Io=Pe.create,Lo=xe.create,Po=Ht.create,Mo=le.create,jo=F.create,Uo=F.strictCreate,Vo=dt.create,Zo=wn.create,Ho=ft.create,Bo=ye.create,$o=ht.create,zo=Bt.create,Wo=je.create,Fo=ze.create,qo=pt.create,Ko=mt.create,Qo=Oe.create,Jo=_t.create,Go=Qe.create,Fs=de.create,Yo=Te.create,Xo=Ue.create,ea=de.createWithPreprocess,ta=Tt.create,na=()=>Vr().optional(),sa=()=>Zr().optional(),ra=()=>Hr().optional(),ia={string:t=>ce.create({...t,coerce:!0}),number:t=>Ne.create({...t,coerce:!0}),boolean:t=>ct.create({...t,coerce:!0}),bigint:t=>De.create({...t,coerce:!0}),date:t=>Me.create({...t,coerce:!0})},oa=D;var te=Object.freeze({__proto__:null,defaultErrorMap:ot,setErrorMap:uo,getErrorMap:jt,makeIssue:Ut,EMPTY_PATH:lo,addIssueToContext:b,ParseStatus:J,INVALID:D,DIRTY:Pr,OK:ee,isAborted:qn,isDirty:Kn,isValid:at,isAsync:Vt,get util(){return Z},get objectUtil(){return Fn},ZodParsedType:g,getParsedType:Ae,ZodType:j,ZodString:ce,ZodNumber:Ne,ZodBigInt:De,ZodBoolean:ct,ZodDate:Me,ZodSymbol:Zt,ZodUndefined:ut,ZodNull:lt,ZodAny:Ke,ZodUnknown:Pe,ZodNever:xe,ZodVoid:Ht,ZodArray:le,ZodObject:F,ZodUnion:dt,ZodDiscriminatedUnion:wn,ZodIntersection:ft,ZodTuple:ye,ZodRecord:ht,ZodMap:Bt,ZodSet:je,ZodFunction:ze,ZodLazy:pt,ZodLiteral:mt,ZodEnum:Oe,ZodNativeEnum:_t,ZodPromise:Qe,ZodEffects:de,ZodTransformer:de,ZodOptional:Te,ZodNullable:Ue,ZodDefault:gt,ZodCatch:$t,ZodNaN:zt,BRAND:Eo,ZodBranded:jr,ZodPipeline:Tt,ZodReadonly:Wt,custom:Ur,Schema:j,ZodSchema:j,late:xo,get ZodFirstPartyTypeKind(){return R},coerce:ia,any:Oo,array:Mo,bigint:Ao,boolean:Hr,date:Co,discriminatedUnion:Zo,effect:Fs,enum:Qo,function:Fo,instanceof:So,intersection:Ho,lazy:qo,literal:Ko,map:zo,nan:wo,nativeEnum:Jo,never:Lo,null:Do,nullable:Xo,number:Zr,object:jo,oboolean:ra,onumber:sa,optional:Yo,ostring:na,pipeline:ta,preprocess:ea,promise:Go,record:$o,set:Wo,strictObject:Uo,string:Vr,symbol:Ro,transformer:Fs,tuple:Bo,undefined:No,union:Vo,unknown:Io,void:Po,NEVER:oa,ZodIssueCode:h,quotelessJson:co,ZodError:ue});const An=t=>fetch(`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(t)}`),aa=te.object({code:te.literal("NotFound")}),qs=async t=>{const e=await(await An(`https://api.scratch.mit.edu/studios/${t}`)).json(),n=aa.safeParse(e);return console.log(n.success),!n.success};var ca=0;function v(t,e,n,r,s,i){var o,a,c={};for(a in e)a=="ref"?o=e[a]:c[a]=e[a];var u={type:t,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ca,__i:-1,__u:0,__source:s,__self:i};if(typeof t=="function"&&(o=t.defaultProps))for(a in o)c[a]===void 0&&(c[a]=o[a]);return E.vnode&&E.vnode(u),u}function ua(){const[t,e]=re(fs),n=()=>{const r=[...t];r.push(1234),e(r)};return v("div",{class:"flex flex-col items-end gap-2",children:[v("h2",{class:"text-xl font-bold",children:["Studios: ",t.length]}),t.length>0?v("ul",{class:"contents",children:t.map((r,s)=>v("li",{class:"flex w-full",children:v(la,{studio:r,index:s})},s))}):null,v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:n,children:"New"})]})}function la({studio:t,index:e}){const[n,r]=re(fs),[s,i]=ae(!1),o=kt(null);_e(()=>{(async()=>o.current&&(await qs(Number(o.current.value))||i(!0)))()});const a=async()=>{if(!o.current)return;const u=o.current.value,d=Number(u);u.toString()!==u&&(o.current.value=n[e].toString()),await qs(d)||i(!0),r([...n.slice(0,e),d,...n.slice(e+1)]),s&&i(!1)},c=()=>{r([...n.slice(0,e),...n.slice(e+1)])};return v("div",{class:"w-full",children:v("div",{class:"flex w-full justify-between",children:[v("input",{class:`w-32 rounded-xl bg-stone-300 px-2 py-1 dark:bg-stone-700 ${s?"ring ring-red-400 focus-visible:outline-red-700":""}`,type:"number",value:t,onChange:u=>a(),ref:o}),v("button",{onClick:()=>c(),type:"button",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Delete"})]})})}const da="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",fa="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Je=(t,e)=>{for(const n in e)t[n]=e[n];return t},Jn="numeric",Gn="ascii",Yn="alpha",It="asciinumeric",St="alphanumeric",Xn="domain",Br="emoji",ha="scheme",pa="slashscheme",Ks="whitespace";function ma(t,e){return t in e||(e[t]=[]),e[t]}function Le(t,e,n){e[Jn]&&(e[It]=!0,e[St]=!0),e[Gn]&&(e[It]=!0,e[Yn]=!0),e[It]&&(e[St]=!0),e[Yn]&&(e[St]=!0),e[St]&&(e[Xn]=!0),e[Br]&&(e[Xn]=!0);for(const r in e){const s=ma(r,n);s.indexOf(t)<0&&s.push(t)}}function _a(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function se(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}se.groups={};se.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||se.groups;let s;return e&&e.j?s=e:(s=new se(e),n&&r&&Le(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||se.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,a=s.go(t);if(a?(o=new se,Je(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new se,i){if(r)if(o.t&&typeof o.t=="string"){const c=Je(_a(o.t,r),n);Le(i,c,r)}else n&&Le(i,n,r);o.t=i}return s.j[t]=o,o}};const M=(t,e,n,r,s)=>t.ta(e,n,r,s),ie=(t,e,n,r,s)=>t.tr(e,n,r,s),Qs=(t,e,n,r,s)=>t.ts(e,n,r,s),p=(t,e,n,r,s)=>t.tt(e,n,r,s),ve="WORD",es="UWORD",yt="LOCALHOST",ts="TLD",ns="UTLD",Lt="SCHEME",$e="SLASH_SCHEME",hs="NUM",$r="WS",ps="NL",nt="OPENBRACE",st="CLOSEBRACE",Ft="OPENBRACKET",qt="CLOSEBRACKET",Kt="OPENPAREN",Qt="CLOSEPAREN",Jt="OPENANGLEBRACKET",Gt="CLOSEANGLEBRACKET",Yt="FULLWIDTHLEFTPAREN",Xt="FULLWIDTHRIGHTPAREN",en="LEFTCORNERBRACKET",tn="RIGHTCORNERBRACKET",nn="LEFTWHITECORNERBRACKET",sn="RIGHTWHITECORNERBRACKET",rn="FULLWIDTHLESSTHAN",on="FULLWIDTHGREATERTHAN",an="AMPERSAND",cn="APOSTROPHE",un="ASTERISK",we="AT",ln="BACKSLASH",dn="BACKTICK",fn="CARET",Ce="COLON",ms="COMMA",hn="DOLLAR",fe="DOT",pn="EQUALS",_s="EXCLAMATION",he="HYPHEN",mn="PERCENT",_n="PIPE",gn="PLUS",yn="POUND",vn="QUERY",gs="QUOTE",ys="SEMI",pe="SLASH",rt="TILDE",bn="UNDERSCORE",zr="EMOJI",kn="SYM";var Wr=Object.freeze({__proto__:null,WORD:ve,UWORD:es,LOCALHOST:yt,TLD:ts,UTLD:ns,SCHEME:Lt,SLASH_SCHEME:$e,NUM:hs,WS:$r,NL:ps,OPENBRACE:nt,CLOSEBRACE:st,OPENBRACKET:Ft,CLOSEBRACKET:qt,OPENPAREN:Kt,CLOSEPAREN:Qt,OPENANGLEBRACKET:Jt,CLOSEANGLEBRACKET:Gt,FULLWIDTHLEFTPAREN:Yt,FULLWIDTHRIGHTPAREN:Xt,LEFTCORNERBRACKET:en,RIGHTCORNERBRACKET:tn,LEFTWHITECORNERBRACKET:nn,RIGHTWHITECORNERBRACKET:sn,FULLWIDTHLESSTHAN:rn,FULLWIDTHGREATERTHAN:on,AMPERSAND:an,APOSTROPHE:cn,ASTERISK:un,AT:we,BACKSLASH:ln,BACKTICK:dn,CARET:fn,COLON:Ce,COMMA:ms,DOLLAR:hn,DOT:fe,EQUALS:pn,EXCLAMATION:_s,HYPHEN:he,PERCENT:mn,PIPE:_n,PLUS:gn,POUND:yn,QUERY:vn,QUOTE:gs,SEMI:ys,SLASH:pe,TILDE:rt,UNDERSCORE:bn,EMOJI:zr,SYM:kn});const Ze=/[a-z]/,In=/\p{L}/u,Ln=/\p{Emoji}/u,Pn=/\d/,Js=/\s/,Gs=`
`,ga="",ya="";let wt=null,At=null;function va(t){t===void 0&&(t=[]);const e={};se.groups=e;const n=new se;wt==null&&(wt=Ys(da)),At==null&&(At=Ys(fa)),p(n,"'",cn),p(n,"{",nt),p(n,"}",st),p(n,"[",Ft),p(n,"]",qt),p(n,"(",Kt),p(n,")",Qt),p(n,"<",Jt),p(n,">",Gt),p(n,"",Yt),p(n,"",Xt),p(n,"",en),p(n,"",tn),p(n,"",nn),p(n,"",sn),p(n,"",rn),p(n,"",on),p(n,"&",an),p(n,"*",un),p(n,"@",we),p(n,"`",dn),p(n,"^",fn),p(n,":",Ce),p(n,",",ms),p(n,"$",hn),p(n,".",fe),p(n,"=",pn),p(n,"!",_s),p(n,"-",he),p(n,"%",mn),p(n,"|",_n),p(n,"+",gn),p(n,"#",yn),p(n,"?",vn),p(n,'"',gs),p(n,"/",pe),p(n,";",ys),p(n,"~",rt),p(n,"_",bn),p(n,"\\",ln);const r=ie(n,Pn,hs,{[Jn]:!0});ie(r,Pn,r);const s=ie(n,Ze,ve,{[Gn]:!0});ie(s,Ze,s);const i=ie(n,In,es,{[Yn]:!0});ie(i,Ze),ie(i,In,i);const o=ie(n,Js,$r,{[Ks]:!0});p(n,Gs,ps,{[Ks]:!0}),p(o,Gs),ie(o,Js,o);const a=ie(n,Ln,zr,{[Br]:!0});ie(a,Ln,a),p(a,ga,a);const c=p(a,ya);ie(c,Ln,a);const u=[[Ze,s]],d=[[Ze,null],[In,i]];for(let l=0;l<wt.length;l++)Se(n,wt[l],ts,ve,u);for(let l=0;l<At.length;l++)Se(n,At[l],ns,es,d);Le(ts,{tld:!0,ascii:!0},e),Le(ns,{utld:!0,alpha:!0},e),Se(n,"file",Lt,ve,u),Se(n,"mailto",Lt,ve,u),Se(n,"http",$e,ve,u),Se(n,"https",$e,ve,u),Se(n,"ftp",$e,ve,u),Se(n,"ftps",$e,ve,u),Le(Lt,{scheme:!0,ascii:!0},e),Le($e,{slashscheme:!0,ascii:!0},e),t=t.sort((l,T)=>l[0]>T[0]?1:-1);for(let l=0;l<t.length;l++){const T=t[l][0],N=t[l][1]?{[ha]:!0}:{[pa]:!0};T.indexOf("-")>=0?N[Xn]=!0:Ze.test(T)?Pn.test(T)?N[It]=!0:N[Gn]=!0:N[Jn]=!0,Qs(n,T,T,N)}return Qs(n,"localhost",yt,{ascii:!0}),n.jd=new se(kn),{start:n,tokens:Je({groups:e},Wr)}}function ba(t,e){const n=ka(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,s=[];let i=0,o=0;for(;o<r;){let a=t,c=null,u=0,d=null,l=-1,T=-1;for(;o<r&&(c=a.go(n[o]));)a=c,a.accepts()?(l=0,T=0,d=a):l>=0&&(l+=n[o].length,T++),u+=n[o].length,i+=n[o].length,o++;i-=l,o-=T,u-=l,s.push({t:d.t,v:e.slice(i-u,i),s:i-u,e:i})}return s}function ka(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,o=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Se(t,e,n,r,s){let i;const o=e.length;for(let a=0;a<o-1;a++){const c=e[a];t.j[c]?i=t.j[c]:(i=new se(r),i.jr=s.slice(),t.j[c]=i),t=i}return i=new se(n),i.jr=s.slice(),t.j[e[o-1]]=i,i}function Ys(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+i),10);o>0;o--)n.pop();r+=i}else n.push(t[r]),r++}return e}const vt={defaultProtocol:"http",events:null,format:Xs,formatHref:Xs,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function vs(t,e){e===void 0&&(e=null);let n=Je({},vt);t&&(n=Je(n,t instanceof vs?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}vs.prototype={o:vt,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:vt[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Xs(t){return t}function Fr(t,e){this.t="token",this.v=t,this.tk=e}Fr.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=vt.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),o={},a=t.get("className",n,e),c=t.get("target",n,e),u=t.get("rel",n,e),d=t.getObj("attributes",n,e),l=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),c&&(o.target=c),u&&(o.rel=u),d&&Je(o,d),{tagName:s,attributes:o,content:i,eventListeners:l}}};function Cn(t,e){class n extends Fr{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const er=Cn("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),tr=Cn("text"),Ta=Cn("nl"),Ct=Cn("url",{isLink:!0,toHref(t){return t===void 0&&(t=vt.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==yt&&t[1].t===Ce}}),oe=t=>new se(t);function Ea(t){let{groups:e}=t;const n=e.domain.concat([an,un,we,ln,dn,fn,hn,pn,he,hs,mn,_n,gn,yn,pe,kn,rt,bn]),r=[cn,Ce,ms,fe,_s,vn,gs,ys,Jt,Gt,nt,st,qt,Ft,Kt,Qt,Yt,Xt,en,tn,nn,sn,rn,on],s=[an,cn,un,ln,dn,fn,hn,pn,he,nt,st,mn,_n,gn,yn,vn,pe,kn,rt,bn],i=oe(),o=p(i,rt);M(o,s,o),M(o,e.domain,o);const a=oe(),c=oe(),u=oe();M(i,e.domain,a),M(i,e.scheme,c),M(i,e.slashscheme,u),M(a,s,o),M(a,e.domain,a);const d=p(a,we);p(o,we,d),p(c,we,d),p(u,we,d);const l=p(o,fe);M(l,s,o),M(l,e.domain,o);const T=oe();M(d,e.domain,T),M(T,e.domain,T);const _=p(T,fe);M(_,e.domain,T);const N=oe(er);M(_,e.tld,N),M(_,e.utld,N),p(d,yt,N);const q=p(T,he);M(q,e.domain,T),M(N,e.domain,T),p(N,fe,_),p(N,he,q);const P=p(N,Ce);M(P,e.numeric,er);const U=p(a,he),V=p(a,fe);M(U,e.domain,a),M(V,s,o),M(V,e.domain,a);const H=oe(Ct);M(V,e.tld,H),M(V,e.utld,H),M(H,e.domain,a),M(H,s,o),p(H,fe,V),p(H,he,U),p(H,we,d);const G=p(H,Ce),W=oe(Ct);M(G,e.numeric,W);const $=oe(Ct),ne=oe();M($,n,$),M($,r,ne),M(ne,n,$),M(ne,r,ne),p(H,pe,$),p(W,pe,$);const f=p(c,Ce),m=p(u,Ce),x=p(m,pe),y=p(x,pe);M(c,e.domain,a),p(c,fe,V),p(c,he,U),M(u,e.domain,a),p(u,fe,V),p(u,he,U),M(f,e.domain,$),p(f,pe,$),M(y,e.domain,$),M(y,n,$),p(y,pe,$);const S=[[nt,st],[Ft,qt],[Kt,Qt],[Jt,Gt],[Yt,Xt],[en,tn],[nn,sn],[rn,on]];for(let C=0;C<S.length;C++){const[k,A]=S[C],B=p($,k);p(ne,k,B),p(B,A,$);const L=oe(Ct);M(B,n,L);const O=oe();M(B,r),M(L,n,L),M(L,r,O),M(O,n,L),M(O,r,O),p(L,A,$),p(O,A,$)}return p(i,yt,H),p(i,ps,Ta),{start:i,tokens:Wr}}function xa(t,e,n){let r=n.length,s=0,i=[],o=[];for(;s<r;){let a=t,c=null,u=null,d=0,l=null,T=-1;for(;s<r&&!(c=a.go(n[s].t));)o.push(n[s++]);for(;s<r&&(u=c||a.go(n[s].t));)c=null,a=u,a.accepts()?(T=0,l=a):T>=0&&T++,s++,d++;if(T<0)s-=d,s<r&&(o.push(n[s]),s++);else{o.length>0&&(i.push(Mn(tr,e,o)),o=[]),s-=T,d-=T;const _=l.t,N=n.slice(s-d,s);i.push(Mn(_,e,N))}}return o.length>0&&i.push(Mn(tr,e,o)),i}function Mn(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const Y={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Sa(){Y.scanner=va(Y.customSchemes);for(let t=0;t<Y.tokenQueue.length;t++)Y.tokenQueue[t][1]({scanner:Y.scanner});Y.parser=Ea(Y.scanner.tokens);for(let t=0;t<Y.pluginQueue.length;t++)Y.pluginQueue[t][1]({scanner:Y.scanner,parser:Y.parser});Y.initialized=!0}function wa(t){return Y.initialized||Sa(),xa(Y.parser.start,t,ba(Y.scanner.start,t))}var Aa={amp:"&",gt:">",lt:"<",nbsp:"",quot:'"'},Ca=/^#[xX]([A-Fa-f0-9]+)$/,Ra=/^#([0-9]+)$/,Na=/^([A-Za-z0-9]+)$/,Da=function(){function t(e){this.named=e}return t.prototype.parse=function(e){if(e){var n=e.match(Ca);if(n)return String.fromCharCode(parseInt(n[1],16));if(n=e.match(Ra),n)return String.fromCharCode(parseInt(n[1],10));if(n=e.match(Na),n)return this.named[n[1]]||"&"+n[1]+";"}},t}(),Oa=/[\t\n\f ]/,Ia=/[A-Za-z]/,La=/\r\n?/g;function Q(t){return Oa.test(t)}function nr(t){return Ia.test(t)}function Pa(t){return t.replace(La,`
`)}var Ma=function(){function t(e,n,r){r===void 0&&(r="precompile"),this.delegate=e,this.entityParser=n,this.mode=r,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var s=this.peek();if(s==="<"&&!this.isIgnoredEndTag())this.transitionTo("tagOpen"),this.markTagStart(),this.consume();else{if(this.mode==="precompile"&&s===`
`){var i=this.tagNameBuffer.toLowerCase();(i==="pre"||i==="textarea")&&this.consume()}this.transitionTo("data"),this.delegate.beginData()}},data:function(){var s=this.peek(),i=this.tagNameBuffer;s==="<"&&!this.isIgnoredEndTag()?(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume()):s==="&"&&i!=="script"&&i!=="style"?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(s))},tagOpen:function(){var s=this.consume();s==="!"?this.transitionTo("markupDeclarationOpen"):s==="/"?this.transitionTo("endTagOpen"):(s==="@"||s===":"||nr(s))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(s))},markupDeclarationOpen:function(){var s=this.consume();if(s==="-"&&this.peek()==="-")this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment();else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase();i==="DOCTYPE"&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())}},doctype:function(){var s=this.consume();Q(s)&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var s=this.consume();Q(s)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase()))},doctypeName:function(){var s=this.consume();Q(s)?this.transitionTo("afterDoctypeName"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(s.toLowerCase())},afterDoctypeName:function(){var s=this.consume();if(!Q(s))if(s===">")this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var i=s.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),o=i.toUpperCase()==="PUBLIC",a=i.toUpperCase()==="SYSTEM";(o||a)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),o?this.transitionTo("afterDoctypePublicKeyword"):a&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var s=this.peek();Q(s)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):s==='"'?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):s==="'"?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):s===">"&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},doctypePublicIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypePublicIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(s)},afterDoctypePublicIdentifier:function(){var s=this.consume();Q(s)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var s=this.consume();Q(s)||(s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):s==='"'?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):s==="'"&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var s=this.consume();s==='"'?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},doctypeSystemIdentifierSingleQuoted:function(){var s=this.consume();s==="'"?this.transitionTo("afterDoctypeSystemIdentifier"):s===">"?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(s)},afterDoctypeSystemIdentifier:function(){var s=this.consume();Q(s)||s===">"&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var s=this.consume();s==="-"?this.transitionTo("commentStartDash"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(s),this.transitionTo("comment"))},commentStartDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var s=this.consume();s==="-"?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(s)},commentEndDash:function(){var s=this.consume();s==="-"?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+s),this.transitionTo("comment"))},commentEnd:function(){var s=this.consume();s===">"?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+s),this.transitionTo("comment"))},tagName:function(){var s=this.consume();Q(s)?this.transitionTo("beforeAttributeName"):s==="/"?this.transitionTo("selfClosingStartTag"):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(s)},endTagName:function(){var s=this.consume();Q(s)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):s==="/"?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):s===">"?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(s)},beforeAttributeName:function(){var s=this.peek();if(Q(s)){this.consume();return}else s==="/"?(this.transitionTo("selfClosingStartTag"),this.consume()):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==="="?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var s=this.peek();Q(s)?(this.transitionTo("afterAttributeName"),this.consume()):s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.transitionTo("beforeAttributeValue"),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):s==='"'||s==="'"||s==="<"?(this.delegate.reportSyntaxError(s+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(s)):(this.consume(),this.delegate.appendToAttributeName(s))},afterAttributeName:function(){var s=this.peek();if(Q(s)){this.consume();return}else s==="/"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="="?(this.consume(),this.transitionTo("beforeAttributeValue")):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(s))},beforeAttributeValue:function(){var s=this.peek();Q(s)?this.consume():s==='"'?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s==="'"?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):s===">"?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(s))},attributeValueDoubleQuoted:function(){var s=this.consume();s==='"'?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueSingleQuoted:function(){var s=this.consume();s==="'"?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):s==="&"?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(s)},attributeValueUnquoted:function(){var s=this.peek();Q(s)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):s==="&"?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):s===">"?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(s))},afterAttributeValueQuoted:function(){var s=this.peek();Q(s)?(this.consume(),this.transitionTo("beforeAttributeName")):s==="/"?(this.consume(),this.transitionTo("selfClosingStartTag")):s===">"?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){var s=this.peek();s===">"?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var s=this.consume();(s==="@"||s===":"||nr(s))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(s))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(e){this.state=e},t.prototype.tokenize=function(e){this.reset(),this.tokenizePart(e),this.tokenizeEOF()},t.prototype.tokenizePart=function(e){for(this.input+=Pa(e);this.index<this.input.length;){var n=this.states[this.state];if(n!==void 0)n.call(this);else throw new Error("unhandled state "+this.state)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){this.state==="data"&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var e=this.peek();return this.index++,e===`
`?(this.line++,this.column=0):this.column++,e},t.prototype.consumeCharRef=function(){var e=this.input.indexOf(";",this.index);if(e!==-1){var n=this.input.slice(this.index,e),r=this.entityParser.parse(n);if(r){for(var s=n.length;s;)this.consume(),s--;return this.consume(),r}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(e){this.tagNameBuffer+=e,this.delegate.appendToTagName(e)},t.prototype.isIgnoredEndTag=function(){var e=this.tagNameBuffer;return e==="title"&&this.input.substring(this.index,this.index+8)!=="</title>"||e==="style"&&this.input.substring(this.index,this.index+8)!=="</style>"||e==="script"&&this.input.substring(this.index,this.index+9)!=="<\/script>"},t}(),ja=function(){function t(e,n){n===void 0&&(n={}),this.options=n,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new Ma(this,e,n.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(e){return this.tokens=[],this.tokenizer.tokenize(e),this.tokens},t.prototype.tokenizePart=function(e){return this.tokens=[],this.tokenizer.tokenizePart(e),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var e=this.token;if(e===null)throw new Error("token was unexpectedly null");if(arguments.length===0)return e;for(var n=0;n<arguments.length;n++)if(e.type===arguments[n])return e;throw new Error("token type was unexpectedly "+e.type)},t.prototype.push=function(e){this.token=e,this.tokens.push(e)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(e){this.current("Doctype").name+=e},t.prototype.appendToDoctypePublicIdentifier=function(e){var n=this.current("Doctype");n.publicIdentifier===void 0?n.publicIdentifier=e:n.publicIdentifier+=e},t.prototype.appendToDoctypeSystemIdentifier=function(e){var n=this.current("Doctype");n.systemIdentifier===void 0?n.systemIdentifier=e:n.systemIdentifier+=e},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(e){this.current("Chars").chars+=e},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(e){this.current("Comment").chars+=e},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(e){this.current("StartTag","EndTag").tagName+=e},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(e){this.currentAttribute()[0]+=e},t.prototype.beginAttributeValue=function(e){this.currentAttribute()[2]=e},t.prototype.appendToAttributeValue=function(e){this.currentAttribute()[1]+=e},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(e){this.current().syntaxError=e},t}();function Ua(t,e){var n=new ja(new Da(Aa),e);return n.tokenize(t)}const qr="LinkifyResult",Tn="StartTag",Kr="EndTag",ss="Chars",Va="Comment",Za="Doctype";function Ha(t,e){e===void 0&&(e={});const n=Ua(t),r=[],s=[],i=new vs(e,za);for(let o=0;o<n.length;o++){const a=n[o];if(a.type===Tn){r.push(a);const c=a.tagName.toUpperCase();if(!(c==="A"||i.ignoreTags.indexOf(c)>=0))continue;let d=r.length;$a(c,n,++o,r),o+=r.length-d-1}else if(a.type!==ss)r.push(a);else{const c=Ba(a.chars,i);r.push.apply(r,c)}}for(let o=0;o<r.length;o++){const a=r[o];switch(a.type){case qr:s.push(a.rendered);break;case Tn:{let c="<"+a.tagName;a.attributes.length>0&&(c+=" "+Fa(a.attributes).join(" ")),a.selfClosing&&(c+=" /"),c+=">",s.push(c);break}case Kr:s.push(`</${a.tagName}>`);break;case ss:s.push(rs(a.chars));break;case Va:s.push(`<!--${rs(a.chars)}-->`);break;case Za:{let c=`<!DOCTYPE ${a.name}`;a.publicIdentifier&&(c+=` PUBLIC "${a.publicIdentifier}"`),a.systemIdentifier&&(c+=` "${a.systemIdentifier}"`),c+=">",s.push(c);break}}}return s.join("")}function Ba(t,e){const n=wa(t),r=[];for(let s=0;s<n.length;s++){const i=n[s];i.t==="nl"&&e.get("nl2br")?r.push({type:Tn,tagName:"br",attributes:[],selfClosing:!0}):!i.isLink||!e.check(i)?r.push({type:ss,chars:i.toString()}):r.push({type:qr,rendered:e.render(i)})}return r}function $a(t,e,n,r){let s=1;for(;n<e.length&&s>0;){let i=e[n];i.type===Tn&&i.tagName.toUpperCase()===t?s++:i.type===Kr&&i.tagName.toUpperCase()===t&&s--,r.push(i),n++}return r}function za(t){let{tagName:e,attributes:n,content:r}=t;return`<${e} ${Wa(n)}>${rs(r)}</${e}>`}function rs(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qr(t){return t.replace(/"/g,"&quot;")}function Wa(t){const e=[];for(const n in t){const r=t[n]+"";e.push(`${n}="${Qr(r)}"`)}return e.join(" ")}function Fa(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n][0],s=t[n][1]+"";e.push(`${r}="${Qr(s)}"`)}return e}const Jr=te.object({id:te.number(),content:te.string(),datetime_created:te.string().datetime(),author:te.object({id:te.number(),username:te.string(),scratchteam:te.boolean(),image:te.string().url()}),reply_count:te.number()}),sr=async(t,e=0)=>{const n=await Promise.all([...new Set(t)].map(async s=>{const i=await(await An(`https://api.scratch.mit.edu/studios/${s}/comments?limit=40&offset=${40*e}`)).json(),o=Jr.array().safeParse(i);return o.success?o.data.map(a=>({...a,studio:s})):[]}));let r=[];return r=r.concat(...n).sort((s,i)=>{const o=new Date(s.datetime_created).getTime(),a=new Date(i.datetime_created).getTime();return o<a?1:o>a?-1:0}),r},qa=async(t,e)=>{const n=await(await An(`https://api.scratch.mit.edu/studios/${t}/comments/${e}/replies`)).json();return Jr.array().parse(n).map(s=>({...s,studio:t}))},Ka={meow:"",gobo:"[gobo]",cat:"","aww-cat":"","cool-cat":"","tongue-out-cat":"","wink-cat":"","lol-cat":"","upside-down-cat":"","huh-cat":"","love-it-cat":"","fav-it-cat":"[star cat]","rainbow-cat":"[rainbow cat]","pizza-cat":"[pizza cat]","10mil":"",waffle:"",taco:"",sushi:"",apple:"",broccoli:"",pizza:"",candycorn:"",map:"",camera:"",suitcase:"",compass:"",binoculars:"[binoculars]",cupcake:"",pride:"",blm:""},Qa=t=>(Object.entries(Ka).forEach(([e,n])=>{t=t.replace(new RegExp(`<img src="/images/emoji/${e}.png" class="emoji" alt="(.*?)">`,"g"),n)}),t.replace(/<img src="\/images\/emoji\/meow.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/gobo.png" class="emoji" alt="(.*?)">/,"[gobo]").replace(/<img src="\/images\/emoji\/cat.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/aww-cat.png" class="emoji" alt="(.*?)">/,"").replace(/<img src="\/images\/emoji\/cool-cat.png" class="emoji" alt="(.*?)">/,"")),jn=new Map,Ja=te.object({title:te.string()}),Ga=async t=>{const e=new Map;for(const n of t){const r=jn.get(n);if(r!==void 0){r!==null&&e.set(n,r);continue}const s=await(await An(`https://api.scratch.mit.edu/studios/${n}`)).json(),i=Ja.safeParse(s);if(!i.success){jn.set(n,null);continue}jn.set(n,i.data.title),e.set(n,i.data.title)}return e},He=new Intl.RelativeTimeFormat("en"),Ya=1e3,rr=60,ir=60,or=24,Xa=12,Un=t=>{const e=new Date,r=(t.getTime()-e.getTime())/Ya,s=r/rr,i=s/ir,o=i/or;if(Math.abs(r)<rr)return He.format(Math.trunc(r),"seconds");if(Math.abs(s)<ir)return He.format(Math.trunc(s),"minutes");if(Math.abs(i)<or)return He.format(Math.trunc(i),"hours");let a=t.getFullYear()-e.getFullYear(),c=t.getMonth()-e.getMonth()+Xa*a;return c>0&&t.getDate()<e.getDate()&&c--,c<0&&t.getDate()>e.getDate()&&c++,Math.abs(c)<1?He.format(Math.trunc(o),"days"):(a>0&&(t.getMonth()<e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())&&a--,a<0&&(t.getMonth()>e.getMonth()||t.getMonth()===e.getMonth()&&t.getDate()>e.getDate())&&a++,Math.abs(a)<1?He.format(c,"months"):He.format(a,"years"))},ec="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAACUUlEQVQ4y6WUTUhUURiGn3Eax7mU5HDFscGbC7UpcuEtpR9JEJuGohg3LsaNi4qIsKgWiZgrqUAKJSgYglyMSBAziygdihiI/nFRRBO5qAsW6jRTqXcE09NCumL3mkrf5pzzwXnOd97vPQcs4tyRcsEaIscqKRcWEGlXxX9BahvPoBTN0nNi+5oqMkXPqV1i+vEeEb4QMEBDAzdENHxF/LOSSFeTsUkNtJJKzxLc951Lx+sFQOrTa/QvCdOB65aspHKCVY+AgNA+vkMunEfx5hE6MIlc3CKk2TcgJk0Qm9GRgx6hbN2Nv0rDVyahjc6gePNMG4bfTkJFFzvqDtlMlaj1Tfi3vUR2SwCWAABfmURs+Km1Js3ne22xwYkVBZdcdnTt3vLCyqU1q+pccL+LSHersITo3z6sCiK7HUhTcXMlke5WEWz4Swf7epDKluacHnB6qK3ZyB/PGJDks7vEBie4fP0zyREdAG3+MCfPJtAyJQYj9sLHxavjyMUlPLk/sNidntMNwl+dQfE66Y+OoXidCyI6svjUvUi5i95QNsukvpbCr3HUiinCnS3CFrnWLmqVOLLbQX90jFBjEZLLbtJBz84Z3TH8AiRHpskh9QDZ7aC3L4O/zm0JAIgn0sQTaQMYf56LNjqzcJ3Uj1x6+zK03X5vkz0BEXL/tASplRuQXHaSIzrxVwW03XpoM9neeL3HSsXR0CbiiTR6ds4A6tk5yK+iuf2ObcX/RPHm0T+Uj6ZXo1YujLLbgVS00xJgGeHOFsOJHU1bjHn0ZseyH9RvnLfMpX3tEzMAAAAASUVORK5CYII=",tc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAASCAYAAACuLnWgAAADWklEQVQ4y6VVX2hbVRz+ElJLA8q1DNYuqTn4oi0bSenDKnPtRWxnHTFJGfiywb2l6tNoL7MvMumNteBEaJggWKQ3tUHQikShsNWHG7qXdC9JVFIoaG6wL2VKctUN42o+H7S3tomS6Q8OHO75zu+7v+/35wD/wxRF4ezsLP/LXcqyzFYIgoG2lrCeZh8vPvEVrO1OTs28Dk3TXADw9z8uFAr4/btV3J7vwvGXN/DAJLIs49LZbxEeqOOl918DAL4w0IH61wkH0/NrHcHedgDAUG871KsfMRaLuR4oko2tGoZ627GqHcPKrbsID3RA8robcO/e+BnVe3XEYjEYhkFVVZsSNdwcHh529uUf9lAo38erqSo2tmqHcIXyfaS+EYi/dwOhUAiqqsIwDLZEYtu243Bk/g4eP/cGxrUUZtZOYOXW3QPcvTqi0ShkWYZpmgiFQtA0rbXSkrxu7i76uJ3opizL3LdKpUIhBLcT3aylerid6KYQgiRZKpW4sLBAAGwWjedoWT7d/gUkrxuS1w3LsgAAlmVB0zRMTU1hZUPH1fFHEDjmQfjJH6GqKqrVKoQQTuU1yKUoisOcTqcRHuhwDs8+dgeJxEFVSZLk5OPNz36C5HUj/cmHsCwL+Xwe09PTCAaD0HW9MTeGYTAajTIYaGMt1eOs3UUfg4E2KopCXdcpSRLN9c8Zef4ZPtTmYVfnoxRCMJfL0TRNR1rTNCmEoCzLjfIdJdnb+oAkaRgGJycn+fa1a05+dF13nDSzUqlE0zQJAK79TrZtG8nF69hd9P2p4/Gn4Hn244Nol5aQXFrCzs4OTg8OYmR0FH19fTg9ONigTD6fx/LyMqrVKpLJpMt1NPEn99K4/NzDDSTX/8qNMjGBzWwWm9ksisUiNrNZ+P1++Px+qBMTGBkdBQAkk0kAQNMGFSc6eXu+i7VUD+u/fO+E/+nqKs+PjdG27UOy2LbN82Njh84qlQoTicS/D05JkvjORYm/rZ0jawdOZ65c4dCZM5yLx7l+8ybn4nGGTp3iXDzuYHK5XAPBPw61aDTKUm4Nl8M+xF55C50nXwQAbBWL+HJ93cGNX7gAv9+PTCaDQqGAQCCAo8PS1cq7kclk9okRiUScBi2XyxBCwLIsRCIR9Pf3N/X3B6UQAyT2WO36AAAAAElFTkSuQmCC",nc="/commenstudio/assets/pin-227d1b1d.svg",sc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAPCAYAAAARZmTlAAAD2UlEQVQ4y4WUbUhbZxTHf4lXc2+WaHJ9y4u2uqS6trHqZmSjQ2WU2W0fFtg6JgxWx2Afhgzml0IL28BPhXYfpIWV0X0sGytVGBuhUFy2DpwtUUydbZMpNdG1xrwY440x9u7DXVI61+4PD8/Dw3nO/5zzP8/R8RQkZ75TC9lVMmsrpJNJCirsbXaxsRbDVO2kvKoBa/s7Ov4HjxksTlxQy3fSbG6kiYZDJJfDvPjaAD9f+YZ8PIxtj5u2/kEuj57EIMCR94aJhCMIemhwe9j35sh/EgrFw9T5Y6pRv0Eunye1uoxRr1DX3k02q6DPxjAIYGvxsnhrikoRquudiGaZpeB5jDoFJRnjzuVhVSdIu8h0ANc+61Ltnl5mA+MAWB0uqqwyTQe85DIJRLNcevDXnyGUpFauHb3E3E/nAOh+e5iZyQDr0RAH+gbwfnixRKT75axPlWtkZq770W/ESs729w2wvgXTVy9hEMDT48PqcLF4J0R9jUzDfi+FvIJQIZX2YgCpBzEa23rJZeI8/9G3Ov39WT+1TR5EUSpFLJpl7K1eFm74qTVBpajVPBwMkJ7zE4+FyWUSjJ07yfdffko8GiEejRCLxRBNMs3tvdQ0uLC5DjH51XG1pEnXq++WSAp5hUJeobVdK1cRK7c1PZzuNuZvBqgUQdBDTYOLX8e15ljKP9Li5bc+Jr34O8JKQmHl9hSb2xC8OoK7zYunx8fNgJ8qq4y9pRtTjQOhQsL3yVlSyxEsDhdbikLZlgfRLFPYUkgth6kUtayLsNQ5WCrkESyHfMxfH+OlY8MYXx9AMsvMTAZI3w2QBqKSzJHjpxi/MIIoSRzs6oFykew22A/2YqnTAjj6wSlymSSZtRiFvIJokhEqJJRMgrIrgfkvOmyFz3WpCE2dr2CqcRKcGMewk0Gvg2c7e0is51AWf6NsO0PrYR+3Jq+xFvJzLxyitbufH74eYeVehEw6wTbluDt7qKrfyx8TlxBq27R/Yuv0MR0cI7t+hucO+3jj/WFymQRLswHsLV5uXBsDwFTtRDBIJW3cHi/xaARVSWC2SNidHuytXgBm/ReZC4UYGp/SlXr59GCHGl+YprEKGu0yzS/0U9vsKbXoRnwZ0WylkFeIhkMYBLC3eMluKlRZtdIUA4vOT7HwQOHEj9o/3DUGThy1qA9zKexmkI1g2+PG4nBhtbu1bP5pgiLxdl4TPbkc4f5KjNUsrG7AmcAj308cbqcHO9TY3WmeqQBjBYgCVBoetyk8hM1tyOa1tVUAd2cfQ6MTuicOyKdhdKhPBQgHJ0p3zn0dSCbLLqf/xt9dB50WCfxmLAAAAABJRU5ErkJggg==",Gr=1e3,rc=60,ic=Intl.DateTimeFormat("en",{dateStyle:"short",timeStyle:"short"});function oc(){const[t]=re(fs),[e]=re(Or),[n]=re(Nr),[r,s]=ae([]),[i,o]=ae(0),[a,c]=ae(new Map),[u,d]=ae(null),[l,T]=ae(new Date),_=kt(null);_e(()=>{u&&clearInterval(u),d(setInterval(async()=>{var G;if(T(new Date),i!==0||!n)return;const P=await sr(t,i);if(!(P[0].id!==r[0].id))return;const V=((G=P.map((W,$)=>({...W,index:$})).find(W=>r[0].id===W.id))==null?void 0:G.index)??0,H=P.slice(0,V);console.log(P,r,H),H.forEach(W=>{_.current&&(_.current.innerHTML=Qa(W.content),new Notification(`New comment from ${a.get(W.studio)}`,{body:`${W.author.username}: "${_.current.textContent}"`,icon:W.author.image}))}),s(P)},1.5*rc*Gr))},[t,r,i,n,a]),_e(()=>{(async()=>(s(await sr(t,i)),c(await Ga(new Set(t)))))()},[t,i]);const N=()=>{o(P=>P-1)},q=()=>{o(P=>P+1)};return v("div",{class:"flex flex-col gap-2",children:[v("span",{class:"hidden",ref:_}),v("h2",{class:"text-xl font-bold",children:["Comments (",i===0?v(X,{children:""}):v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:N,children:""})," ",i+1," ",r.length===0?v(X,{children:""}):v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:q,children:""}),")"," ",v("span",{class:"text-base font-normal italic",children:["(Latest update: ",ic.format(l),")"]})]}),e.length===0?null:v("div",{class:"mb-4 space-y-2",children:[" ",e.map((P,U)=>v(is,{...P},U))]}),r.length===0?v("p",{class:"w-full text-lg italic",children:t.length===0?"Add some studio IDs on the left! The comments from them will appear over here.":i===0?"There are no comments here.":"No comments left."}):r.map((P,U)=>v(is,{...P,studioName:a.get(P.studio)??"",showIfPinned:!1},U))]})}function is({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o,showIfPinned:a=!0,reply:c=!1}){const[u]=re(Ir),[d,l]=re(Dr),[T,_]=re(ao),[N,q]=re(Or),[P,U]=ae(!1),V=kt(null),[H,G]=ae(null),W=`https://scratch.mit.edu/users/${r.username}`,ne=Ha(e,{className:"font-bold text-sky-600 dark:text-sky-500 hover:underline",defaultProtocol:"https"}).replace(/&amp;/g,"&").replace(/<img src="\/images\/emoji\/meow.png"/g,`<img src="${tc}"`).replace(/<img src="\/images\/emoji\/gobo.png"/g,`<img src="${ec}"`).replace(/<img src="\/images\/emoji\/waffle.png"/g,`<img src="${sc}"`).replace(/<img src="\/images\/emoji/g,'<img src="https://scratch.mit.edu/images/emoji').replace(/<img/g,'<img class="inline-block max-w-[24px]"'),f=new Date(n),[m,x]=ae(Un(new Date)),y=f.getTime()<=d,S=N.find(O=>O.id===t),C=!!S;if(C&&!a||y&&u)return null;_e(()=>{const O=()=>{x(Un(new Date))};H&&clearInterval(H),G(setInterval(O,Gr)),O()});const k=()=>{U(!P)},A=()=>{l(f.getTime())},B=()=>{if(C){const O=N.indexOf(S);q([...N.slice(0,O),...N.slice(O+1)])}else{const O=[...N];O.push({id:t,content:e,datetime_created:n,author:r,reply_count:s,studio:i,studioName:o}),q(O)}},L=()=>{if(!V.current)return;const O=V.current.value,K={...T};K[t.toString()]=O,console.log(K),_(K)};return v("div",{class:` w-full rounded-xl px-2 py-1 ${c?"bg-stone-200 dark:bg-stone-800":"bg-stone-300 dark:bg-stone-700"} ${y&&!C?"opacity-80":""}`,children:[v("div",{class:"flex items-center gap-2",children:[v("a",{href:W,children:v("img",{class:"h-12 min-h-[theme(spacing.12)] w-12 min-w-[theme(spacing.12)] rounded-lg",src:r.image,alt:`${r.username}'s profile picture`})}),v("div",{class:"w-full",children:[v("span",{class:"flex items-center gap-2",children:[C?v("img",{class:"inline-block h-4 w-4",src:nc,title:"Pinned",alt:"Pin emoji"}):null,v("a",{href:W,class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:r.username}),c?null:v("span",{class:"italic",children:o})]}),v("p",{dangerouslySetInnerHTML:{__html:ne},style:{overflowWrap:"anywhere"}}),c?null:v(X,{children:[s===0?"No replies":v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:k,children:[P?"Hide":"Show"," replies (",s,"/25)"]})," ","-"," ",y?"Read":v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:A,children:"Mark as read"})," ","-"," ",v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:B,children:C?"Unpin":"Pin"}),C?v("input",{class:"ml-2 rounded-xl bg-stone-200 px-2 py-1 dark:bg-stone-800",placeholder:"Pin reason",onChange:L,value:T[t]??"",ref:V}):null]}),v("span",{class:"float-right",children:[v("span",{title:f.toISOString(),children:Un(f)})," ","-"," ",v("a",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",href:`https://scratch.mit.edu/studios/${i}/comments#comments-${t}`,target:"_blank",children:"View on Scratch"})]})]})]}),P?v("div",{class:"ml-4 mt-2 space-y-1",children:v(ac,{id:t,studio:i,studioName:o})}):null]})}function ac({id:t,studio:e,studioName:n}){const[r,s]=ae([]);return _e(()=>{(async()=>s(await qa(e,t)))()},[]),v(X,{children:r.map(i=>v(is,{...i,studioName:n,reply:!0}))})}function cc(){return v(X,{children:[v("header",{class:"mb-2 flex items-center justify-between gap-2",children:[v("nav",{class:"flex items-center gap-2",children:[v("h1",{class:"inline-block text-3xl font-bold",children:"Commenstudio"}),v("a",{href:"https://github.com/mybearworld/commenstudio",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Github"}),v("a",{href:"https://scratch.mit.edu/discuss/topic/717430",class:"font-bold text-sky-600 hover:underline dark:text-sky-500",children:"Topic"})]}),v(uc,{})]}),v("div",{class:"flex max-w-full gap-8",children:[v("div",{class:"min-w-[theme(spacing.48)]",children:[v(ua,{}),v("div",{class:"mt-4 flex flex-col items-start",children:[v(lc,{}),v(dc,{}),v(fc,{})]})]}),v("div",{class:"flex-1",children:v(oc,{})})]})]})}function uc(){const[t,e]=re(oo);return _e(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",onClick:()=>{e(!t)},children:t?"Light mode":"Dark mode"})}function lc(){const[t,e]=re(Dr);return v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:()=>{confirm("Are you sure you want to reset your read date? Every comment will appear as unread if you do this.")&&e(0)},children:"Reset read date"})}function dc(){const[t,e]=re(Nr);return _e(()=>{Notification.permission==="granted"&&e(!0)},[]),v(X,{children:t?null:v("button",{class:"font-bold text-sky-600 hover:underline dark:text-sky-500",type:"button",onClick:async()=>{await Notification.requestPermission()==="granted"&&(console.log("cool"),e(!0))},children:"Enable notifications"})})}function fc(){const[t,e]=re(Ir),n=kt(null);return v("label",{children:["Hide read comments:",v("input",{type:"checkbox",class:"ml-2",onClick:()=>{n.current&&e(n.current.checked)},checked:t,ref:n})]})}Fe(v(cc,{}),document.getElementById("app"));
